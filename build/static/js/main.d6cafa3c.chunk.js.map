{"version":3,"sources":["components/Navegacion_Admin/Sidebar.js","context/admincontext.js","components/Layout_admin/LayoutAdmin.js","config/axios.js","config/aws.js","components/Navegacion/RightMenu.js","context/carritoContext.js","components/Categorias/Categorias.js","components/Navegacion/Navegacion.js","components/Footer/Footer.js","components/Layout/Layout.js","components/Spin.js","pages/admin/Principal/services/RegistroTienda/politicas_envio.js","pages/admin/Principal/services/RegistroTienda/registroPoliticas.js","pages/admin/Principal/services/RegistroTienda/cobertura_envios.js","pages/admin/Principal/services/RegistroTienda/RegistroTienda.js","pages/admin/Principal/services/RegistroTienda/MostrarRegistroTienda.js","pages/admin/Principal/principal.js","pages/admin/contexts/ProductoContext.js","pages/admin/Productos/services/registrar_galeria.js","pages/admin/Productos/services/registrar_talla.js","pages/admin/Productos/services/registrar_numero.js","pages/admin/Productos/services/registrar_producto.js","pages/admin/Productos/services/actualizar_galeria.js","pages/admin/Productos/services/actualizar_talla.js","pages/admin/Productos/services/actualizar_numero.js","pages/admin/Productos/services/actualizar_producto.js","components/Pagination/pagination.js","config/reuserFunction.js","pages/admin/Productos/productos.js","pages/admin/Pedidos/detalles_pedido.js","pages/admin/Pedidos/estado_pedido.js","pages/admin/Pedidos/pedidos.js","pages/admin/Promociones/promos_normales/services/registrar_promocion.js","pages/admin/Promociones/promos_normales/services/actualizar_promocion.js","pages/admin/Promociones/promos_normales/promociones.js","pages/admin/Promociones/promos_masivas/registrar_promocion_masiva.js","pages/admin/Promociones/promos_masivas/promo_masiva.js","pages/admin/Promociones/promociones_principal.js","pages/admin/Apartado/services/MostrarDatosTargeta.js","pages/admin/Apartado/services/DetalleApartado.js","pages/admin/Apartado/services/MostrarDatosMultiplesTarjeta.js","pages/admin/Apartado/apartado.js","components/excel.js","pages/admin/Inventario/tablas_inventarios/inventario_otros.js","pages/admin/Inventario/tablas_inventarios/inventario_tallas.js","pages/admin/Inventario/tablas_inventarios/inventario_numeros.js","pages/admin/Inventario/inventario.js","pages/admin/Sugerencias/services/sugerencia.js","pages/admin/Sugerencias/sugerencias.js","pages/admin/Carousel/services/carousel.js","pages/admin/Carousel/carousel.js","pages/admin/Publicidad/services/tipoBanner.js","pages/admin/Publicidad/publicidad.js","pages/admin/Blog/services/blogList.js","pages/admin/contexts/BlogContext.js","pages/admin/Blog/services/ActualizarBlog.js","pages/admin/Blog/services/RegistrarBlog.js","pages/admin/Blog/blog.js","pages/admin/Clientes/consutaExcel.js","pages/admin/Clientes/clientes.js","pages/users/BannerPromociones/BannerOrientacion/imagenBanner.js","pages/users/Productos/Card_Secundaria/card_secundaria.js","pages/users/Productos/Cards_Normales/card_producto_frente.js","pages/users/BannerPromociones/cardsProductos.js","pages/users/BannerPromociones/BannerOrientacion/banner_orientacion.js","pages/users/BannerPromociones/BannerLargo/BannerLargo.js","pages/users/BannerPromociones/BannerCuadrados/bannerDoble.js","pages/users/BannerPromociones/BannerCuadrados/bannerTriple.js","pages/users/BannerPromociones/bannerPromocionales.js","pages/admin/Publicidad/services/previewBanner.js","pages/admin/Publicidad/services/registro.js","pages/users/Carusel_ofertas/carousel.js","pages/users/Productos/Card_Grande/componente_producto_grande.js","pages/users/Ofertas/ofertasHome.js","pages/users/Datos_tienda/banner_informativo.js","pages/users/BannerPromociones/consultaBanners.js","pages/users/Ofertas/OfertasHome/ofertasIzquierda.js","pages/users/Ofertas/OfertasHome/ofertasDerecha.js","pages/users/Ofertas/OfertasHome/ofertasCentro.js","pages/users/Registro/registro.js","pages/users/Login/login.js","config/firebase.js","components/Firebase/firebase.js","pages/users/Inicio_sesion/entrar.js","pages/users/Carrito/context_carrito/context-carrito.js","pages/users/Carrito/services/pedido_carrito.js","pages/users/Carrito/services/apartado_carrito.js","pages/users/Carrito/services/consultasCarrito.js","pages/users/Carrito/services/consultas_individuales.js","pages/users/Carrito/modal_apartado.js","pages/users/Carrito/verificarArticulos.js","pages/users/Carrito/lista_carrito.js","pages/users/Carrito/services/obtenerStock.js","pages/users/Carrito/MostrarDatosCarrito.js","pages/users/Productos/Cards_Normales/card_producto.js","pages/users/Productos/consulta_productos.js","pages/users/Productos/productos.js","pages/users/Blogs/services/BlogList.js","pages/users/Blogs/services/ShowBlog.js","pages/users/Blogs/blog.js","pages/users/Pedidos/detalles.js","pages/users/Pedidos/detalleApartado.js","pages/users/Pedidos/apartadoMultiple.js","pages/users/Pedidos/pedidos.js","pages/users/Ofertas/ofertas.js","pages/users/Resultado_Busqueda/resultado_busqueda.js","pages/users/Perfiles/service/ActualizarUsuario.js","pages/users/Confirmacion_compra/services/traer_datos.js","pages/users/Confirmacion_compra/services/Verificacion_Tarjeta.js","pages/users/Confirmacion_compra/services/traer_pedido.js","pages/users/Confirmacion_compra/services/Confirmacion_Final.js","pages/users/Confirmacion_compra/services/tipo_pago.js","pages/users/Confirmacion_compra/confirmacion_compra.js","pages/users/Politicas/politicas.js","pages/users/Vista_Producto/subs/scroll.js","pages/users/Vista_Producto/subs/servicesSugerencia.js","pages/users/Consulta_covertura/estados_disponibles.js","pages/users/Vista_Producto/subs/sugerencia.js","pages/users/Vista_Producto/Galeria_tienda/galeria.js","pages/users/Vista_Producto/subs/services.js","pages/users/Vista_Producto/subs/cantidades_y_tallas.js","pages/users/Vista_Producto/Info_tienda/info-tienda.js","pages/users/Consulta_covertura/envio_general.js","pages/users/Vista_Producto/vista_producto.js","components/BusquedaCategorias/busqueda_categorias.js","pages/users/error404.js","components/Recuperar_pass/Recuperar_pass.js","config/routes.js","pages/users/home.js","pages/users/Quienes_somos/quienes_somos.js","pages/users/Carrito/shopping_cart.js","pages/users/Resultado_Busqueda/404.js","pages/users/Perfiles/perfiles.js","pages/users/error500.js","pages/users/Success/success.js","pages/users/Success/error.js","App.js","index.js","pages/admin/Publicidad/imagenes/especial2.png","pages/admin/Publicidad/imagenes/especial3.png","pages/admin/Publicidad/imagenes/estilo3.png","pages/admin/Publicidad/imagenes/estilo1.png","pages/admin/Publicidad/imagenes/estilo5.png","pages/admin/Publicidad/imagenes/estilo6.png","pages/admin/Publicidad/imagenes/estilo2.png","pages/admin/Publicidad/imagenes/estilo4.png","pages/admin/Publicidad/imagenes/especial1.png","pages/users/Confirmacion_compra/img/logos/visa.png","pages/users/Confirmacion_compra/img/logos/mastercard.png","pages/users/Confirmacion_compra/img/chip-tarjeta.png"],"names":["Sider","Layout","token","localStorage","getItem","rol","JSON","parse","atob","split","e","parseJwt","withRouter","props","style","height","breakpoint","collapsedWidth","onBreakpoint","broken","onCollapse","collapsed","type","className","theme","mode","defaultSelectedKeys","window","location","pathname","Item","key","icon","FundOutlined","to","TeamOutlined","AppstoreAddOutlined","FormOutlined","TagOutlined","ShoppingCartOutlined","PercentageOutlined","NotificationOutlined","PictureOutlined","EditOutlined","HomeOutlined","PoweroffOutlined","onClick","removeItem","history","push","danger","BannerContext","createContext","BannerProvider","children","useState","actualizarDatos","setActualizarDatos","reload","setReload","Provider","value","LoadRoutes","routes","map","route","index","path","exact","component","clienteAxios","axios","create","baseURL","process","aws","SubMenu","Menu","RightMenu","decoded","jwt_decode","Jwt","ofertas","tienda","length","imagen","imagenFireBase","size","src","backgroundColor","nombre","charAt","SettingOutlined","firebase","signOut","setTimeout","LogoutOutlined","MenuContext","MenuProvider","active","setActive","loading","setLoading","reloadFilter","setReloadFilter","categorias","setCategorias","_id","generos","setGeneros","temporadas","setTemporadas","useContext","categoriaSeleccionada","setCategoriaSeleccionada","subcategoriaSeleccionada","setSubcategoriaSeleccionada","temporadaSeleccionada","setTemporadaSeleccionada","generoSeleccionado","setGeneroSeleccionado","useEffect","obtenerCategorias","obtenerGeneros","obtenerTemporadas","limpiarFiltros","a","get","headers","Authorization","then","res","data","scrollTo","catch","err","categorias_nav","categoria","title","onTitleClick","subcCategoria","sub","temporada","triggerSubMenuAction","Search","Input","Header","visible","setVisible","setTienda","carrito","setCarrito","setOfertas","articulos","idarticulo","activo","eliminado","filter","arr","forEach","datos","obtenerOfertas","obtenerQuienesSomos","obtenerCarrito","tip","inlineindent","imagenLogo","alt","count","ShoppingOutlined","fontSize","UserOutlined","MenuOutlined","placeholder","onSearch","placement","closable","onClose","Footer","FooterPage","face","setFace","insta","setInsta","twitter","setTwitter","setImagenCorp","telefono","setTelefono","direccion","setDireccion","accion","setAccion","console","log","imagenCorp","linkFace","linkInsta","linkTweeter","categorias_foot","end","id","PhoneOutlined","marginLeft","fontWeight","calle_numero","colonia","ciudad","estado","href","target","rel","FacebookFilled","color","InstagramFilled","TwitterCircleFilled","diasHorariosEmpresas","dangerouslySetInnerHTML","__html","columnCount","politicas","KeyOutlined","politicasDescuentos","politicasDevolucion","politicasVentas","politicasEnvios","Spinner","spinning","PoliticasEnvio","setCurrent","current","next","datosNegocio","setDatosNegocio","reloadInfo","setReloadInfo","disabled","setDisabled","setDatos","control","setControl","idTienda","setIdTienda","Form","useForm","form","setFieldsValue","costoEnvio","promocionEnvio","descuento","response","notification","error","message","description","duration","post","idAdministrador","success","put","obtenerDatos","showIcon","onFinish","label","onChange","name","wrapperCol","span","offset","help","suffix","htmlType","PlusCircleOutlined","Registro_Politicas","undefined","valuePropName","noStyle","init","menubar","plugins","toolbar","onEditorChange","content","editor","consultaEstados","Cobertura_envios","confirm","Modal","Option","Select","Column","Table","municipioGuardado","setMunicipioGuardado","idEstado","setIdEstado","todos","setTodos","municipiosApi","setMunicipiosApi","estadosApi","setEstadoApi","setValue","dataEstados","setDataEstados","setEstado","errors","covertura","setCovertura","selectedRowKeys","setSelectedRowKeys","rowSelection","parametros","listaMun","getCheckboxProps","municipio","onSelect","record","selected","selectedRows","onSelectAll","selectMunicipio","datosApiMunicipios","municipios","arrayMunicipio","i","enviarDatos","nuevoEstado","limpiar","traerDatos","todo","listaMunicipios","checkearChecks","checked","width","state","ExclamationCircleOutlined","okText","okType","cancelText","onOk","delete","textAlign","dataSource","rowKey","scroll","y","pagination","DeleteOutlined","RegistroTienda","drawnerClose","steps","Step","Steps","upload","setUpload","files","setFiles","setImagen","cp","propss","listType","beforeUpload","file","reader","FileReader","readAsDataURL","onload","thumbUrl","result","onRemove","SendForm","formData","FormData","append","info","UploadOutlined","labelCol","rules","required","item","status","AlertTienda","action","setAction","politicasEnvio","setPoliticasEnvio","obtenerPoliticasEnvio","useCallback","screen","bodyStyle","paddingBottom","footer","margin","lineHeight","image","EyeOutlined","Helmet","charSet","ProductoContext","IdProductoContext","RegistrarGaleria","productoContext","galeria","setGaleria","subirBD","obtenerBD","imagenes","eliminarBD","idimagen","prev","setPrev","render","url","RegistrarTalla","disabledForm","disabledButtons","productos","setProductos","talla","cantidad","datosForm","subirTalla","resul","tallas","find","element","obtenerTalla","resetFields","eliminarTalla","idtalla","minWidth","gutter","RegistrarNumero","numero","subirNumero","numeros","obtenerNumero","eliminarNumero","idnumero","layout","String","prototype","capitalize","this","toUpperCase","slice","formRef","useRef","setCloseDraw","closeDraw","setEditor","disabledPrev","setDisabledPrev","disabledform","setDisabledForm","disabledformProductos","setDisabledFormProductos","loadingCombo","setLoadingCombo","reloadProductos","setItem","buttonCat","setButtonCat","categoriasBD","setCategoriasBD","categoriasDefault","setCategoriasDefault","subcategoriasDefault","setSubcategoriasDefault","subCategoriasBD","setSubCategoriasBD","subCategoria","setSubCategoria","displayColorPicker","setDisplayColorPicker","setColor","valueSelect","setValueSelect","valueSelectSubCat","setValueSelectSubCat","temporadasBD","setTemporadasBD","styles","reactCSS","default","borderRadius","background","swatch","padding","boxShadow","display","cursor","popover","position","zIndex","cover","top","right","bottom","left","setSelect","obtenerTemporadasBD","obtenerSubcategorias","codigo","precio","select","genero","setGenero","tipoCategoria","setTipoCategoria","productoID","setProductoID","userStored","addItemSubCategoria","onSubCategoriaChange","setTemporada","valueSelectTemporada","setValueSelectTemporada","temporadaDefault","setTemporadaDefault","onTemporadaChange","addItemTemporada","Group","Button","dropdownRender","menu","onFinishFailed","errorFields","initialValues","ref","flexWrap","flex","PlusOutlined","min","step","compact","hex","existeGaleria","setExisteGaleria","idImagen","setIdImagen","antprops","propsActualizar","actualizarBD","formdata","ActualizarTalla","idTalla","setIdTalla","showZero","idTallas","ActualizarNumero","idNumero","setIdNumero","rellenarCampos","TabPane","Tabs","ActualizarProducto","valueSelectCat","setValueSelectCat","itemCat","setItemCat","descripcion","colorHex","obtenerValores","onCategoriaChange","addItemCategoria","subirDatos","defaultActiveKey","tab","blogs","limite","currentPage","parseInt","page","defaultCurrent","total","totalDocs","newPage","onChangePage","defaultPageSize","formatoMexico","number","parseFloat","toFixed","toString","replace","formatoFecha","fecha","Date","toLocaleDateString","weekday","year","month","day","formatoHora","hora","toLocaleTimeString","hour12","agregarPorcentaje","precio_descuento","precio_producto","Math","round","gridStyle","marginBottom","queryString","search","productosRender","setProductosRender","reloadData","setReloadData","visibleButton","setVisibleButton","eventoCloseConfirm","obtenerProductosFiltrados","busqueda","obtenerProductos","posts","limit","docs","Grid","hoverable","maxHeight","actions","idproducto","promocion","promo","precioPromocion","forceRender","justify","enterButton","RollbackOutlined","maxWidth","subTitle","DetallesPedido","pedido","datosDetalle","createdAt","fecha_envio","tipo_pago","estado_pedido","pagado","cliente","email","producto","toLowerCase","TextArea","EstadoPedido","handleCancelEstado","IDpedido","datosPedido","setPedido","pedidoID","entregado","setEntregado","obtenerPedido","cambiarEstado","mensaje_admin","paqueteria","codigo_seguimiento","orientation","overlay","DownOutlined","rows","Meta","Card","pedidos","setPedidos","pedidosPaginacion","setPedidosPaginacion","estadoVisible","setEstadoVisible","detallePedido","setDetallePedido","obtenerPedidos","obtenerPedidosFiltrados","filtro","ContainerOutlined","defaultValue","onCancel","demo","overflow","RegistrarPromocion","setContent","setData","hasMore","setHasMore","setPage","setTotalDocs","loadingList","setLoadingList","loadingSelect","setLoadingSelect","setProducto","setPromocion","setPrecioPromocion","disabledSumit","setDisabledSumit","validateStatus","setValidateStatus","inputValue","setInputValue","categoriasDB","setCategoriasDB","setCategoria","subcategoriasDB","setSubcategoriasDB","subcategoria","setSubcategoria","generosDB","setGenerosDB","nextPage","callback","propsUpload","formDataImagen","subirImagen","promocionBase","imagenPromocion","subirPromocion","obtenerFiltrosDivididos","cat","gen","ClearOutlined","initialLoad","pageStart","loadMore","concat","useWindow","threshold","renderItem","avatar","max","tipFormatter","porcentaje","marks","0","50","100","prefix","ActualizarPromocion","obtenerPromocion","obtenerCampo","antDprops","antDpropsActualizar","actualizarImagen","productoPromocion","eliminarImagen","actualizarPromocion","tooltipVisible","setSearch","productosFiltrados","setProductosFiltrados","includes","idProducto","showDeleteConfirm","eliminarPromocion","RegistroPromocionMasiva","dataPromocion","setDataPromocion","actualizar","setActualizar","promoMasiva","showDrawer","setPromocionMasiva","checks","listaBD","limpiarChecks","columns","dataIndex","promocionMasiva","hasSelected","listaIDs","idPromocionMasiva","porsentajePromocionMasiva","listaPromosActuales","listaPromosData","listaPromociones","marginRight","maxCount","maxStyle","PromoMasivaPrincipal","setPromo","obtenerPromosMasivas","eliminarPromocionMasiva","idPromoMasiva","itemLayout","actualizarActive","productosPromoMasiva","MostrarDatosTargeta","setDetalleApartado","showModal","apartado","apellido","tipoEntrega","Text","Typography","DetalleApartado","multiple","detalleApartado","selectEstado","setSelectEstado","setpromocion","datosEnvio","setdatosEnvio","apartadoMultiple","productosMultiple","ProductosMultiple","monstrarInformacionBlog","mensajeUser","guardarEstadoApartado","entre_calles","pais","medida","MostrarDatosMultipleTargeta","apartados","setApartados","apartadoPaginacion","setApartadoPaginacion","setFilter","GetDataFromExcelJusTInput","hojas","setHojas","fileList","setFileList","uploading","setUploading","propsUlpload","readAsArrayBuffer","onloadend","Uint8Array","workbook","XLSX","SheetNames","sheetName","XL_row_object","sheet_to_row_object_array","Sheets","setCantidad","idSeleccionado","setIdSeleccionado","obtenerValor","actualizarCantidad","warning","text","overflowCount","MinusOutlined","x","idTallaSeleccionada","setIdTallaSeleccionada","setTalla","obtenerTallas","idNumeroSeleccionada","setIdNumeroSeleccionada","setNumero","match","params","otros","tabs","searchBar","tabBarExtraContent","Sugerencia","sugerencia","setSugerencia","productoSugerido","setProductoSugerido","modalVisible","setModalVisible","obtenerProducto","obtenerSugerencia","obtenerTodosProductos","sugerencias","crearSugerencia","actualizarSugerencia","eliminarSugerencia","CloseOutlined","CheckOutlined","productosPaginacion","setProductosPaginacion","visibleReload","setVisibleReload","CarouselImages","imagenPreview","setImagenPreview","nombreImagen","setNombreImagen","antdProps","crearCarousel","obtenerNombreImagen","modalCrearVisible","setModalCrearVisible","obtenerCarouseles","carouselID","carousel","centered","Panel","Collapse","loadingBackDrop","setLoadingBackDrop","crearBannerBD","estilo","publicado","ghost","showArrow","header","ImagenEstilo1","ImagenEstilo3","ImagenEstilo5","ImagenEstilo6","CollapseBanners","banner","publicarBanner","banners","orientacion","ImagenEstilo4","ImagenEstilo2","elementos","array","borderColor","ImagenEspecial1","ImagenEspecial2","ImagenEspecial3","imagenBanner","tipo","vincular","CheckSquareOutlined","CloseSquareOutlined","mostrarTitulo","mostrarProductos","blogList","setReloadBlog","setInfoBlog","deleteBlog","blog","Blog","administrador","BlogContext","ActualizarBlog","blogContext","urlGuion","obtenerUrl","trim","RegistrarBlog","blogData","setBlogData","processPost","hide","setBlogs","reloadBlog","infoBlog","getBlogsApi","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","consulta","setConsulta","obtenerConsulta","clientes","filename","Clientes","setClientes","clientesPaginados","setClientesPaginados","obtenerClientes","obtenerClientesFiltrados","Imagen_Banner","link","imagenLocal","CardSecundaria","bordered","Card_Producto_Frente","DOMPurify","sanitize","CardsProductos","Banner_Orientacion","subBanner","BgElement","Element","animation","opacity","delay","autoPlay","prefixCls","backgroundImage","Banner_Promocionales","PreviewBanner","previewImage","array_banner","getBase64","Promise","resolve","reject","onerror","carousels","setCarousels","obtenerCarousel","ComponenteProductoGrande","shape","BannerInformativo","setBanners","obtenerBanner","tailLayout","values","vista","remember","Password","validator","_","mostrarDiv","setMostrarDiv","mostrarMensaje","setmostrarMensaje","onRecuperar","apiKey","authDomain","databaseURL","REACT_APP_FIREBASE_DATA_BASE_URL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseConfig","Firebase","user","setUser","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","valores","contrasena","onAuthStateChanged","displayname","displayName","uid","photoURL","uiCallback","ui","disableAutoSignIn","firebaseAuth","CarritoContext","CarritoProvider","activador","setActivador","validacion","setValidacion","idcliente","nuevo","subtotal","ApartadoCarrito","modal","setApartadoMultiple","setTotal","tipoEnvio","apartadoMultipleCompleto","apartarCarrito","articulo","ModalApartado","handleOk","AgregarApartado","verificarArticulos","ListaCarrito","setMedida","disponible","setDisponible","medidaDisponible","setMedidaDisponible","setPrecio","setEliminado","cantidadChange","comprar","AgregarPedido","eliminar","EliminarArticuloCarrito","tallaCantidad","numeroCantidad","verificar","obtenerSubtotal","AlertOutlined","setCliente","nuevoCarrito","setNuevoCarrito","crearPedido","AgregarPedidoCarrito","obtenerDatosCarrito","obtenerStockCarrito","extra","Card_Producto","ConsultaProductos","propiedades","Productos","BlogList","BlogsList2","ShowBlog","ObtenerBlog","useParams","Producto","faBus","paddingLeft","paddingRight","ApartadoMultiple","setElige","deleteApartado","Pedido","Apartado","ResultadoBusqueda","ActualizarUsuario","datosUser","setAvatar","enviarFile","setEnviarFile","datosFormulario","setdatosFormulario","password","setPassword","contrasenaActual","repeatContrasena","tipoSesion","preview","datosPassword","UploadAvatar","onDrop","acceptedFiles","URL","createObjectURL","useDropzone","accept","noKeyboard","getRootProps","getInputProps","isDragActive","consultaCodigos","Traer_datos","setDatosActualizados","envioRechadazo","setEnvioRechazado","envioTotal","setEnvioTotal","alertRechazo","setAlertRechazo","envios","faUser","Verificacion_Tarjeta","setIdPago","stripePromise","loadStripe","stripe","CheckoutForm","useStripe","elements","useElements","setName","postal","setPostal","typeCard","setTypeCard","numbrerCard","setNumbrerCard","dateCard1","setDateCard1","dateCard2","setDateCard2","activeCard","setActiveCard","controlClick","setcontrolClick","cvvCard","setCvvCard","handleSubmit","cardElement","getElement","CardNumberElement","createPaymentMethod","card","billing_details","address","postal_code","payload","paymentMethod","img_visa","img_mastercard","chip_tarjeta","htmlFor","brand","complete","cardOnChage","letterSpacing","onFocus","cardDateOnChange","cvvChange","Traer_pedido","pedidoCompleto","Confirmacion_Final","idPago","datosActualizados","pagoTarjeta","setDatosEnvio","traerCostosEnvio","crearPagoEnEfectivo","newPedido","datosPago","crearPago","centavo","sesionStripe","amount","code","faTruck","faCcVisa","faCcMastercard","funding","last4","exp_month","exp_year","TipoPago","setPagoTarjeta","Politicas","setPoliticas","Scroll","categoriaProducto","categoriaSugerencia","cantidadProducto","cantidadSugerencia","medidaProducto","medidaSugerencia","precioProducto","precioSugerencia","Estados_disponibles","estados","setProductoPromocion","cantidadFinalProducto","setCantidadFinalProducto","disponibilidad","setDisponibilidad","sugerenciaPromocion","setSugerenciaPromocion","validateStatusSug","setValidateStatusSug","setMedidaSugerencia","cantidadFinalSugerencia","setCantidadFinalSugerencia","setDisponibilidadSugerencia","promocionProducto","promocionSugerencia","productoPrecio","sugerenciaPrecio","showConfirm","IssuesCloseOutlined","obtenerDisponibilidad","justifyContent","Galeria","setCount","original","thumbnail","imagenZoom","setImagenZoom","galery","showPlayButton","showNav","showFullscreenButton","ReactImageMagnify","propiedadesImageMagnify","onThumbnailClick","disableKeyDown","obtenerImagen","obtenerGaleria","setZoomHeight","setZoomWidth","img","Image","naturalWidth","naturalHeight","smallImage","isFluidWidth","largeImage","enlargedImagePortalId","items","AgregarCarrito","formItemLayout","xs","sm","setTallas","setNumeros","setRender","cantidadFinal","setCantidadFinal","obtenerTienda","modalMensaje","WhatsAppOutlined","okButtonProps","CoffeeOutlined","Carrito","Envio_General","CheckCircleFilled","readMore","setReadMore","setCostoEnvio","OnClickReadMore","CreditCardOutlined","BusquedaCategorias","resultado","setResultado","todosProductos","setTodosProductos","temp","obtenerTodos","separator","Error404","FormResetPass","mostrarError","Content","minHeight","AdminHome","RegistrarProductos","Pedidos","SistemaApartado","Inventario","BlogAdmin","Sugerencias","Carousel","bannerBD","setBannerBD","bannerSeleccionado","setBannerSeleccionado","obtenerBannersBD","eliminarBanner","renderBanners","idBanner","generosBD","setGenerosBD","bannerRender","setBannerRender","disabledCheck","setDisabledCheck","disabledReg3","setDisabledReg3","saveAndPublish","setSaveAndPublish","openPreview","setOpenPreview","setPreviewImage","previewTitle","setPreviewTitle","limpiarCampos","uploadProps","onPreview","originFileObj","substring","lastIndexOf","obtenerOrientacion","obtenerChecks","llenarCampos","obtenerBannerBD","options","border","hideRequiredMark","marginTop","idRecuperacion","setmostrarError","acceso","setAcceso","cambiarEstadoPass","confirmPassword","Entrar","Elige","showInfo","setshowInfo","obtenerApartados","Ofertas","VistaProducto","setDatosUser","obtenerDatosUser","setPedidoCompleto","avatar_productos","nombre_productos","App","RoutesWithSubRoutes","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d6cafa3c.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Layout, Menu, Button } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './sidebar.scss';\r\nimport {\r\n\tFundOutlined,\r\n\tAppstoreAddOutlined,\r\n\tFormOutlined,\r\n\tPoweroffOutlined,\r\n\tTagOutlined,\r\n\tShoppingCartOutlined,\r\n\tNotificationOutlined,\r\n\tPercentageOutlined,\r\n\tPictureOutlined,\r\n\tEditOutlined,\r\n\tHomeOutlined,\r\n\tTeamOutlined\r\n} from '@ant-design/icons';\r\n\r\nconst { Sider } = Layout;\r\nconst token = localStorage.getItem('token');\r\nconst rol = parseJwt(token);\r\n\r\nfunction parseJwt(token) {\r\n\ttry {\r\n\t\treturn JSON.parse(atob(token.split('.')[1]));\r\n\t} catch (e) {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nconst Sidebar = (props) => {\r\n\treturn (\r\n\t\t<Sider\r\n\t\t\tstyle={{ height: '100vh' }}\r\n\t\t\tbreakpoint=\"lg\"\r\n\t\t\tcollapsedWidth=\"0\"\r\n\t\t\tonBreakpoint={(broken) => {\r\n\t\t\t\t/* console.log(broken); */\r\n\t\t\t}}\r\n\t\t\tonCollapse={(collapsed, type) => {\r\n\t\t\t\t/* console.log(collapsed, type); */\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"ml-1\">\r\n\t\t\t\t\t<h6 className=\"text-white\">Bienvenido</h6>\r\n\t\t\t\t\t{token ? <h5 className=\"text-white\">{rol['nombre']}</h5> : <div />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[ window.location.pathname ]}>\r\n\t\t\t\t<Menu.Item key=\"/admin\" icon={<FundOutlined />}>\r\n\t\t\t\t\tPanel principal<Link to=\"/admin\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/clientes\" icon={<TeamOutlined />}>\r\n\t\t\t\t\tClientes<Link to=\"/admin/clientes\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/productos\" icon={<AppstoreAddOutlined />}>\r\n\t\t\t\t\tProductos<Link to=\"/admin/productos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/inventario\" icon={<FormOutlined />}>\r\n\t\t\t\t\tInventario<Link to=\"/admin/inventario\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/sistema_apartado\" icon={<TagOutlined />}>\r\n\t\t\t\t\tSistema de Apartado<Link to=\"/admin/sistema_apartado\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/pedidos\" icon={<ShoppingCartOutlined />}>\r\n\t\t\t\t\tPedidos Pendientes<Link to=\"/admin/pedidos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/promociones\" icon={<PercentageOutlined />}>\r\n\t\t\t\t\tPromociones<Link to=\"/admin/promociones\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/sugerencias\" icon={<NotificationOutlined />}>\r\n\t\t\t\t\tSugerencias de compra<Link to=\"/admin/sugerencias\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/carousel\" icon={<PictureOutlined />}>\r\n\t\t\t\t\tBanner principal<Link to=\"/admin/carousel\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/publicidad\" icon={<PictureOutlined />}>\r\n\t\t\t\t\tPublicidad<Link to=\"/admin/publicidad\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/blog\" icon={<EditOutlined />}>\r\n\t\t\t\t\tBlog<Link to=\"/admin/blog\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item icon={<HomeOutlined />}>\r\n\t\t\t\t\tPagina principal<Link to=\"/\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item icon={<PoweroffOutlined />}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCerrar Sesión\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t</Menu>\r\n\t\t</Sider>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Sidebar);\r\n","import React, { createContext, useState } from \"react\"\r\n\r\nexport const BannerContext = createContext()\r\n\r\nexport const BannerProvider = ({ children }) => {\r\n  const [actualizarDatos, setActualizarDatos] = useState(false);\r\n  const [reload, setReload] = useState(true);\r\n  return (\r\n    <BannerContext.Provider value={{ actualizarDatos, setActualizarDatos, reload, setReload}}>\r\n      {children}\r\n    </BannerContext.Provider>\r\n  );\r\n};","import React, { Fragment } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Sidebar from '../Navegacion_Admin/Sidebar';\r\nimport { Layout, Breadcrumb } from 'antd';\r\nimport './layoutAdmin.scss';\r\nimport { BannerProvider } from '../../context/admincontext';\r\n\r\nexport default function LayoutAdmin(props) {\r\n\tconst { routes } = props;\r\n\tconst { Header, Content } = Layout;\r\n\tconst path = window.location.pathname.split('/');\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Layout>\r\n\t\t\t\t<Sidebar />\r\n\t\t\t\t<Layout className=\"site-layout\">\r\n\t\t\t\t\t<Header className=\"breadcrumb-head site-layout-background bg-white\" style={{ padding: 0 }}>\r\n\t\t\t\t\t\t<Breadcrumb style={{ margin: '16px 16px' }}>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item>{path[1]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item>{path[2]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item>{path[3]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t\t</Header>\r\n\t\t\t\t\t<BannerProvider>\r\n\t\t\t\t\t\t<Content style={{ margin: '24px 16px 0' }}>\r\n\t\t\t\t\t\t\t<div className=\"site-layout-background bg-white\" style={{ padding: 24, minHeight: 360 }}>\r\n\t\t\t\t\t\t\t\t<LoadRoutes routes={routes} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t</BannerProvider>\r\n\t\t\t\t</Layout>\r\n\t\t\t</Layout>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nfunction LoadRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route key={index} path={route.path} exact={route.exact} component={route.component} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import axios from 'axios'\r\n\r\nconst clienteAxios = axios.create({\r\n    baseURL : process.env.REACT_APP_AXIOS\r\n})\r\n\r\n\r\nexport default clienteAxios","import 'dotenv';\r\n\r\nconst aws = process.env.REACT_APP_AWS;\r\n\r\nexport default aws","import React from 'react';\r\nimport { Menu, Avatar } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport * as firebase from 'firebase/app';\r\nimport './navegacion.scss';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport { LogoutOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport aws from '../../config/aws';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nfunction RightMenu(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\tconst { ofertas, tienda } = props;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Menu defaultSelectedKeys={[ window.location.pathname ]} className=\"navbar-menu-draw font-foot\">\r\n\t\t\t<Menu.Item key=\"/\" className=\" nav-font-color\">\r\n\t\t\t\tInicio<Link to=\"/\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"/productos\" className=\" nav-font-color\">\r\n\t\t\t\tMenu<Link to=\"/productos\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t{ofertas.length ? (\r\n\t\t\t\t<Menu.Item key=\"/ofertas\" className=\" nav-font-color\">\r\n\t\t\t\t\tOfertas<Link to=\"/ofertas\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\t\t\t<Menu.Item key=\"/blog\" className=\" nav-font-color\">\r\n\t\t\t\tBlog<Link to=\"/blog\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t{/* {tienda.length === 0 ? (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item key=\"/quienes_somos\" className=\" nav-font-color\">\r\n\t\t\t\t\tQuiénes somos<Link to=\"/quienes_somos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t)} */}\r\n\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item key=\"/pedidos\" className=\" nav-font-color\">\r\n\t\t\t\t\tMis ordenes<Link to=\"/pedidos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t)}\r\n\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t<SubMenu\r\n\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t!decoded.imagen && !decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t) : decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" src={decoded.imagenFireBase} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tsrc={aws+decoded.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item className=\" nav-border-color\">\r\n\t\t\t\t\t\t<SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t) : decoded && decoded['rol'] === true ? (\r\n\t\t\t\t<SubMenu\r\n\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t!decoded.imagen ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tsrc={aws+decoded.imagen}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item className=\" nav-border-color\">\r\n\t\t\t\t\t\t<SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\r\n\t\t\t{token === '' || token === null ? (\r\n\t\t\t\t<Menu.Item className=\" nav-font-color\">\r\n\t\t\t\t\tEntrar<Link to=\"/entrar\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\t\t</Menu>\r\n\t);\r\n}\r\n\r\nexport default RightMenu;\r\n","import React, { createContext, useState } from \"react\"\r\n\r\nexport const MenuContext = createContext()\r\n\r\nexport const MenuProvider = ({ children }) => {\r\n  const [active, setActive] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  const [reloadFilter, setReloadFilter] = useState(true);\r\n\r\n  return (\r\n    <MenuContext.Provider value={{active,setActive, loading, setLoading, reloadFilter, setReloadFilter}}>\r\n      {children}\r\n    </MenuContext.Provider>\r\n  );\r\n};","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Divider, Layout, Menu, Spin } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './categorias.scss';\r\nimport './preloading.scss';\r\nimport clienteAxios from '../../config/axios';\r\nimport { MenuContext } from '../../context/carritoContext';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst Categorias = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ categorias, setCategorias ] = useState([]);\r\n\tconst [ generos, setGeneros ] = useState([{_id: 'Todos'}]);\r\n\tconst [ temporadas, setTemporadas ] = useState([]);\r\n \t// const [ loading, setLoading ] = useState(false); \r\n\tconst { reloadFilter, setLoading } = useContext(MenuContext);\r\n\r\n\tconst [ categoriaSeleccionada, setCategoriaSeleccionada, ] = useState(null);\r\n\tconst [ subcategoriaSeleccionada, setSubcategoriaSeleccionada, ] = useState(null);\r\n\tconst [ temporadaSeleccionada, setTemporadaSeleccionada, ] = useState(null);\r\n\tconst [ generoSeleccionado, setGeneroSeleccionado ] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerCategorias();\r\n\t\tobtenerGeneros();\r\n\t\tobtenerTemporadas();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tlimpiarFiltros();\r\n\t}, [ reloadFilter ])\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoriaSeleccionada(null)\r\n\t\tsetSubcategoriaSeleccionada(null)\r\n\t\tsetTemporadaSeleccionada(null)\r\n\t\tsetGeneroSeleccionado(null)\r\n\t}\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\t// setLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetCategorias(res.data);\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGeneros([...generos, ...res.data]);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerTemporadas() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/agrupar/temporadas`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetTemporadas(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tif(!generos || !categorias){\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst categorias_nav = categorias.map((categoria, index) => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t<SubMenu\r\n\t\t\t\tkey={categoria.categoria}\r\n\t\t\t\ttitle={categoria.categoria}\r\n\t\t\t\tclassName=\"submenu-categoria nav-font-color-categorias container-subcategorias-nav size-submenu-cat font-cates\"\r\n\t\t\t\tonTitleClick={(e) => {\r\n\t\t\t\t\tif(e.key === categoria.categoria){\r\n\t\t\t\t\t\tprops.history.push(`/filtros/${temporadaSeleccionada}/${categoria.categoria}/${subcategoriaSeleccionada}/${generoSeleccionado}`);\r\n\t\t\t\t\t\tsetCategoriaSeleccionada(categoria.categoria);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}}\r\n\r\n\t\t\t>\r\n\r\n\t\t\t\t{categoria.subcCategoria.map((sub) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\tclassName=\"font-subcates\"\r\n\t\t\t\t\t\t\tkey={sub._id}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tprops.history.push(`/filtros/${temporadaSeleccionada}/${categoriaSeleccionada}/${sub._id}/${generoSeleccionado}`);\r\n\t\t\t\t\t\t\t\tsetSubcategoriaSeleccionada(sub._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{sub._id}\r\n\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</SubMenu>\r\n\t\t\t{\r\n\t\t\t\tcategorias.length -1 !== index? (\r\n\t\t\t\t\t<><Divider className=\"divisor\" type=\"vertical\"/></>\r\n\t\t\t\t):(\r\n\t\t\t\t\tnull\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t</>\r\n\r\n\t\t);\r\n\t});\r\n\tconst temporadas_nav = temporadas.map((temporada, index) => {\r\n\t\tif(temporada._id){\r\n\t\t\treturn (\r\n\t\t\t\t<Menu.Item\r\n\t\t\t\t\tclassName=\"nav-font-color-categorias font-cates\"\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tprops.history.push(`/filtros/${temporada._id}/${categoriaSeleccionada}/${subcategoriaSeleccionada}/${generoSeleccionado}`);\r\n\t\t\t\t\t\tsetTemporadaSeleccionada(temporada._id);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{temporada._id}\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn\r\n\t});\r\n\r\n\tconst categorias_generos = generos.map((generos) => {\r\n\t\treturn (\r\n\t\t\t<Menu.Item\r\n\t\t\t\tclassName=\"font-cates\"\r\n\t\t\t\tkey={generos._id}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tprops.history.push(`/filtros/${temporadaSeleccionada}/${categoriaSeleccionada}/${subcategoriaSeleccionada}/${generos._id}`);\r\n\t\t\t\t\tsetGeneroSeleccionado(generos._id)\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t>\r\n\t\t\t\t{generos._id}\r\n\t\t\t</Menu.Item>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Layout className=\"container-subcategorias-nav d-lg-inline size-layout-cat\">\r\n\t\t\t{/* <Spin className=\"ml-5 d-inline spin-nav-categorias\" spinning={loading} />  */}\r\n\t\t\t<Menu\r\n\t\t\t\tclassName=\"categorias-navbar d-inline size-menu-cat font-cates\"\r\n\t\t\t\ttheme=\"light\"\r\n\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\ttriggerSubMenuAction=\"click\"\r\n\t\t\t>\r\n\t\t\t\t{categorias_nav}\r\n\t\t\t</Menu>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Categorias);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Layout, Menu, Button, Input, Drawer, Badge, Avatar, Spin, Divider } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport * as firebase from 'firebase/app';\r\nimport './navegacion.scss';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport { AlertOutlined, MenuOutlined, ShoppingOutlined , SettingOutlined, LogoutOutlined, UserOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../config/axios';\r\nimport RightMenu from './RightMenu';\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport aws from '../../config/aws';\r\nimport './navegacion.scss';\r\nimport Categorias from '../../components/Categorias/Categorias';\r\n\r\n\r\nconst { Search } = Input;\r\nconst { Header } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nconst Navegacion = (props) => {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { loading, setLoading } = useContext(MenuContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ busqueda, setBusqueda] = useState(\"\")\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\tconst [ carrito, setCarrito ] = useState(0);\r\n\tconst [ ofertas, setOfertas ] = useState([]);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetActive(true);\r\n\t\t\tobtenerOfertas();\r\n\t\t\tobtenerQuienesSomos();\r\n\t\t\tif (token) {\r\n\t\t\t\tobtenerCarrito();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ token, active ]\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t}, [])\r\n\r\n\tasync function obtenerCarrito() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\t\t\t\tif (res.idarticulo.activo === false) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}else if (res.idarticulo.eliminado && res.idarticulo.eliminado === true) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tconst carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\t\t\t\tsetCarrito(carrito.length);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetCarrito(0);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerQuienesSomos() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/tienda')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((datos) => {\r\n\t\t\t\t\tsetTienda(datos);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t}\r\n\tasync function obtenerOfertas() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/promocion')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetOfertas(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t}\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<div className=\"preloading\">\r\n\t\t\t\t<div className=\"contenedor-preloading\">\r\n\t\t\t\t\t<Spin size=\"large\" tip=\"Cargando Restaurante...\" className=\"spiner\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tfunction valor(e) {\r\n\t\tsetBusqueda(e.target.value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t<Layout className=\"layout navbar-menu-general a00\">\r\n\t\t\t<Header className=\" a1\">\r\n\t\t\t\t<div className=\"menuCon a2\">\r\n\t\t\t\t\t<div className=\"top-menu row a3 container-prin\">\r\n\t\t\t\t\t\t<div className=\"col-lg-12 container-pages a4\">\r\n\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\tclassName=\"navbar-menu-sesion float-right nav-font-pages a5 \"\r\n\t\t\t\t\t\t\t\t/* theme=\"light\" */\r\n\t\t\t\t\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\t\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\t\t\t\t\tinlineindent={0}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color font-foot-normal a6\" key=\"/\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Inicio</div>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/\" />\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color font-foot-normal a6\" key=\"/productos\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Menú</div>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/productos\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t{ofertas.length ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color font-foot-normal a6\" key=\"/ofertas\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Ofertas</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/ofertas\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{/* <Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/blog\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Blog</div>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/blog\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t{tienda.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/quienes_somos\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Quiénes somos</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/quienes_somos\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)} */}\r\n\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Header>\r\n\t\t</Layout>\r\n\t\t\r\n\t\t{/* DIVISOR PARA EL INPUT  */}\r\n\r\n\t\t<Layout className=\"layout a0\">\r\n\t\t\t<Header className=\" a1\">\r\n\t\t\t\t<div className=\"menuCon  a2\">\r\n\t\t\t\t\t<div className=\"top-menu row a3\">\r\n\t\t\t\t\t\t<div className=\"col-lg-2 row-logo-search\">\r\n\t\t\t\t\t\t\t<div className=\"row row-logo-search-2 \">\r\n\t\t\t\t\t\t\t\t\t{!tienda.imagenLogo ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-logo\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-logo-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{/* <div className=\"col-lg-8 row input-search\">\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tonChange={valor}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"input-search border-color-search-input\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tonClick={(value) => props.history.push(`/searching/${busqueda}`)}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"boton-search border-color-search-boton\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<SearchOutlined style={{fontSize: 25}}/>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* INICIO DE AVATAR, TU CARRITO Y ENTRAR  */}\r\n\t\t\t\t\t\t<div className=\"col-lg-7 containe-categorias  mt-2\">\r\n\t\t\t\t\t\t\t<Categorias />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-3 row a4 mt-2 justify-content-end\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\tclassName=\"float-right navbar-menu-sesion a50\"\r\n\t\t\t\t\t\t\t\t/* theme=\"light\" */\r\n\t\t\t\t\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\t\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\t\t\t\t\tinlineindent={0}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color-sesion font-foot-normal a6\" key=\"/shopping_cart\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<Badge count={carrito}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingOutlined style={{ fontSize: 26 }} /><Link to=\"/shopping_cart\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color-sesion a6\"\r\n\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t!decoded.imagen && !decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t) : decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={decoded.imagenFireBase} />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={aws + decoded.imagen} />\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color-sesion a6 font-foot-normal\" key=\"/pedidos\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingOutlined /> Mis ordenes\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/pedidos\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"nav-font-color-sesion font-foot-normal\">\r\n\t\t\t\t\t\t\t\t\t\t\t<SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-danger centrar-nav font-foot-normal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t) : decoded && decoded['rol'] === true ? (\r\n\t\t\t\t\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color nav-border-color a6\"\r\n\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t!decoded.imagen ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={aws + decoded.imagen}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"font-foot-normal a6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\" a6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-danger centrar-nav font-foot-normal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{token === '' || token === null ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"nav-font-color-sesion nav-border-color a6\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" ><UserOutlined style={{fontSize: 27}}/></div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/entrar\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* FIN DE AVATAR, TU CARRITO Y ENTRAR  */}\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"top-menu-responsive\">\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"barsMenu\" onClick={showDrawer}>\r\n\t\t\t\t\t\t\t<MenuOutlined className=\"menu-responsivo-icon\" style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tclassName=\"search-nav-responsive\"\r\n\t\t\t\t\t\t\tplaceholder=\"input search text\"\r\n\t\t\t\t\t\t\tonSearch={(value) => props.history.push(`/searching/${value}`)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"mx-4\">\r\n\t\t\t\t\t\t\t\t<Badge count={carrito}>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/shopping_cart\">\r\n\t\t\t\t\t\t\t\t\t\t<ShoppingOutlined className=\"menu-responsivo-icon\" style={{ fontSize: 28 }} />\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\tclassName=\"drawer-background\"\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t!tienda.imagenLogo ? (\r\n\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-logo-draw\">\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-logo-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\tclosable={false}\r\n\t\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RightMenu ofertas={ofertas} tienda={tienda} />\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t</div>\r\n\t\t\t</Header>\r\n\t\t</Layout>\r\n\r\n\t\t{/* <Layout className=\"layout navbar-menu-general a00\">\r\n\t\t\t<Header className=\"navbar-menu-general a1\">\r\n\t\t\t\t<div className=\"menuCon navbar-menu-general a2\">\r\n\t\t\t\t\t<div className=\"top-menu row a3 container-prin\">\r\n\t\t\t\t\t\t<div className=\"col-lg-12 containe-categorias\">\r\n\t\t\t\t\t\t\t<Categorias />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Header>\r\n\t\t</Layout> */}\r\n\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Navegacion);\r\n","import React, { useState, useEffect } from 'react'\r\nimport clienteAxios from '../../config/axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { HashLink } from 'react-router-hash-link';\r\nimport {  Button,  Layout} from 'antd';\r\nimport aws from '../../config/aws';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport {FacebookFilled, InstagramFilled,\r\n        TwitterCircleFilled, UserOutlined, KeyOutlined, \r\n        PhoneOutlined, SettingOutlined \r\n        } from '@ant-design/icons';\r\nimport './footer.scss';\r\nimport '../../scss/variables.scss'\r\n\r\nconst { Footer } = Layout;\r\n\r\n\r\n\r\nconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\nconst FooterPage = (props) => {\r\n    const [face, setFace] = useState('')\r\n    const [insta, setInsta] = useState('')\r\n    const [twitter, setTwitter] = useState('')\r\n    const [imagenCorp, setImagenCorp] = useState('')\r\n    // const [nombreCorp, setNombreCorp] = useState('')\r\n    const [politicas, setPoliticas] = useState('')\r\n    const [telefono, setTelefono] = useState('')\r\n    const [tienda, setTienda] = useState([])\r\n    const [ direccion, setDireccion ] = useState({});\r\n    const [accion, setAccion] = useState(false)\r\n\r\n\tconst [ categorias, setCategorias ] = useState([]);\r\n\r\n    function peticionRedes(){\r\n\t\tclienteAxios.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n                \r\n                if(res.data[0]){\r\n                    setImagenCorp(res.data[0].imagenCorp)\r\n                    setTienda(res.data[0])\r\n                    setDireccion(res.data[0].direccion[0])\r\n                    setTelefono(res.data[0].telefono)\r\n                    if(res.data[0].linkFace !== 'undefined' && res.data[0].linkFace !== ''){\r\n                        setFace(res.data[0].linkFace);\r\n                        setAccion(true);\r\n                    }\r\n                    if(res.data[0].linkInsta !== 'undefined' && res.data[0].linkInsta !== ''){\r\n                        setInsta(res.data[0].linkInsta);\r\n                        setAccion(true);\r\n                    }\r\n                    if(res.data[0].linkTweeter !== 'undefined' && res.data[0].linkTweeter !== ''){\r\n                        setTwitter(res.data[0].linkTweeter);\r\n                        setAccion(true);\r\n                    }\r\n                }\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n               \r\n\t\t\t});\r\n    }\r\n\r\n    async function obtenerCategorias() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n                setCategorias(res.data);\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n                console.log(res);\r\n\t\t\t});\r\n\t}\r\n\r\n    useEffect(() => {\r\n        peticionRedes();\r\n        setAccion(false)\r\n        obtenerCategorias();\r\n    }, []);\r\n\r\n    const categorias_foot = categorias.map((categoria, index) => {\r\n        if(index <= 14){\r\n            return (\r\n                    <Button \r\n                        type=\"link\"\r\n                        className=\"footer-font-color\"\r\n                        key={categoria.categoria}\r\n                    >\r\n                        <Link className=\"font-cat-foot\" to={(`/filtros/null/${categoria.categoria}/null/null`)}> \r\n                            {categoria.categoria}\r\n                        </Link>\r\n                    </Button>\r\n              \r\n            )\r\n        }\r\n    });\r\n    \r\n\r\n    return(\r\n       \r\n         <Layout className=\"layout\">\r\n             <Footer className=\"bg-footer\" >\r\n                <div end=\"xs\" id=\"foot\">  \r\n                    <div className=\"row footer-font-color\">\r\n                        <div className=\"col-lg-4  d-sm-text-center\">\r\n                            {tienda.imagenLogo !== '' && tienda.imagenLogo ?\r\n                            <div className=\"contenedor-logo\">\r\n                                <div className=\"logos\"> \r\n                                    <img\r\n                                        className=\"logotipo\"\r\n                                        alt=\"imagen de base\"\r\n                                        src={aws+tienda.imagenLogo}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            : \"\"}\r\n                            {/* <h6>{tienda.nombre !== '' ? tienda.nombre : \"\"}</h6> */}\r\n                            {telefono !== '' && telefono ? \r\n                            <div className=\"row mt-3\">\r\n                                <PhoneOutlined className=\"mt-1 d-none d-lg-block\" style={{fontSize: 55, marginLeft: 5}} />\r\n                                <div className=\"px-3 mt-2\">\r\n                                    <p className=\"font-foot\">¿Tienes preguntas? ¡Contáctanos!:</p> \r\n                                    {telefono !== '' ? (<h1 className=\"footer-font-color\" style={{fontSize: 20}}>{telefono} </h1>): \"\"}\r\n                                </div>\r\n                            </div>\r\n                            : \"\"}\r\n\r\n                            <div className=\"mt-3 font-foot-normal\">\r\n\r\n                                {accion ? (<p style={{fontWeight: \"bold\"}} className=\"font-foot\">Datos de contacto:</p>):\"\"}\r\n                                {direccion.calle_numero !== '' && direccion.calle_numero ? (\r\n                                    <div>\r\n                                        <p>{direccion.calle_numero}, Col. {direccion.colonia}, </p>\r\n                                        <p>{direccion.ciudad}, {direccion.estado}</p>\r\n                                    </div>\r\n                                ) : \"\"}\r\n\r\n                                <div className=\"mt-3\">\r\n\r\n                                {face !== '' ? \r\n                                    (\r\n                                    <a href={face} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                        <FacebookFilled  id=\"is\" style={{fontSize: 33, color:\"gray\"}} />\r\n                                    </a>\r\n                                    ):('')\r\n                                \r\n                                }\r\n                                {insta !== '' ? \r\n                                    (\r\n                                    <a href={insta} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                        <InstagramFilled  id=\"is\" style={{fontSize: 33, color:\"gray\"}} />\r\n                                    </a>\r\n                                    ):('')\r\n                                }\r\n                                \r\n                                {twitter !== '' ? \r\n                                    (\r\n                                    <a href={twitter} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                        <TwitterCircleFilled  id=\"is\" style={{fontSize: 33, color:\"gray\"}} />\r\n                                    </a>\r\n                                    ):('')\r\n                                }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {tienda.diasHorariosEmpresas !== '' && tienda.diasHorariosEmpresas !== \"undefined\" ? (\r\n                            <div className=\"col-lg-3 mt-5 d-none d-lg-block\">\r\n                                <div className=\"container\">\r\n                                    <p className=\"font-foot\">\r\n                                        <span className=\"font-weight-bold\">Horarios de Atención:</span>\r\n                                        <p dangerouslySetInnerHTML={{__html: tienda.diasHorariosEmpresas}}/>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            null\r\n                        )}\r\n                        <div className=\"col-lg-3 mt-lg-5 d-none d-lg-block\">\r\n                            <p className=\"font-foot\" style={{fontWeight: \"bold\"}}>Encuéntralo más rápido</p>\r\n                            <div style={{columnCount: 2}}>\r\n                                <div >\r\n                                    {categorias_foot}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-2 mt-5 d-none d-lg-block\" style={{columnCount: 1}}>\r\n                           <p className=\"font-foot\" style={{fontWeight: \"bold\"}}>Atención al cliente</p>\r\n                           {/* {imagenCorp !== '' ? (\r\n                                <Link  to=\"/quienes_somos\" >\r\n                                    <Button className=\"footer-font-color font-foot\" id=\"is\" type=\"link\" ><UserOutlined className=\"footer-font-color\"/>\r\n                                        Conócenos\r\n                                    </Button>\r\n                                </Link>\r\n                            ): \"\"} */}\r\n\r\n                            {tienda.politicas !== '' && tienda.politicas ? (\r\n                                <HashLink to=\"/politicas#privacidad\">\r\n                                    <Button className=\"footer-font-color font-foot-normal\" id=\"is\" type=\"link\" ><KeyOutlined className=\"footer-font-color\"/>\r\n                                        Aviso de Privacidad\r\n                                    </Button>\r\n                                </HashLink>\r\n                            ): \"\"}\r\n                            {tienda.politicasDescuentos !== '' && tienda.politicasDescuentos ? (\r\n                                <HashLink to=\"/politicas#descuento\">\r\n                                    <Button className=\"footer-font-color font-foot-normal\" id=\"is\" type=\"link\" ><KeyOutlined className=\"footer-font-color\"/>\r\n                                        Políticas de Descuento\r\n                                    </Button>\r\n                                </HashLink>\r\n                            ): \"\"}\r\n                            {tienda.politicasDevolucion !== '' && tienda.politicasDevolucion ? (\r\n                                <HashLink to=\"/politicas#devolucion\">\r\n                                    <Button className=\"footer-font-color font-foot-normal\" id=\"is\" type=\"link\" ><KeyOutlined className=\"footer-font-color\"/>\r\n                                        Políticas de Devolución\r\n                                    </Button>\r\n                                </HashLink>\r\n                            ): \"\"}\r\n                            {tienda.politicasVentas !== '' && tienda.politicasVentas ? (\r\n                                <HashLink to=\"/politicas#ventas\">\r\n                                    <Button className=\"footer-font-color font-foot-normal\" id=\"is\" type=\"link\" ><KeyOutlined className=\"footer-font-color\"/>\r\n                                        Políticas de Ventas\r\n                                    </Button>\r\n                                </HashLink>\r\n                            ): \"\"}\r\n                            {tienda.politicasEnvios !== '' &&  tienda.politicasEnvios? (\r\n                                <HashLink to=\"/politicas#envios\">\r\n                                    <Button className=\"footer-font-color font-foot-normal\" id=\"is\" type=\"link\" ><KeyOutlined className=\"footer-font-color\"/>\r\n                                        Políticas de Envíos\r\n                                    </Button>\r\n                                </HashLink>\r\n                            ): \"\"}\r\n\r\n\r\n                            {token && decoded['rol'] === false ? (\r\n                            <Link  to=\"/perfiles\">\r\n                                <Button className=\"footer-font-color font-foot-normal\" id=\"is\" type=\"link\" ><SettingOutlined className=\"footer-font-color\"/>\r\n                                    Mi cuenta\r\n                                </Button>\r\n                            </Link>\r\n                            ) : \r\n                            (\r\n                            <Link  to=\"/entrar\">\r\n                                <Button className=\"footer-font-color font-foot-normal\" id=\"is\" type=\"link\" ><SettingOutlined className=\"footer-font-color\"/>\r\n                                    Mi cuenta\r\n                                </Button>\r\n                            </Link>\r\n                            )}\r\n                        </div>\r\n                    </div> \r\n                </div>\r\n                {/* <div className=\"align-center\">\r\n                    <p className=\"text-center\">© CAFI - All Rights Reserved - 2020</p>\r\n                </div> */}\r\n             </Footer>\r\n         </Layout>\r\n    )\r\n}\r\n\r\nexport default FooterPage;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { Layout } from 'antd';\r\nimport Navegacion from '../../components/Navegacion/Navegacion';\r\nimport Categorias from '../Categorias/Categorias';\r\nimport FooterPage from '../../components/Footer/Footer';\r\nimport './layout.scss';\r\n\r\nexport default function LayoutBasic(props) {\r\n\tconst { routes } = props;\r\n\tconst { Content, Footer } = Layout;\r\n\r\n\treturn (\r\n\t\t<div className=\"body\">\r\n\t\t\t<Layout>\r\n\t\t\t\t<div className=\"cuerpo bg-layout\">\r\n\t\t\t\t\t<Layout>\r\n\t\t\t\t\t\t<Navegacion />\r\n\t\t\t\t\t\t{/* <Categorias /> */}\r\n\t\t\t\t\t\t<Content style={{ height: 'auto' }} className=\"bg-layout\">\r\n\t\t\t\t\t\t\t<div className=\"site-layout-content flex\">\r\n\t\t\t\t\t\t\t\t<LoadRoutes routes={routes} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer className=\"foot\" style={{ margin: 0, padding: 0 }}>\r\n\t\t\t\t\t<FooterPage style={{ margin: 0, padding: 0 }} />\r\n\t\t\t\t</Footer>\r\n\t\t\t</Layout>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction LoadRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route key={index} path={route.path} exact={route.exact} component={route.component} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Spin } from 'antd';\r\nimport './spin.scss';\r\n\r\nexport default function Spinner(props){\r\n    return <Spin className=\"spiner\" size=\"large\" spinning={props.spinning}>{props.children}</Spin>\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Divider, Button, Alert, notification, Spin } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nexport default function PoliticasEnvio(props) {\r\n\tconst {setCurrent, current} = props;\r\n\tconst {next} = props;\r\n\r\n\tconst [datosNegocio, setDatosNegocio] = useState({});\r\n\tconst [ reloadInfo, setReloadInfo ] = useState(false);\r\n\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ idTienda, setIdTienda ] = useState('');\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction peticionDatosTienda() {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio(res.data[0]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio({});\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tpeticionDatosTienda();\r\n\t\t\tsetReloadInfo(false);\r\n\t\t},\r\n\t\t[ reloadInfo ]\r\n\t);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerDatos();\r\n\t\t\tif (!datosNegocio) {\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t} else {\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ datosNegocio ]\r\n\t);\r\n\r\n\tasync function obtenerDatos() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\r\n\t\t\t\tif (!res.data) {\r\n\t\t\t\t\tsetControl(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetControl(true);\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tcostoEnvio: res.data.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: res.data.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: res.data.descuento\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tcostoEnvio: res.data.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: res.data.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: res.data.descuento\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetIdTienda(res.data._id);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function SendForm() {\r\n\t\tif (control === false) {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(\r\n\t\t\t\t\t'/politicasEnvio/',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tidTienda: datosNegocio._id,\r\n\t\t\t\t\t\tidAdministrador: decoded._id,\r\n\t\t\t\t\t\tcostoEnvio: datos.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: datos.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: datos.descuento\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t// setReloadInfo(true);\r\n\t\t\t\t\t// drawnerClose();\r\n\t\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/politicasEnvio/${idTienda}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcostoEnvio: datos.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: datos.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: datos.descuento\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t// setReloadInfo(true);\r\n\t\t\t\t\t// drawnerClose();\r\n\t\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{disabled ? (\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Nota:\"\r\n\t\t\t\t\tdescription=\"No puedes registrar las políticas de envió sin antes registrar los datos de la tienda\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t\tclassName=\"m-5\"\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<Form onFinish={SendForm} form={form} className=\"mt-5\">\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Costo de envío\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, costoEnvio: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"costoEnvio\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Costo de envío de la paqueteria\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"costoEnvio\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Promoción de envío\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, promocionEnvio: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"promocionEnvio\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Se aplica una promoción de envío a clientes que superen esta cantidad\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"promocionEnvio\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Descuento\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, descuento: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"descuento\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Costo de envío de la promoción\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"descuento\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\tcontrol === false ? (\r\n\t\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{control === false ? 'Registrar politicas de envío' : 'Actualizar politicas de envío'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Divider, Button, Alert, notification, Spin } from 'antd';\r\nimport { Editor } from \"@tinymce/tinymce-react\";\r\nimport { PlusCircleOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nexport default function Registro_Politicas(props) {\r\n\tconst {setCurrent, current} = props;\r\n\r\n\tconst {next} = props;\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [datos, setDatos] = useState({});\r\n\tconst [datosNegocio, setDatosNegocio] = useState({});\r\n\tconst [ reloadInfo, setReloadInfo ] = useState(false);\r\n\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\t// const token = localStorage.getItem('token');\r\n\t// var decoded = Jwt(token);\r\n\r\n\tconst monstrarInformacionBlog = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t  };\r\n\r\n\r\n\tfunction peticionDatosTienda() {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio(res.data[0]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio({});\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tpeticionDatosTienda();\r\n\t\t\tsetReloadInfo(false);\r\n\t\t},\r\n\t\t[ reloadInfo ]\r\n\t);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tif (datosNegocio !== undefined) {\r\n\t\t\tsetDisabled(false);\r\n\t\t\tmonstrarInformacionBlog({\r\n\t\t\t\tpoliticas: datosNegocio.politicas,\r\n\t\t\t\tpoliticasVentas: datosNegocio.politicasVentas,\r\n\t\t\t\tpoliticasEnvios: datosNegocio.politicasEnvios,\r\n\t\t\t\tpoliticasDescuentos: datosNegocio.politicasDescuentos,\r\n\t\t\t\tpoliticasDevolucion: datosNegocio.politicasDevolucion\r\n\t\t\t});\r\n\t\t\tsetDatos({\r\n\t\t\t\tpoliticas: datosNegocio.politicas,\r\n\t\t\t\tpoliticasVentas: datosNegocio.politicasVentas,\r\n\t\t\t\tpoliticasEnvios: datosNegocio.politicasEnvios,\r\n\t\t\t\tpoliticasDescuentos: datosNegocio.politicasDescuentos,\r\n\t\t\t\tpoliticasDevolucion: datosNegocio.politicasDevolucion\r\n\t\t\t});\r\n\t\t\tsetControl(true);\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tsetDisabled(true);\r\n\t\t\tsetDatos({});\r\n\t\t\tsetControl(false);\r\n\t\t}\r\n\t  }, [datosNegocio]);\r\n\r\n\r\n\tconst capturarPoliticasEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicas: content });\r\n\t};\r\n\tconst capturarPoliticasVentas = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicasVentas: content });\r\n\t};\r\n\tconst capturarPoliticasEnvio = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicasEnvios: content });\r\n\t};\r\n\tconst capturarPoliticasDescuento = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicasDescuentos: content });\r\n\t};\r\n\tconst capturarPoliticasDevolucion = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicasDevolucion: content });\r\n\t};\r\n\t\r\n\r\n\t  async function SendForm(){\r\n\t\tsetLoading(true);\r\n\t\t// console.log(datos);\r\n\t\tif (disabled === false) {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t.put(\r\n\t\t\t\t`/tienda/politicas/${datosNegocio._id}`,\r\n\t\t\t\tdatos,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetControl(true);\r\n\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t\t// next();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\tmessage: \"Registro exitoso\",\r\n\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: \"Error\",\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2,\r\n\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: \"Error de conexion\",\r\n\t\t\t\t\tdescription: \"Al parecer no se a podido conectar al servidor.\",\r\n\t\t\t\t\tduration: 2,\r\n\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\r\n\t};\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{disabled ? (\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Nota:\"\r\n\t\t\t\t\tdescription=\"No puedes registrar las políticas de empresa sin antes registrar los datos de la tienda\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t\tclassName=\"m-5\"\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<Form  \r\n\t\t\t\tonFinish={SendForm}\r\n              \tform={form}\r\n\t\t\t\tclassName=\"mt-5\"\r\n\t\t\t>\r\n\r\n\t\t\t\t{/* PRIMER PANEL */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Privacidad</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicas\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasEditor}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* SEGUNDO PANEL */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Ventas</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicasVentas\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasVentas}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* TERCER PANEL */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Envíos</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicasEnvios\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasEnvio}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t{/* CUARTO PANEL  */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Descuentos</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicasDescuentos\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasDescuento}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t{/* QUINTO PANEL */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Devolución</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicasDevolucion\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasDevolucion}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\tcontrol === false ? (\r\n\t\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{control === false ? 'Registrar politicas de la Empresa' : 'Actualizar politicas de Empresa'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./coberturaEnvios.scss\";\r\nimport {\r\n  Button,\r\n  Select,\r\n  Tag,\r\n  notification,\r\n  Table,\r\n  Spin,\r\n  Modal,\r\n  Tooltip,\r\n  Checkbox,\r\n} from \"antd\";\r\nimport {\r\n  EditOutlined,\r\n  ExclamationCircleOutlined,\r\n  DeleteOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nimport clienteAxios from \"../../../../../config/axios\";\r\n\r\nconst consultaEstados = axios.create({\r\n  baseURL: `https://api-sepomex.hckdrk.mx/query/`,\r\n});\r\n\r\nexport default function Cobertura_envios(props) {\r\n  const token = localStorage.getItem(\"token\");\r\n  const { confirm } = Modal;\r\n  const { Option } = Select;\r\n  const { Column } = Table;\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [reload, setReload] = useState(false);\r\n  const [municipioGuardado, setMunicipioGuardado] = useState([]);\r\n  const [idEstado, setIdEstado] = useState([]);\r\n\r\n  const [todos, setTodos] = useState(false);\r\n\r\n  const [municipiosApi, setMunicipiosApi] = useState([]);\r\n  const [estadosApi, setEstadoApi] = useState([]);\r\n  const [value, setValue] = useState([]);\r\n\r\n  const [dataEstados, setDataEstados] = useState([]);\r\n  const [estado, setEstado] = useState(\"\");\r\n\r\n  const errors = (err) => {\r\n    if (err.response) {\r\n      notification.error({\r\n        message: \"Error\",\r\n        description: err.response.data.message,\r\n        duration: 2,\r\n      });\r\n    } else {\r\n      notification.error({\r\n        message: \"Error de conexion\",\r\n        description: \"Al parecer no se a podido conectar al servidor.\",\r\n        duration: 2,\r\n      });\r\n    }\r\n  };\r\n\r\n  const selectTodos = (e) => {\r\n    setTodos(e.target.checked);\r\n    // console.log(e.target.checked);\r\n    \r\n  };\r\n\r\n  //*******************************Checkeo de datos************************************************************************************ */\r\n  const [covertura, setCovertura] = useState([]);\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n\r\n  const onSelectChange = (parametros) => {\r\n    setSelectedRowKeys(parametros);\r\n    const listaMun = parametros.map((res) => {\r\n      return res;\r\n    });\r\n    setCovertura(listaMun);\r\n  };\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys,\r\n    onChange: onSelectChange,\r\n    getCheckboxProps: (municipio) => {\r\n      if (value) {\r\n        return {\r\n          disabled: municipio.municipio && municipio.length !== 0,\r\n          // Column configuration not to be checked\r\n          name: municipio.name,\r\n        };\r\n      } else {\r\n        return {\r\n          disabled: municipio.municipio && municipio.length !== 0,\r\n          // Column configuration not to be checked\r\n          name: municipio.name,\r\n        };\r\n      }\r\n    },\r\n    onSelect: (record, selected, selectedRows) => {\r\n      setCovertura(selectedRows);\r\n    },\r\n    onSelectAll: (selected, selectedRows) => {\r\n      setCovertura(selectedRows);\r\n    },\r\n  };\r\n\r\n  const checkearChecks = () => {\r\n    const listaMunicipios = municipioGuardado.map((municipio) => {\r\n      return municipio;\r\n    });\r\n    setSelectedRowKeys(listaMunicipios);\r\n  };\r\n  //*******************************************Consultas de API Externas*************************************************************** */\r\n\r\n  const selectMunicipio = (value) => {\r\n    setValue(value);\r\n    setMunicipioGuardado([]);\r\n    setIdEstado();\r\n\r\n    if (value) {\r\n      setEstado(value);\r\n      setLoading(true);\r\n      consultaEstados\r\n        .get(`/get_municipio_por_estado/${value}`)\r\n        .then((res) => {\r\n          setLoading(false);\r\n          const datosApiMunicipios = res.data.response.municipios;\r\n          setMunicipiosApi(res.data.response.municipios);\r\n          const arrayMunicipio = [];\r\n          dataEstados.forEach((estado) => {\r\n            if (value === estado.estado) {\r\n              setIdEstado(estado._id);\r\n              estado.municipios.map((municipio) => {\r\n                for (let i = 0; i < datosApiMunicipios.length; i++) {\r\n                  if (datosApiMunicipios[i] === municipio.municipio) {\r\n                    arrayMunicipio.push(municipio.municipio);\r\n                  }\r\n                }\r\n              });\r\n            }\r\n          });\r\n          setSelectedRowKeys(arrayMunicipio);\r\n        })\r\n        .catch((err) => {\r\n          notification.error({\r\n            message: \"Error del servidor\",\r\n            description: \"Paso algo en el servidor\",\r\n          });\r\n        });\r\n    }\r\n  };\r\n\r\n  function obtenerEstados() {\r\n    consultaEstados\r\n      .get(`/get_estados/`)\r\n      .then((res) => {\r\n        setEstadoApi(res.data.response.estado);\r\n      })\r\n      .catch((err) => {\r\n        notification.error({\r\n          message: \"Error del servidor\",\r\n          description:\r\n            \"Paso algo en el servidor, al parecer la conexion esta fallando.\",\r\n        });\r\n      });\r\n  }\r\n\r\n  const arrayMunicipio = [];\r\n  for (let i = 0; i < covertura.length; i++) {\r\n    arrayMunicipio.push({ municipio: covertura[i] });\r\n  }\r\n\r\n  // *****************************************ENVIO DE ESTADOS****************************************************************\r\n  const enviarDatos = async () => {\r\n    var nuevoEstado = {};\r\n\r\n    //Condicion de registros y actualizacion\r\n    if (todos && dataEstados.length == 0) {\r\n      nuevoEstado.todos = todos;\r\n      clienteAxios\r\n        .post(`/politicasEnvio/estados/`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setTodos(false);\r\n          notification.success({\r\n            message: \"Registro Exitoso\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    } else if (todos && dataEstados.length > 0) {\r\n      nuevoEstado.todos = todos;\r\n      clienteAxios\r\n        .put(`/politicasEnvio/estados/todos`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setTodos(false);\r\n          notification.success({\r\n            message: \"Actualizacion Exitosa a todo mexico\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    } else if (selectedRowKeys.length > 0 && !idEstado) {\r\n      nuevoEstado = {\r\n        estado: estado,\r\n        municipios: arrayMunicipio,\r\n      };\r\n      clienteAxios\r\n        .post(`/politicasEnvio/estados/`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          notification.success({\r\n            message: \"Registro Exitoso\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n          limpiar();\r\n          setTodos(false);\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    } else if (idEstado) {\r\n      nuevoEstado = {\r\n        estado: estado,\r\n        municipios: arrayMunicipio,\r\n      };\r\n      clienteAxios\r\n        .put(`/politicasEnvio/estados/${idEstado}`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          notification.success({\r\n            message: \"Actualizacion Exitosa de estado\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n          setTodos(false);\r\n          limpiar();\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  // ***************************************** Retorno de estados TAGS***************************************************************\r\n  const traerDatos = async () => {\r\n    clienteAxios.get(`/politicasEnvio/estados/`).then((res) => {\r\n      if (res.data.length > 0) {\r\n        res.data.map((todo) => {\r\n          if (todo.todos === true) {\r\n            setTodos(true);\r\n          }\r\n        });\r\n      }\r\n\r\n      setDataEstados(res.data);\r\n      setReload(true);\r\n    });\r\n  };\r\n\r\n  // console.log(todosApi);\r\n  // *****************************************Eliminar estados****************************************************************\r\n  const deleteEstado = (state) => {\r\n    confirm({\r\n      title: \"Eliminando Estado\",\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: `¿Estás seguro que deseas eliminar el Estado?`,\r\n      okText: \"Eliminar\",\r\n      okType: \"danger\",\r\n      cancelText: \"Cancelar\",\r\n      onOk() {\r\n        clienteAxios\r\n          .delete(`/politicasEnvio/estados/${state._id}`, {\r\n            headers: {\r\n              Authorization: `bearer ${token}`,\r\n            },\r\n          })\r\n          .then((res) => {\r\n            notification.success({\r\n              message: \"Estado Eliminado\",\r\n            });\r\n            setReload(res);\r\n            limpiar();\r\n          })\r\n          .catch((err) => {\r\n            if (err.response) {\r\n              notification.error({\r\n                message: \"Error\",\r\n                description: err.response.data.message,\r\n                duration: 2,\r\n              });\r\n            } else {\r\n              notification.error({\r\n                message: \"Error de conexion\",\r\n                description: \"Al parecer no se a podido conectar al servidor.\",\r\n                duration: 2,\r\n              });\r\n            }\r\n          });\r\n      },\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    obtenerEstados();\r\n    if (value) {\r\n      checkearChecks();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    traerDatos();\r\n  }, [reload]);\r\n\r\n  function limpiar() {\r\n    setValue([]);\r\n    setMunicipiosApi([]);\r\n    setSelectedRowKeys([]);\r\n    setMunicipioGuardado([]);\r\n    setIdEstado();\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <div className=\"row text-center\">\r\n        <div className=\"col-lg-6\">\r\n          \r\n          <Checkbox \r\n            onChange={selectTodos} \r\n            checked={todos} \r\n            className=\"mt-2\"\r\n            style={{fontSize: 16, color: \"green\"}}\r\n          >\r\n            Envio a todo Mexico\r\n          </Checkbox>\r\n\r\n          <Select\r\n            style={{ width: \"70%\" }}\r\n            className=\"mt-3\"\r\n            placeholder=\"Selecciona un estado\"\r\n            onChange={selectMunicipio}\r\n            value={value}\r\n            disabled={todos}\r\n          >\r\n            {estadosApi.length !== 0 ? (\r\n              estadosApi.map((estado) => {\r\n                return (\r\n                  <Option key={estado} value={estado}>\r\n                    {estado}\r\n                  </Option>\r\n                );\r\n              })\r\n            ) : (\r\n              <Option />\r\n            )}\r\n          </Select>\r\n          \r\n          <div className=\"text-center mt-3\">\r\n            {\r\n           \r\n              dataEstados.map((estado) => {\r\n               if (estado.todos) {\r\n\r\n               }else{\r\n                const municipios = [];\r\n                estado.municipios.map((municipio) => {\r\n                  municipios.push(municipio.municipio + \"       -       \");\r\n                });\r\n                return (\r\n                  <Tooltip\r\n                    placement=\"left\"\r\n                    key={estado._id}\r\n                    title={municipios}\r\n                  >\r\n                    <Tag\r\n                      className=\"mt-3 tags-color\"\r\n                      visible={true}\r\n                      closable\r\n                      onClick={() => selectMunicipio(estado.estado)}\r\n                      onClose={() => deleteEstado(estado)}\r\n                      key={estado._id}\r\n                    >\r\n                      {estado.estado}\r\n                    </Tag>\r\n                  </Tooltip>\r\n                );\r\n               }\r\n              })\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{ width: \"50%\", textAlign: \"center\" }}>\r\n          <Spin size=\"large\" spinning={loading}>\r\n            <Table\r\n              className=\"\"\r\n              rowSelection={rowSelection}\r\n              dataSource={municipiosApi}\r\n              rowKey={(municipio) => municipio}\r\n              scroll={{ y: 300 }}\r\n              pagination={false}\r\n            >\r\n              <Column title={\"Municipios\"} />\r\n            </Table>\r\n          </Spin>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"justify-content-center align-items-center text-center mt-4\">\r\n        <Button\r\n          className=\"mt-4 m-3 text-center px-4\"\r\n          size=\"large\"\r\n          type=\"primary\"\r\n          onClick={enviarDatos}\r\n        >\r\n          <EditOutlined style={{ fontSize: 24 }} />\r\n          Agregar\r\n        </Button>\r\n\r\n        <Button\r\n          className=\"mt-4 m-3 text-center px-4\"\r\n          size=\"large\"\r\n          type=\"primary\"\r\n          onClick={limpiar}\r\n          disabled={todos}\r\n        >\r\n          <DeleteOutlined style={{ fontSize: 20 }} />\r\n          Limpiar\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Form,\r\n  Input,\r\n  Divider,\r\n  Button,\r\n  Upload,\r\n  notification,\r\n  Alert,\r\n  Steps,\r\n  message,\r\n  Spin,\r\n} from \"antd\";\r\nimport {\r\n  PlusCircleOutlined,\r\n  EditOutlined,\r\n  UploadOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Editor } from \"@tinymce/tinymce-react\";\r\nimport clienteAxios from \"../../../../../config/axios\";\r\nimport PoliticasEnvio from \"./politicas_envio\";\r\nimport Registro_Politicas from \"./registroPoliticas\";\r\nimport Cobertura_envio from \"./cobertura_envios\";\r\nimport aws from \"../../../../../config/aws\";\r\n// import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n// import { faMapMarkedAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport default function RegistroTienda(props) {\r\n  const { drawnerClose } = props;\r\n  const [current, setCurrent] = props.steps;\r\n\r\n  const {setDatosNegocio, datosNegocio, token, } = props;\r\n\r\n  const [datos, setDatos] = useState({});\r\n  const [control, setControl] = useState(false);\r\n\r\n  const [form] = Form.useForm();\r\n  const { Step } = Steps;\r\n  const [upload, setUpload] = useState(false);\r\n  //Variables que guardan las imagenes\r\n  const [files, setFiles] = useState([]);\r\n  const [imagen, setImagen] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const monstrarInformacionBlog = (e) => {\r\n    form.setFieldsValue(e);\r\n  };\r\n\r\n  /* const [current, setCurrent] = useState(0); */\r\n\r\n  const next = () => {\r\n    setCurrent(current + 1);\r\n\r\n  };\r\n\r\n  const prev = () => {\r\n    setCurrent(current - 1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (datosNegocio !== undefined) {\r\n      setImagen(datosNegocio.imagenLogo);\r\n      // if (datosNegocio.ubicacion[0].lat === \"undefined\") {\r\n      //   datosNegocio.ubicacion[0].lat = \"\";\r\n      // }\r\n      // if (datosNegocio.ubicacion[0].lng === \"undefined\") {\r\n      //   datosNegocio.ubicacion[0].lng = \"\";\r\n      // }\r\n      if (datosNegocio.linkFace === \"undefined\") {\r\n        datosNegocio.linkFace = \"\";\r\n      }\r\n      if (datosNegocio.linkInsta === \"undefined\") {\r\n        datosNegocio.linkInsta = \"\";\r\n      }\r\n      if (datosNegocio.linkTweeter === \"undefined\") {\r\n        datosNegocio.linkTweeter = \"\";\r\n      }\r\n      monstrarInformacionBlog({\r\n        nombre: datosNegocio.nombre,\r\n        telefono: datosNegocio.telefono,\r\n        calle_numero: datosNegocio.direccion[0].calle_numero,\r\n        cp: datosNegocio.direccion[0].cp,\r\n        colonia: datosNegocio.direccion[0].colonia,\r\n        ciudad: datosNegocio.direccion[0].ciudad,\r\n        estado: datosNegocio.direccion[0].estado,\r\n        // lat: datosNegocio.ubicacion[0].lat,\r\n        // lng: datosNegocio.ubicacion[0].lng,\r\n        imagenCorp: datosNegocio.imagenCorp,\r\n        diasHorariosEmpresas: datosNegocio.diasHorariosEmpresas,\r\n        linkFace: datosNegocio.linkFace,\r\n        linkInsta: datosNegocio.linkInsta,\r\n        linkTweeter: datosNegocio.linkTweeter,\r\n      });\r\n      setDatos({\r\n        nombre: datosNegocio.nombre,\r\n        telefono: datosNegocio.telefono,\r\n        calle_numero: datosNegocio.direccion[0].calle_numero,\r\n        cp: datosNegocio.direccion[0].cp,\r\n        colonia: datosNegocio.direccion[0].colonia,\r\n        ciudad: datosNegocio.direccion[0].ciudad,\r\n        estado: datosNegocio.direccion[0].estado,\r\n        // lat: datosNegocio.ubicacion[0].lat,\r\n        // lng: datosNegocio.ubicacion[0].lng,\r\n        imagenCorp: datosNegocio.imagenCorp,\r\n        diasHorariosEmpresas: datosNegocio.diasHorariosEmpresas,\r\n        linkFace: datosNegocio.linkFace,\r\n        linkInsta: datosNegocio.linkInsta,\r\n        linkTweeter: datosNegocio.linkTweeter,\r\n      });\r\n      setControl(true);\r\n    } else {\r\n      setDatos({});\r\n      setControl(false);\r\n    }\r\n  }, [datosNegocio]);\r\n\r\n\r\n  // const capturarPoliticasEditor = (content, editor) => {\r\n  //   setDatos({ ...datos, politicas: content });\r\n  // };\r\n\r\n  const capturarImagenCorpEditor = (content, editor) => {\r\n    setDatos({ ...datos, imagenCorp: content });\r\n  };\r\n\r\n  const capturarHorariosDias = (content, editor) => {\r\n    setDatos({ ...datos, diasHorariosEmpresas: content });\r\n  };\r\n\r\n  // console.log(capturarHorariosDias);\r\n  // console.log(datosNegocio.diasHorariosEmpresas);\r\n\r\n\r\n  const propss = {\r\n    listType: \"picture\",\r\n    beforeUpload: (file) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = (e) => {\r\n        file.thumbUrl = e.target.result;\r\n        setFiles(file);\r\n      };\r\n      setUpload(true);\r\n      return false;\r\n    },\r\n    onRemove: (file) => {\r\n      setUpload(false);\r\n      setFiles([]);\r\n    },\r\n  };\r\n\r\n  const onError = (error) => {\r\n    error.errorFields.map((err) => {\r\n      notification.error({\r\n        message: `[${err.name}]`,\r\n        description: err.errors,\r\n        duration: 5,\r\n      });\r\n    });\r\n  };\r\n\r\n  const SendForm = async () => {\r\n    const formData = new FormData();\r\n    formData.append(\"nombre\", datos.nombre);\r\n    formData.append(\"telefono\", datos.telefono);\r\n    formData.append(\"calle_numero\", datos.calle_numero);\r\n    formData.append(\"cp\", datos.cp);\r\n    formData.append(\"colonia\", datos.colonia);\r\n    formData.append(\"ciudad\", datos.ciudad);\r\n    formData.append(\"estado\", datos.estado);\r\n    // formData.append(\"lat\", datos.lat);\r\n    // formData.append(\"lng\", datos.lng);\r\n    // formData.append(\"politicas\", datos.politicas);\r\n    formData.append(\"imagenCorp\", datos.imagenCorp);\r\n    formData.append(\"diasHorariosEmpresas\", datos.diasHorariosEmpresas);\r\n    formData.append(\"linkFace\", datos.linkFace);\r\n    formData.append(\"linkInsta\", datos.linkInsta);\r\n    formData.append(\"linkTweeter\", datos.linkTweeter);\r\n\r\n    setLoading(true);\r\n\r\n    if (control === false) {\r\n\r\n      if (files.length === 0) {\r\n        setLoading(false);\r\n        notification.info({\r\n          message: \"Ups, algo salio mal\",\r\n          description: \"La imagen es obligatoria\",\r\n\r\n        });\r\n      } else {\r\n        setLoading(true);\r\n        formData.append(\"imagen\", files);\r\n        await clienteAxios\r\n          .post(\"/tienda/\", formData, {\r\n            headers: {\r\n              \"Content-Type\": \"multipart/form-data\",\r\n              Authorization: `bearer ${token}`,\r\n            },\r\n          })\r\n          .then((res) => {\r\n            setLoading(false);\r\n            setCurrent(current + 1);\r\n            next();\r\n            notification.success({\r\n              message: \"Registro exitoso\",\r\n              description: res.data.message,\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            if (err.response) {\r\n              notification.error({\r\n                message: \"Error\",\r\n                description: err.response.data.message,\r\n                duration: 2,\r\n              });\r\n            } else {\r\n              notification.error({\r\n                message: \"Error de conexion\",\r\n                description: \"Al parecer no se a podido conectar al servidor.\",\r\n                duration: 2,\r\n              });\r\n            }\r\n          });\r\n      }\r\n    } else {\r\n      setLoading(true);\r\n      if (files.length !== 0) {\r\n        formData.append(\"imagen\", files);\r\n      }\r\n      await clienteAxios\r\n        .put(`/tienda/${datosNegocio._id}`, formData, {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setLoading(false);\r\n          setCurrent(current + 1);\r\n          next();\r\n          notification.success({\r\n            message: \"Registro exitoso\",\r\n            description: res.data.message,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false);\r\n          if (err.response) {\r\n            notification.error({\r\n              message: \"Error\",\r\n              description: err.response.data.message,\r\n              duration: 2,\r\n            });\r\n          } else {\r\n            notification.error({\r\n              message: \"Error de conexion\",\r\n              description: \"Al parecer no se a podido conectar al servidor.\",\r\n              duration: 2,\r\n            });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  const steps = [\r\n    {\r\n      title: \"Datos de la Tienda\",\r\n      content: (\r\n        <div className=\"\" >\r\n          <Spin size=\"large\" spinning={loading}>\r\n            <Form\r\n              onFinish={SendForm}\r\n              form={form}\r\n              // onFinishFailed={onError}\r\n            >\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <Divider>Logo del negocio</Divider>\r\n                  <div className=\"d-flex justify-content-center m-2\">\r\n                    <Alert\r\n                      className=\"info-recomended-sizes\"\r\n                      message=\"Tamaño recomendado para la imagen es: 900x300px\"\r\n                      type=\"info\"\r\n                      showIcon\r\n                    />\r\n                  </div>\r\n                  <div className=\"m-auto\">\r\n                    <Form.Item label=\"Logo\">\r\n                      <Upload {...propss} name=\"imagen\">\r\n                        <Button disabled={upload}>\r\n                          <UploadOutlined /> Subir\r\n                        </Button>\r\n                      </Upload>\r\n                    </Form.Item>\r\n                    {control === false ? (\r\n                      \"\"\r\n                    ) : (\r\n                      <div>\r\n                        <p className=\"text-center\">Imagen actual:</p>\r\n                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                          <img\r\n                            className=\"d-block img-fluid mt-2\"\r\n                            width=\"200\"\r\n                            alt=\"imagen de base\"\r\n                            src={aws + imagen}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <Divider>Información de la tienda</Divider>\r\n                <div className=\"col-lg-6 col-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Nombre\"\r\n                    labelCol={{ offset: 1, span: 5 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, nombre: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Nombre obligatorio\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"nombre\"\r\n                    >\r\n                      <Input name=\"nombre\" placeholder=\"Nombre del negocio\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-6 col-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Telefono \"\r\n                    labelCol={{ offset: 1, span: 5 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, telefono: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Telefono obligatorio\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"telefono\"\r\n                    >\r\n                      <Input name=\"telefono\" placeholder=\"Telefono\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Calle\"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, calle_numero: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Direccion obligatoria\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"calle_numero\"\r\n                    >\r\n                      <Input name=\"calle_numero\" placeholder=\"Calle y Numero\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Código Postal \"\r\n                    onChange={(e) => setDatos({ ...datos, cp: e.target.value })}\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: \"Código Postal obligatorio\",\r\n                        },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"cp\"\r\n                    >\r\n                      <Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Colonia \"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, colonia: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Colonia obligatoria\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"colonia\"\r\n                    >\r\n                      <Input name=\"colonia\" placeholder=\"Colonia\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mt-3 justify-content-center\">\r\n                <div className=\"col-lg-5 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Ciudad\"\r\n                    labelCol={{ offset: 1, span: 4 }}\r\n                    wrapperCol={{ offset: 1, span: 15 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, ciudad: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Direccion obligatoria\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"ciudad\"\r\n                    >\r\n                      <Input name=\"ciudad\" placeholder=\"Ciudad\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-5 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Estado\"\r\n                    labelCol={{ offset: 1, span: 4 }}\r\n                    wrapperCol={{ offset: 1, span: 15 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, estado: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Estado obligatorio\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"estado\"\r\n                    >\r\n                      <Input name=\"estado\" placeholder=\"Estado donde vives\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              {/* <div className=\"row d-flex justify-content-center align-items-center\">\r\n                <Divider>Ubicación</Divider>\r\n                <div className=\"row justify-content-center\">\r\n                  <div className=\"col-lg-12 text-center\">\r\n                    <a\r\n                      href=\"https://www.google.com.mx/maps/preview\"\r\n                      target=\"_blank\"\r\n                      style={{ fontSize: 16 }}\r\n                    >\r\n                      Ir a Google Maps\r\n                      <FontAwesomeIcon\r\n                        icon={faMapMarkedAlt}\r\n                        style={{ marginLeft: 15, fontSize: \"20px\" }}\r\n                      />\r\n                    </a>\r\n                  </div>\r\n                  <div className=\"col-lg-4 col-12\">\r\n                    <Form.Item\r\n                      className=\"m-2\"\r\n                      label=\"Latitud \"\r\n                      labelCol={{ offset: 1, span: 4 }}\r\n                      wrapperCol={{ offset: 1, span: 12 }}\r\n                      onChange={(e) =>\r\n                        setDatos({ ...datos, lat: e.target.value })\r\n                      }\r\n                    >\r\n                      <Form.Item\r\n                        rules={[\r\n                          { required: true, message: \"Latitud obligatoria\" },\r\n                        ]}\r\n                        noStyle\r\n                        name=\"lat\"\r\n                      >\r\n                        <Input name=\"lat\" placeholder=\"Latitud\" />\r\n                      </Form.Item>\r\n                    </Form.Item>\r\n                  </div>\r\n                  <div className=\"col-lg-4 col-12\">\r\n                    <Form.Item\r\n                      className=\"m-2\"\r\n                      label=\"Longitud\"\r\n                      labelCol={{ offset: 1, span: 4 }}\r\n                      wrapperCol={{ offset: 1, span: 12 }}\r\n                      onChange={(e) =>\r\n                        setDatos({ ...datos, lng: e.target.value })\r\n                      }\r\n                    >\r\n                      <Form.Item\r\n                        rules={[\r\n                          { required: true, message: \"Longitud obligatoria\" },\r\n                        ]}\r\n                        noStyle\r\n                        name=\"lng\"\r\n                      >\r\n                        <Input name=\"lng\" placeholder=\"Latitud\" />\r\n                      </Form.Item>\r\n                    </Form.Item>\r\n                  </div>\r\n                </div>\r\n              </div> */}\r\n\r\n              <div className=\"row\">\r\n                <Divider>Redes sociales</Divider>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Facebook \"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, linkFace: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item noStyle name=\"linkFace\">\r\n                      <Input\r\n                        name=\"linkFace\"\r\n                        placeholder=\"https://facebook.com/\"\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Instagram\"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, linkInsta: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item noStyle name=\"linkInsta\">\r\n                      <Input\r\n                        name=\"linkInsta\"\r\n                        placeholder=\"https://instagram.com/\"\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Tweeter\"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, linkTweeter: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item noStyle name=\"linkTweeter\">\r\n                      <Input\r\n                        name=\"linkTweeter\"\r\n                        placeholder=\"https://twitter.com/\"\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <Divider>Horarios y Días Laborales</Divider>\r\n                <div className=\"col-12\">\r\n                  <Form.Item className=\"m-2\">\r\n                    <Form.Item\r\n                      name=\"diasHorariosEmpresas\"\r\n                    >\r\n                      <Editor\r\n                        disabled={false}\r\n                        init={{\r\n                          height: 250,\r\n                          menubar: true,\r\n                          plugins: [\r\n                            \"advlist autolink lists link image charmap print preview anchor\",\r\n                            \"searchreplace visualblocks code fullscreen\",\r\n                            \"insertdatetime media table paste code help wordcount\",\r\n                          ],\r\n                          toolbar:\r\n                            \"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n                        }}\r\n                        onEditorChange={capturarHorariosDias}\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"row\">\r\n                <Divider>Imagen corporativa</Divider>\r\n                <div className=\"col-12\">\r\n                  <Form.Item className=\"m-2\">\r\n                    <Form.Item\r\n                      rules={[ { required: true, message: 'Imagen corporativa es obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t    noStyle \r\n                      name=\"imagenCorp\"\r\n                    >\r\n                      <Editor\r\n                        disabled={false}\r\n                        init={{\r\n                          height: 450,\r\n                          menubar: true,\r\n                          plugins: [\r\n                            \"advlist autolink lists link image charmap print preview anchor\",\r\n                            \"searchreplace visualblocks code fullscreen\",\r\n                            \"insertdatetime media table paste code help wordcount\",\r\n                          ],\r\n                          toolbar:\r\n                            \"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n                        }}\r\n                        onEditorChange={capturarImagenCorpEditor}\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n                <Button\r\n                  className=\"text-center\"\r\n                  size=\"large\"\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                  icon={\r\n                    control === false ? (\r\n                      <PlusCircleOutlined style={{ fontSize: 24 }} />\r\n                    ) : (\r\n                      <EditOutlined style={{ fontSize: 24 }} />\r\n                    )\r\n                  }\r\n                  // onClick={next}\r\n                >\r\n                  {control === false\r\n                    ? \"Registrar informacion de la tienda\"\r\n                    : \"Actualizar información de la tienda\"}\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </Spin>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Políticas de Empresa\",\r\n      content: (\r\n        <div>\r\n          <Registro_Politicas\r\n            setCurrent={setCurrent}\r\n            current={current}\r\n          />\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Costos de Envió\",\r\n      content: (\r\n        <div>\r\n          <PoliticasEnvio\r\n            setCurrent={setCurrent}\r\n            current={current}\r\n          />\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Covertura de envió\",\r\n      content: (\r\n        <div>\r\n          <Cobertura_envio />\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Steps current={current}>\r\n        {steps.map((item) => (\r\n          <Step key={item.title} title={item.title} status={item.status}/>\r\n        ))}\r\n      </Steps>\r\n\r\n      <div className=\"steps-content\">{steps[current].content}</div>\r\n\r\n      {/* <div className=\"steps-action\">\r\n        {current < steps.length - 1 && (\r\n          <Button type=\"primary\" onClick={() => next()}>\r\n            Siguiente\r\n          </Button>\r\n        )}\r\n        {current > 0 && (\r\n          <Button style={{ margin: \"0 8px\" }} onClick={() => prev()}>\r\n            Anterior\r\n          </Button>\r\n        )}\r\n      </div> */}\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Button, Drawer, Alert, notification, Empty } from 'antd';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Geolocalizacion from '../../../../users/geolocalizacion';\r\nimport './MostrarRegistroTienda.scss';\r\nimport {\r\n\tPlusCircleOutlined,\r\n\tEditOutlined,\r\n\tEyeOutlined,\r\n\tFacebookFilled,\r\n\tInstagramFilled,\r\n\tTwitterCircleFilled\r\n} from '@ant-design/icons';\r\nimport Spin from '../../../../../components/Spin';\r\nimport RegistroTienda from './RegistroTienda';\r\nimport { Link } from 'react-router-dom';\r\nimport aws from '../../../../../config/aws';\r\n\r\nfunction MostrarRegistroTienda(props) {\r\n\tconst { token } = props;\r\n\r\n\tconst [ action, setAction ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datosNegocio, setDatosNegocio ] = useState({});\r\n\tconst [ face, setFace ] = useState('');\r\n\tconst [ insta, setInsta ] = useState('');\r\n\tconst [ twitter, setTwitter ] = useState('');\r\n\r\n\tconst [ reloadInfo, setReloadInfo ] = useState(false);\r\n\tconst [ politicasEnvio, setPoliticasEnvio ] = useState([]);\r\n\r\n\t// const [ lat, setLat ] = useState('');\r\n\t// const [ lng, setLng ] = useState('');\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst drawnerClose = () => {\r\n\t\tsetVisible(false);\r\n\t\tsetReloadInfo(!reloadInfo)\r\n\t};\r\n\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\tconst next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t};\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\tfunction peticionDatosTienda() {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio(res.data[0]);\r\n\t\t\t\tif (res.data[0]) {\r\n\t\t\t\t\tsetAction(true);\r\n\t\t\t\t\t// if (res.data[0].ubicacion[0].lat === '' || res.data[0].ubicacion[0].lat === 'undefined') {\r\n\t\t\t\t\t// \tsetLat('19.767980');\r\n\t\t\t\t\t// } else {\r\n\t\t\t\t\t// \tsetLat(res.data[0].ubicacion[0].lat);\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// if (res.data[0].ubicacion[0].lng === '' || res.data[0].ubicacion[0].lng === 'undefined') {\r\n\t\t\t\t\t// \tsetLng('-104.358159');\r\n\t\t\t\t\t// } else {\r\n\t\t\t\t\t// \tsetLng(res.data[0].ubicacion[0].lng);\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tif (res.data[0].linkFace !== 'undefined' && res.data[0].linkFace !== '') {\r\n\t\t\t\t\t\tsetFace(res.data[0].linkFace);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkInsta !== 'undefined' && res.data[0].linkInsta !== '') {\r\n\t\t\t\t\t\tsetInsta(res.data[0].linkInsta);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkTweeter !== 'undefined' && res.data[0].linkTweeter !== '') {\r\n\t\t\t\t\t\tsetTwitter(res.data[0].linkTweeter);\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t\t// else {\r\n\t\t\t\t// \tsetLat('19.767980');\r\n\t\t\t\t// \tsetLng('-104.358159');\r\n\t\t\t\t// }\r\n\t\t\t\t/*             if(res.data[0] !== {}){\r\n                setAction(true)\r\n                setLat(res.data[0].ubicacion[0].lat)\r\n                setLng(res.data[0].ubicacion[0].lng)\r\n            }else{\r\n                setLat(\"19.767980\")\r\n                setLng(\"-104.358159\")\r\n            } */\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\t// setLat('19.767980');\r\n\t\t\t\t// setLng('-104.358159');\r\n\t\t\t\tsetDatosNegocio({});\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerPoliticasEnvio = useCallback(\r\n\t\tasync () => {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get('/politicasEnvio/', {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetPoliticasEnvio(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t[ token ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tpeticionDatosTienda();\r\n\t\t\tobtenerPoliticasEnvio();\r\n\t\t\tsetReloadInfo(false);\r\n\t\t},\r\n\t\t[ reloadInfo, obtenerPoliticasEnvio ]\r\n\t);\r\n\r\n\tif (loading) {\r\n\t\treturn <Spin />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"info-tienda\">\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle={\r\n\t\t\t\t\taction === false ? (\r\n\t\t\t\t\t\t'Registrando la información del negocio'\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Actualizando la información del negocio'\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{current > 0 && (\r\n\t\t\t\t\t\t\t<Button className=\"mx-1\" onClick={() => prev()}>\r\n\t\t\t\t\t\t\t\tAnterior\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{current < 3 && (\r\n\t\t\t\t\t\t\t<Button className=\"mx-1\" type=\"primary\" onClick={() => next()}>\r\n\t\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Button className=\"mx-1\" onClick={drawnerClose} type=\"primary\">\r\n\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<RegistroTienda\r\n\t\t\t\t\tdatosNegocio={datosNegocio}\r\n\t\t\t\t\tsetDatosNegocio={setDatosNegocio}\r\n\t\t\t\t\ttoken={token}\r\n\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\tsteps={[current, setCurrent]}\r\n\t\t\t\t\t// setReloadInfo={setReloadInfo}\r\n\t\t\t\t\t// drawnerClose={drawnerClose}\r\n\t\t\t\t/>\r\n\t\t\t</Drawer>\r\n\r\n\t\t\t<div className=\"contenedor-boton-datostienda\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tclassName=\"m-3\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t/* drawnerClose={drawnerClose} */\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\taction === false ? (\r\n\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tshowDrawer();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{action === false ? 'Agregar información tienda' : 'Editar información tienda'}\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t<p className=\"text-center mb-4 font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t'Ey aún no agregas la información de tu negocio.'\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Información de tu negocio'\r\n\t\t\t\t\t)}{' '}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"w-50\" style={{ margin: 'auto' }}>\r\n\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t<Alert message=\"Nota:\" description={<AlertTienda />} type=\"info\" showIcon />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{action === false ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">Logo del negocio:</p>\r\n\t\t\t\t\t\t<div className=\"mostrarRegistroTienda-imagen m-3\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid \"\r\n\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\tsrc={aws + datosNegocio.imagenLogo}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tNombre del negocio:{' '}\r\n\t\t\t\t\t\t\t<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Nombre de tu negocio' : datosNegocio.nombre}{' '}\r\n\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tTeléfono:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Teléfono' : datosNegocio.telefono}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCódigo Postal:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Código Postal' : datosNegocio.direccion[0].cp}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCalle:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Calle' : datosNegocio.direccion[0].calle_numero}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tColonia:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Colonia' : datosNegocio.direccion[0].colonia}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCiudad:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Colonia' : datosNegocio.direccion[0].ciudad} Ciudad\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row justify-content-around\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tEstado:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Estado' : datosNegocio.direccion[0].estado}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow\">\r\n\t\t\t\t\t\t<p className=\"m-2 h5 font-weight-bold\">Redes sociales:</p>\r\n\t\t\t\t\t\t{face !== '' ? (\r\n\t\t\t\t\t\t\t<a href={face} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<FacebookFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{insta !== '' ? (\r\n\t\t\t\t\t\t\t<a href={insta} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<InstagramFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{twitter !== '' ? (\r\n\t\t\t\t\t\t\t<a href={twitter} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<TwitterCircleFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row justify-content-around mt-3\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow \">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tHorarios de Atención:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Horarios de Atención:' : \r\n\t\t\t\t\t\t\t\t\t<div \r\n\t\t\t\t\t\t\t\t\t\tstyle={{lineHeight: \"35px\"}} \r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{__html: datosNegocio.diasHorariosEmpresas}} \r\n\t\t\t\t\t\t\t\t\t\tclassName='mt-1 px-4 ' \r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* <div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h5\">Ubicación actual: </p>\r\n\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\theight=\"60vh\"\r\n\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\tcenter={[ lat, lng ]}\r\n\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\tzoom={15}\r\n\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\tnombreMarcador=\"AB soluciones Empresariales\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> */}\r\n\r\n\t\t\t\t<div className=\"row mt-5\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Políticas de envío</p>\r\n\t\t\t\t\t\t{politicasEnvio.length === 0 ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"politicas-p mt-4\">\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tCosto por envío de paqueteria: <strong>${politicasEnvio.costoEnvio}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tPromoción de envío: <strong>${politicasEnvio.promocionEnvio}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tCosto de promocion de envío: <strong>${politicasEnvio.descuento}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Políticas de privacidad</p>\r\n\t\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\timage=\"https://es.seaicons.com/wp-content/uploads/2015/11/Review-Post-icon1.png\"\r\n\t\t\t\t\t\t\t\tdescription=\"Información existente\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Link to={`/politicas`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dashed\">\r\n\t\t\t\t\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Empty>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Imagen corporativa</p>\r\n\t\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\timage=\"https://es.seaicons.com/wp-content/uploads/2015/11/Review-Post-icon1.png\"\r\n\t\t\t\t\t\t\t\tdescription=\"Información existente\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Link to={`/quienes_somos`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dashed\">\r\n\t\t\t\t\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Empty>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction AlertTienda() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p className=\"h5\">\r\n\t\t\t\tRecuerda que tener la información de tu negocio es importante, ya que esta informacion ayudará que tu\r\n\t\t\t\tnegocio sea encontrado fácilmente.\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(MostrarRegistroTienda);\r\n","import React from 'react'\r\nimport {Helmet} from \"react-helmet\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nimport MostrarRegistroTienda from './services/RegistroTienda/MostrarRegistroTienda';\r\n\r\n\r\nfunction Admin(props) {\r\n\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n\t\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>Panel Principal</title>\r\n            </Helmet>\r\n            <div>\r\n                <div>\r\n                    <MostrarRegistroTienda token={token} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Admin)","import { createContext } from 'react'\r\n\r\nexport const ProductoContext = createContext(null);\r\nexport const DisabledContext = createContext(null);\r\nexport const IdProductoContext = createContext(null);\r\n\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Modal } from 'antd';\r\nimport {\r\n\tUploadOutlined,\r\n\tEyeOutlined,\r\n\tDeleteOutlined,\r\n\tPictureOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport './registrar_galeria.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nfunction RegistrarGaleria() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(ProductoContext);\r\n\tconst [ galeria, setGaleria ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst props = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('producto', productoContext);\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait subirBD(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst subirBD = async (formData) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/galeria/nueva/${productoContext}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerBD = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/galeria/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst eliminarBD = async (idimagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/galeria/${productoContext}/imagen/${idimagen}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idimagen) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de borrar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBD(idimagen);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst [ prev, setPrev ] = useState('');\r\n\tif (galeria !== undefined) {\r\n\t\tvar render = galeria.map((imagenes) => (\r\n\t\t\t<div className=\"shadow rounded imgStyle d-inline-block\" key={imagenes._id}>\r\n\t\t\t\t<div className=\"padre-iconos d-flex justify-content-around align-items-center\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"img\"\r\n\t\t\t\t\t\tsrc={aws+imagenes.url}\r\n\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"iconos rounded\">\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tsetPrev(imagenes.url);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EyeOutlined style={{ fontSize: 20 }} className=\"ver\" />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(imagenes._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ fontSize: 20 }} className=\"eliminar\" />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"responsive\">\r\n\t\t\t\t<div className=\"col-sm-12 col-lg-6 imgUploads\">\r\n\t\t\t\t\t<Upload {...props} className=\"upload-text-display\">\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Upload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t<div className=\"padre\">{render}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-12 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center\">Visualización de la imagen</p>\r\n\t\t\t\t\t<div className=\"shadow rounded imgPreview-registrar-galeria d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{prev === '' || galeria.length === 0 ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-registrar-galeria\"\r\n\t\t\t\t\t\t\t\tsrc={aws+prev}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarGaleria;\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Alert } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport './registrar_talla.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n/* import { StepsContext } from '../../contexts/stepsContext'; */\r\n\r\nfunction RegistrarTalla(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productoContext, disabledForm ] = useContext(ProductoContext);\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst setDisabled = props.disabledButtons;\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttalla: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirTalla = async () => {\r\n\t\tconst resul = productos.map((tallas) => {\r\n\t\t\tif (tallas.talla === datos.talla) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Esta talla ya esta registrada',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.talla === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addTalla/${productoContext}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDisabled(false);\r\n\t\t\t\t\tobtenerTalla();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\ttalla: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst eliminarTalla = async (idtalla) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoContext}/talla/${idtalla}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerTalla = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.tallas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((tallas) => (\r\n\t\t\t<div className=\"m-2\" key={tallas._id}>\r\n\t\t\t\t<Badge count={tallas.cantidad} style={{ backgroundColor: '#52c41a' }}>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded\">\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarTalla(tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 25, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{disabledForm === false ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert style={{ width: '60%' }} message=\"Ya puedes registrar tallas\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Podrás registrar tallas después de registrar tu producto\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<p className=\"text-center mb-1\">Escribe la talla y la cantidad de productos disponibles de esa talla.</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<Form onFinish={subirTalla} form={form} className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"talla\"\r\n\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input disabled={disabledForm} name=\"talla\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input disabled={disabledForm} name=\"cantidad\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Item labelCol={{ offset: 1, span: 4 }} wrapperCol={{ offset: 1, span: 12 }}>\r\n\t\t\t\t\t\t\t\t<Button disabled={disabledForm} type=\"dafault\" htmlType=\"submit\" loading={loading}>\r\n\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t<div className=\"row\">{render}</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarTalla;\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Alert } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport './registrar_talla.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n/* import { StepsContext } from '../../contexts/stepsContext'; */\r\n\r\nfunction RegistrarNumero(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productoContext, disabledForm ] = useContext(ProductoContext);\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst setDisabled = props.disabledButtons;\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnumero: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirNumero = async () => {\r\n\t\tconst resul = productos.map((numeros) => {\r\n\t\t\tif (numeros.numero === datos.numero) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Este numero ya esta registrado',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.numero === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addNumero/${productoContext}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDisabled(false);\r\n\t\t\t\t\tobtenerNumero();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tnumero: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst eliminarNumero = async (idnumero) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoContext}/numero/${idnumero}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerNumero = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.numeros);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((numero) => (\r\n\t\t\t<div className=\"m-2\" key={numero._id}>\r\n\t\t\t\t<Badge count={numero.cantidad} style={{ backgroundColor: '#52c41a' }}>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{numero.numero}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded\">\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarNumero(numero._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 25, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{disabledForm === false ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Ya puedes registrar número de calzado\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Podrás registrar el número de calzado después de registrar tu producto\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<p className=\"text-center mb-1\">\r\n\t\t\t\tEscribe la talla del calzado y la cantidad de productos disponibles de esa talla.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<Form onFinish={subirNumero} form={form}>\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\tlabel=\"Numero\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"numero\" disabled={disabledForm} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cantidad\" disabled={disabledForm} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Item labelCol={{ offset: 1, span: 4 }} wrapperCol={{ offset: 1, span: 12 }}>\r\n\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\" disabled={disabledForm} loading={loading}>\r\n\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t<div className=\"row\">{render}</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarNumero;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Select, Steps, notification, Upload, Spin, Divider, Alert, Radio } from 'antd';\r\nimport { UploadOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport './registrar_producto.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\nimport RegistrarGaleria from './registrar_galeria';\r\nimport RegistrarTalla from './registrar_talla';\r\nimport RegistrarNumero from './registrar_numero';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\n\r\nconst { Option } = Select;\r\nconst { Step } = Steps;\r\n\r\n///Layout para formulario(columnas)\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nString.prototype.capitalize = function() {\r\n\treturn this.charAt(0).toUpperCase() + this.slice(1);\r\n};\r\n\r\nfunction RegistrarProducto(props) {\r\n\tconst formRef = useRef(null);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ disabled, setDisabled ] = props.disabledButtons;\r\n\tconst setCloseDraw = props.closeDraw;\r\n\t///Autorizacion a la pagina con Token\r\n\tconst token = localStorage.getItem('token');\r\n\t/// Declaracion de variables para los pasos\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\tconst [ editor, setEditor ] = useState();\r\n\tconst [ disabledPrev, setDisabledPrev ] = useState(false);\r\n\tconst [ disabledform, setDisabledForm ] = useState(true);\r\n\tconst [ disabledformProductos, setDisabledFormProductos ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingCombo, setLoadingCombo ] = useState(false);\r\n\tconst reload = props.reloadProductos;\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ item, setItem ] = useState();\r\n\tconst [ buttonCat, setButtonCat ] = useState(true);\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\tconst [ categoriasDefault, setCategoriasDefault ] = useState([]);\r\n\tconst [ subcategoriasDefault, setSubcategoriasDefault ] = useState([]);\r\n\tconst [ subCategoriasBD, setSubCategoriasBD ] = useState([]);\r\n\tconst [ subCategoria, setSubCategoria ] = useState([]);\r\n\tconst [ displayColorPicker, setDisplayColorPicker ] = useState(false);\r\n\tconst [ color, setColor ] = useState('');\r\n\tconst [ valueSelect, setValueSelect ] = useState();\r\n\tconst [ valueSelectSubCat, setValueSelectSubCat ] = useState();\r\n\r\n\tconst [ temporadasBD, setTemporadasBD ] = useState([]);\r\n\r\n\tconst styles = reactCSS({\r\n\t\tdefault: {\r\n\t\t\tcolor: {\r\n\t\t\t\twidth: '36px',\r\n\t\t\t\theight: '14px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackground: color\r\n\t\t\t},\r\n\t\t\tswatch: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tborderRadius: '1px',\r\n\t\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t},\r\n\t\t\tpopover: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: '2'\r\n\t\t\t},\r\n\t\t\tcover: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\tright: '0px',\r\n\t\t\t\tbottom: '0px',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetDisplayColorPicker(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetDisplayColorPicker(false);\r\n\t};\r\n\r\n\tconst handleChange = (color) => {\r\n\t\tsetColor(color.hex);\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColor('');\r\n\t\tform.setFieldsValue({ color: '' });\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tsetCurrent(0);\r\n\t\t\t\tsetDisabledFormProductos(false);\r\n\t\t\t\tsetColor('');\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledForm(true);\r\n\t\t\t\tsetSubCategoria([]);\r\n\t\t\t\tsetValueSelectSubCat();\r\n\t\t\t\tsetSubcategoriasDefault([]);\r\n\t\t\t\tsetItem('');\r\n\t\t\t\tsetSelect('');\r\n\t\t\t\tsetCategoriasDefault([]);\r\n\t\t\t\tsetValueSelect();\r\n\t\t\t}\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetValueSelect();\r\n\t\t\tsetCurrent(0);\r\n\t\t\tsetDisabledFormProductos(false);\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerTemporadasBD();\r\n\t\t\tform.resetFields();\r\n\t\t},\r\n\t\t[ reload, form ]\r\n\t);\r\n\r\n\tconst next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t\tif (current === 0) {\r\n\t\t\tobtenerSubcategorias();\r\n\t\t\tsetDisabled(true);\r\n\t\t} else if (current >= 1) {\r\n\t\t\tsetDisabledPrev(true);\r\n\t\t} else {\r\n\t\t\tsetDisabledPrev(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\t///UPLOAD ANTD PRODUCTO\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\t///capturar datos}\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tcodigo: '',\r\n\t\tsubCategoria: '',\r\n\t\tnombre: '',\r\n\t\tcantidad: '',\r\n\t\tprecio: '',\r\n\t\timagen: '',\r\n\t\tcolor: ''\r\n\t});\r\n\t//// Capturar valores de categoria\r\n\tconst [ select, setSelect ] = useState('');\r\n\tconst [ genero, setGenero ] = useState('Ninguno');\r\n\tconst [ tipoCategoria, setTipoCategoria ] = useState('');\r\n\r\n\tconst onSelect = (value) => {\r\n\t\tsetSelect(value[1]);\r\n\t\tsetValueSelect(value[1]);\r\n\t\tif (value[0] === 'Calzado' || value[0] === 'Ropa') {\r\n\t\t\tsetTipoCategoria(value[0]);\r\n\t\t} else {\r\n\t\t\tsetTipoCategoria('Otros');\r\n\t\t}\r\n\t\tif (value) {\r\n\t\t\tsetDisabled(false);\r\n\t\t} else {\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\t};\r\n\tconst generoOnChange = (value) => {\r\n\t\tsetGenero(value);\r\n\t};\r\n\tconst obtenerEditor = (value) => {\r\n\t\tsetEditor(value);\r\n\t};\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\t/// Guardar y almacenar en la api REST\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.forEach((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tasync function onFinish() {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('codigo', datos.codigo);\r\n\t\tformData.append('nombre', datos.nombre);\r\n\t\tformData.append('categoria', select);\r\n\t\tformData.append('tipoCategoria', tipoCategoria);\r\n\t\tformData.append('subCategoria', subCategoria);\r\n\t\tformData.append('temporada', temporada);\r\n\t\tformData.append('genero', genero);\r\n\t\tformData.append('color', datos.color);\r\n\t\tformData.append('colorHex', color);\r\n\t\tformData.append('cantidad', datos.cantidad);\r\n\t\tformData.append('precio', datos.precio);\r\n\t\tformData.append('descripcion', editor);\r\n\t\tformData.append('imagen', files);\r\n\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/productos/', formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabledPrev(true);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledFormProductos(true);\r\n\t\t\t\tsetDisabledForm(false);\r\n\t\t\t\tsetProductoID(res.data.userStored._id);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tif (tipoCategoria === 'Otros') {\r\n\t\t\t\t\tnext();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/categorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerSubcategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/Subcategorias/${select}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetSubCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerTemporadasBD() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/agrupar/temporadas`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetTemporadasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerAtributo = (e) => {\r\n\t\tsetTipoCategoria(e.target.value);\r\n\t};\r\n\r\n\tconst addItemCategoria = () => {\r\n\t\tsetCategoriasDefault([ ...categoriasDefault, { tipoCategoria, _id: item } ]);\r\n\t\tsetSelect(item);\r\n\t\t/* setTipoCategoria('Otros'); */\r\n\t\tsetDisabled(false);\r\n\t\tsetValueSelect(item);\r\n\t\tform.resetFields();\r\n\t};\r\n\tconst addItemSubCategoria = () => {\r\n\t\tsetSubcategoriasDefault([ ...subcategoriasDefault, item ]);\r\n\t\tsetValueSelectSubCat(item);\r\n\t\tsetSubCategoria(item);\r\n\t\tform.setFieldsValue({ subCategoria: item });\r\n\t};\r\n\r\n\tconst onSelectSubCategoria = (value) => {\r\n\t\tsetSubCategoria(value);\r\n\t\tsetValueSelectSubCat(value);\r\n\t\tform.setFieldsValue({ subCategoria: value });\r\n\t};\r\n\tconst onCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst onSubCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\t/* temporadas */\r\n\tconst [ temporada, setTemporada ] = useState('');\r\n\tconst [ valueSelectTemporada, setValueSelectTemporada ] = useState();\r\n\tconst [ temporadaDefault, setTemporadaDefault ] = useState([]);\r\n\r\n\tconst onSelectTemporada = (value) => {\r\n\t\tsetTemporada(value);\r\n\t\tsetValueSelectTemporada(value);\r\n\t\tform.setFieldsValue({ temporada: value });\r\n\t};\r\n\r\n\tconst onTemporadaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst addItemTemporada = () => {\r\n\t\tsetTemporadaDefault([ ...temporadaDefault, item ]);\r\n\t\tsetValueSelectTemporada(item);\r\n\t\tsetTemporada(item);\r\n\t\tform.setFieldsValue({ temporada: item });\r\n\t};\r\n\r\n\t////CONTENIDO DE LOS PASOS\r\n\tconst steps = [\r\n\t\t{\r\n\t\t\ttitle: 'Categoría',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4 mb-2\">\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<h2 className=\"mb-5\">Selecciona una categoria para continuar o agrega una nueva</h2>\r\n\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t<Form.Item className=\"my-3\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"categorias\">\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tname=\"categorias\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Categoria\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={onCategoriaChange}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item className=\"my-3\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"atributos\">\r\n\t\t\t\t\t\t\t\t<Radio.Group onChange={obtenerAtributo} name=\"atributos\">\r\n\t\t\t\t\t\t\t\t\t<Radio.Button value=\"Calzado\">Calzado</Radio.Button>\r\n\t\t\t\t\t\t\t\t\t<Radio.Button value=\"Ropa\">Ropa</Radio.Button>\r\n\t\t\t\t\t\t\t\t\t<Radio.Button value=\"Otros\">Otros</Radio.Button>\r\n\t\t\t\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={addItemCategoria}>\r\n\t\t\t\t\t\t\t\t\tAñadir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form>\r\n\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\tvalue={valueSelect}\r\n\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Seleciona una categoria\"\r\n\t\t\t\t\t\t\tonChange={(e) => onSelect(e)}\r\n\t\t\t\t\t\t\tdropdownRender={(menu) => menu}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{categoriasDefault && categoriasDefault.length !== 0 ? (\r\n\t\t\t\t\t\t\t\tcategoriasDefault.map((item) => (\r\n\t\t\t\t\t\t\t\t\t<Option key={item} value={[ item.tipoCategoria, item._id ]}>\r\n\t\t\t\t\t\t\t\t\t\t{item._id}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{categoriasBD && categoriasBD.length !== 0 ? (\r\n\t\t\t\t\t\t\t\tcategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Option key={item._id} value={[ item.tipoCategoria, item._id ]}>\r\n\t\t\t\t\t\t\t\t\t\t\t{item._id}\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4 mb-2\">\r\n\t\t\t\t\t<div style={{ width: 900 }}>\r\n\t\t\t\t\t\t<h2 className=\"mb-5 text-center\">Registrar el producto</h2>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\t\t{...layout}\r\n\t\t\t\t\t\t\t\tname=\"nest-messages\"\r\n\t\t\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\t\t\tonFinishFailed={onError}\r\n\t\t\t\t\t\t\t\tinitialValues={{ categoria: select, genero: 'Ninguno' }}\r\n\t\t\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\t\t\tref={formRef.current}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Código de barras\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tname=\"codigo\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Campo opcional\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Subcategoria\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"subCategoria\"\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueSelectSubCat}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una subcategoria\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onSelectSubCategoria}\r\n\t\t\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 'auto' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onSubCategoriaChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemSubCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{subcategoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t\t\t{subCategoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\tsubCategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Temporada\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item name=\"temporada\">\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueSelectTemporada}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una temporada\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onSelectTemporada}\r\n\t\t\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onTemporadaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemTemporada}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{temporadaDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t\t\t{temporadasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\ttemporadasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Género\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"genero\" /* \r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]} */\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona un género\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={generoOnChange}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Ninguno\">Ninguno</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Niño\">Niño</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Niña\">Niña</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Hombre\">Hombre</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Mujer\">Mujer</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Mixto\">Mixto</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Nombre del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input name=\"nombre\" disabled={disabledformProductos} />\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t{tipoCategoria === 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Stock actual\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Precio del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\t\tstep=\".01\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Color del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Input.Group compact>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"colorHex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.swatch} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.color} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{displayColorPicker ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.popover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.cover} onClick={handleClose} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SketchPicker color={color} onChange={handleChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\t/* rules={[ { required: true, message: 'Este campo es requerido' } ]} */\r\n\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Escribe el color, por ejemplo: Verde\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={resetColor}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tQuitar color\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Input.Group>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Descripción del producto\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\t\t\tvaluePropName=\"Editor\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonEditorChange={obtenerEditor}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 800x800px\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Imagen principal\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"imagen\"\r\n\t\t\t\t\t\t\t\t\t\tvaluePropName=\"filelist\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Upload {...propss}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" disabled={disabledformProductos}>\r\n\t\t\t\t\t\t\t\t\t\tRegistrar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t{tipoCategoria === 'Ropa' ? (\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<ProductoContext.Provider value={[ productoID, disabledform ]}>\r\n\t\t\t\t\t\t\t\t\t\t<RegistrarTalla disabledButtons={setDisabled} />\r\n\t\t\t\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{tipoCategoria === 'Calzado' ? (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<ProductoContext.Provider value={[ productoID, disabledform ]}>\r\n\t\t\t\t\t\t\t\t\t\t<RegistrarNumero disabledButtons={setDisabled} />\r\n\t\t\t\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Galería(opcional)',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"contenedor-galeria d-flex justify-content-center align-items-center mt-4 mb-5\">\r\n\t\t\t\t\t<div className=\"text-center\" style={{ width: '90%' }}>\r\n\t\t\t\t\t\t<h2>Agrega más imágenes para tu producto</h2>\r\n\t\t\t\t\t\t<p>Puedes agregar más imágenes de tu producto para que tus clientes puedan verlas.</p>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\tclassName=\"info-recomended-sizes\"\r\n\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 800x800px\"\r\n\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t\t<RegistrarGaleria />\r\n\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div style={{ width: '80%' }}>\r\n\t\t\t\t\t<Steps current={current}>{steps.map((item) => <Step key={item.title} title={item.title} />)}</Steps>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps-content\">\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t{steps[current].content}\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t{current > 0 && (\r\n\t\t\t\t\t<Button style={{ margin: '0 8px' }} onClick={prev} disabled={disabledPrev}>\r\n\t\t\t\t\t\tAtras\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{current === steps.length - 1 && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Su producto ha sido guardado',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetCloseDraw(true);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tFinalizar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{current < steps.length - 1 && (\r\n\t\t\t\t\t<Button type=\"primary\" onClick={next} disabled={disabled}>\r\n\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(RegistrarProducto);\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Modal, Alert } from 'antd';\r\nimport {\r\n\tUploadOutlined,\r\n\tEyeOutlined,\r\n\tDeleteOutlined,\r\n\tPictureOutlined,\r\n\tEditOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport './actualizar_galeria.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nfunction RegistrarGaleria() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ galeria, setGaleria ] = useState();\r\n\tconst [ existeGaleria, setExisteGaleria ] = useState(false);\r\n\tconst [ idImagen, setIdImagen ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ prev, setPrev ] = useState('');\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerBD();\r\n\t\t\tsetExisteGaleria(false);\r\n\t\t\tsetPrev('');\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst antprops = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('producto', productoID);\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait subirBD(formData);\r\n\t\t}\r\n\t};\r\n\tconst propsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait actualizarBD(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst actualizarBD = async (formdata) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/galeria/${productoID}/imagen/${idImagen}`, formdata, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirBD = async (formData) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/galeria/nueva/${productoID}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerBD = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/galeria/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t\tsetExisteGaleria(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tif (err.response.status === 404) {\r\n\t\t\t\t\t\tsetExisteGaleria(false);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst eliminarBD = async (idimagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/galeria/${productoID}/imagen/${idimagen}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idimagen) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de borrar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBD(idimagen);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tif (galeria !== undefined) {\r\n\t\tvar render = galeria.map((imagenes) => (\r\n\t\t\t<div className=\"shadow rounded imgStyle d-inline-block \" key={imagenes._id}>\r\n\t\t\t\t<div className=\"padre-iconos d-flex justify-content-around align-items-center\">\r\n\t\t\t\t\t<img className=\"img\" src={aws + imagenes.url} alt=\"preview-imagen\" />\r\n\t\t\t\t\t<div className=\"iconos rounded\">\r\n\t\t\t\t\t\t<EyeOutlined\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\tclassName=\"ver\"\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tsetPrev(imagenes.url);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Upload {...propsActualizar}>\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\t\tclassName=\"modificar\"\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\tsetIdImagen(imagenes._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\tclassName=\"eliminar\"\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(imagenes._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 800x800px\" type=\"info\" showIcon />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"responsive\">\r\n\t\t\t\t<div className=\"col-sm-4 col-lg-6 imgUploads\">\r\n\t\t\t\t\t<Upload {...antprops} className=\"upload-text-display\">\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Upload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t{existeGaleria ? (\r\n\t\t\t\t\t\t<div className=\"padre\">{render}</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mt-5\">\r\n\t\t\t\t\t\t\t<p>No hay Galeria</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-4 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center\">Visualización de la imagen</p>\r\n\t\t\t\t\t<div className=\"shadow rounded imgPreview-actualizar-galeria d-flex justify-content-center align-items-center mb-5\">\r\n\t\t\t\t\t\t{existeGaleria === false || prev === '' || galeria.length === 0 ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img className=\"imagen-actualizar-galeria\" src={aws + prev} alt=\"preview-imagen\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarGaleria;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Space } from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport './actualizar_tallas.scss';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\n\r\nfunction ActualizarTalla() {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ idTalla, setIdTalla ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttalla: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTalla();\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tasync function actualizarTalla() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/action/${productoID}/talla/${idTalla}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdTalla('');\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function nuevaTalla() {\r\n\t\tconst resul = productos.map((tallas) => {\r\n\t\t\tif (tallas.talla === datos.talla) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Esta talla ya esta registrada',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.talla === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addTalla/${productoID}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tobtenerTalla();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\ttalla: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\tasync function eliminarTalla(idTalla) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoID}/talla/${idTalla}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerTalla() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.tallas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst rellenarCampos = (talla, cantidad, idTallas) => {\r\n\t\tsetIdTalla(idTallas);\r\n\t\tsetDatos({ ...datos, talla, cantidad });\r\n\t\tform.setFieldsValue({\r\n\t\t\ttalla,\r\n\t\t\tcantidad\r\n\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((tallas) => (\r\n\t\t\t<div className=\"mb-5 m-2\" key={tallas._id}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tshowZero\r\n\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\tstyle={tallas.cantidad !== 0 ? { backgroundColor: '#52c41a' } : { backgroundColor: '#FF4D4F' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded d-flex justify-content-around\">\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\trellenarCampos(tallas.talla, tallas.cantidad, tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarTalla(tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Form form={form} onFinish={actualizarTalla}>\r\n\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"talla\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"talla\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{idTalla ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dafault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" onClick={nuevaTalla}>\r\n\t\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t\t<div className=\"row\">{render}</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default ActualizarTalla;\r\n","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Space } from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport './actualizar_tallas.scss';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\n\r\nfunction ActualizarNumero() {\r\n\tconst formRef = useRef(null);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ idNumero, setIdNumero ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnumero: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerNumero();\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tasync function actualizarNumero() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/action/${productoID}/numero/${idNumero}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdNumero('');\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\tnumero: '',\r\n\t\t\t\t\tcantidad: ''\r\n\t\t\t\t});\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function nuevoNumero() {\r\n\t\tconst resul = productos.map((numeros) => {\r\n\t\t\tif (numeros.numero === datos.numero) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Este numero ya esta registrado',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.numero === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addNumero/${productoID}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tobtenerNumero();\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tnumero: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\tasync function eliminarNumero(idNumero) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoID}/numero/${idNumero}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerNumero() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.numeros);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst rellenarCampos = (numero, cantidad, idNumero) => {\r\n\t\tsetIdNumero(idNumero);\r\n\t\tsetDatos({ ...datos, numero, cantidad });\r\n\t\tform.setFieldsValue({\r\n\t\t\tnumero,\r\n\t\t\tcantidad\r\n\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((numeros) => (\r\n\t\t\t<div className=\"mb-5 m-2\" key={numeros._id}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tshowZero\r\n\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\tstyle={numeros.cantidad !== 0 ? { backgroundColor: '#52c41a' } : { backgroundColor: '#FF4D4F' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded d-flex justify-content-around\">\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\trellenarCampos(numeros.numero, numeros.cantidad, numeros._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarNumero(numeros._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Form form={form} ref={formRef.current} onFinish={actualizarNumero}>\r\n\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Numero\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"numero\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{idNumero ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dafault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdNumero('');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" onClick={nuevoNumero}>\r\n\t\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t\t<div className=\"row\">{render}</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default ActualizarNumero;\r\n","import React, { useState, useContext, useEffect, useCallback } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Tabs, Form, Input, Upload, Button, notification, Select, Spin, Divider, Alert } from 'antd';\r\nimport { UploadOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport ActualizarGaleria from './actualizar_galeria';\r\nimport ActualizarTalla from './actualizar_talla';\r\nimport ActualizarNumero from './actualizar_numero';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { Option } = Select;\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nfunction ActualizarProducto(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ select, setSelect ] = useState('');\r\n\tconst [ editor, setEditor ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingCombo, setLoadingCombo ] = useState(false);\r\n\tconst reload = props.reloadProductos;\r\n\tconst setCloseDraw = props.closeDraw;\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ item, setItem ] = useState();\r\n\tconst [ buttonCat, setButtonCat ] = useState(true);\r\n\tconst [ subcategoriasDefault, setSubcategoriasDefault ] = useState([]);\r\n\tconst [ subCategoriasBD, setSubCategoriasBD ] = useState([]);\r\n\tconst [ subCategoria, setSubCategoria ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState('');\r\n\tconst [ valueSelect, setValueSelect ] = useState();\r\n\tconst [ valueSelectCat, setValueSelectCat ] = useState();\r\n\r\n\tconst [ categoriasDefault, setCategoriasDefault ] = useState([]);\r\n\tconst [ itemCat, setItemCat ] = useState();\r\n\t/* const [ buttonCat, setButtonCat ] = useState(true); */\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\r\n\tconst [ temporadasBD, setTemporadasBD ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([\r\n\t\t{\r\n\t\t\tcodigo: '',\r\n\t\t\tnombre: '',\r\n\t\t\tprecio: '',\r\n\t\t\tcantidad: '',\r\n\t\t\timagen: '',\r\n\t\t\tcolor: ''\r\n\t\t}\r\n\t]);\r\n\tconst [ displayColorPicker, setDisplayColorPicker ] = useState(false);\r\n\tconst [ color, setColor ] = useState('');\r\n\tconst styles = reactCSS({\r\n\t\tdefault: {\r\n\t\t\tcolor: {\r\n\t\t\t\twidth: '36px',\r\n\t\t\t\theight: '14px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackground: color\r\n\t\t\t\t/* background: `rgba(${color.r}, ${color.g}, ${color.b}, ${color.a})` */\r\n\t\t\t},\r\n\t\t\tswatch: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tborderRadius: '1px',\r\n\t\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t},\r\n\t\t\tpopover: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: '2'\r\n\t\t\t},\r\n\t\t\tcover: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\tright: '0px',\r\n\t\t\t\tbottom: '0px',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetDisplayColorPicker(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetDisplayColorPicker(false);\r\n\t};\r\n\r\n\tconst handleChange = (color) => {\r\n\t\tsetColor(color.hex);\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColor('');\r\n\t\tform.setFieldsValue({ color: '' });\r\n\t\tproductos.color = '';\r\n\t};\r\n\r\n\t///UPLOAD ANTD PRODUCTO\r\n\tconst antprops = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerDatos = useCallback(\r\n\t\tasync () => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tcodigo: res.data.codigo,\r\n\t\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\t\tcategoria: res.data.categoria,\r\n\t\t\t\t\t\tsubCategoria: res.data.subCategoria,\r\n\t\t\t\t\t\ttemporada: res.data.temporada ? res.data.temporada : '',\r\n\t\t\t\t\t\tgenero: res.data.genero,\r\n\t\t\t\t\t\tprecio: res.data.precio,\r\n\t\t\t\t\t\tcolor: res.data.color,\r\n\t\t\t\t\t\tcantidad: res.data.cantidad,\r\n\t\t\t\t\t\tdescripcion: res.data.descripcion\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetSelect(res.data.categoria);\r\n\t\t\t\t\tsetEditor(res.data.descripcion);\r\n\t\t\t\t\tsetFiles(res.data.imagen);\r\n\t\t\t\t\tsetProductos(res.data);\r\n\t\t\t\t\tsetColor(res.data.colorHex);\r\n\t\t\t\t\tsetGenero(res.data.genero);\r\n\t\t\t\t\tsetSubCategoria(res.data.subCategoria);\r\n\t\t\t\t\tsetTemporada(res.data.temporada ? res.data.temporada : '');\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t[ form, productoID ]\r\n\t);\r\n\r\n\tconst generoOnChange = (value) => {\r\n\t\tsetGenero(value);\r\n\t};\r\n\tconst obtenerEditor = (value) => {\r\n\t\tsetEditor(value);\r\n\t};\r\n\tconst obtenerValores = (e) => {\r\n\t\tsetProductos({\r\n\t\t\t...productos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst onCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItemCat(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst addItemCategoria = () => {\r\n\t\tif (itemCat === 'Ropa' || itemCat === 'Calzado') {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Categoria no valida',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ categoria: itemCat });\r\n\t\t\tsetValueSelectCat(itemCat);\r\n\t\t\tsetCategoriasDefault([ ...categoriasDefault, itemCat ]);\r\n\t\t\tsetSelect(itemCat);\r\n\r\n\t\t\t/* reset subcategoria */\r\n\t\t\tsetValueSelect();\r\n\t\t\tsetSubCategoria([]);\r\n\t\t\tform.resetFields([ 'subCategoria' ]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onSelect = (value) => {\r\n\t\tsetSelect(value);\r\n\t\tsetValueSelectCat(value);\r\n\r\n\t\t/* reset subcategoria */\r\n\t\tsetValueSelect();\r\n\t\tsetSubCategoria([]);\r\n\t\tform.resetFields([ 'subCategoria' ]);\r\n\t};\r\n\r\n\tconst addItemSubCategoria = () => {\r\n\t\tsetSubcategoriasDefault([ ...subcategoriasDefault, item ]);\r\n\t\tform.setFieldsValue({ subCategoria: item });\r\n\t\tsetSubCategoria(item);\r\n\t\tsetValueSelect(item);\r\n\t};\r\n\tconst onSelectSubCategoria = (value) => {\r\n\t\tsetSubCategoria(value);\r\n\t};\r\n\tconst onSubCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetSubCategoria(e.target.value);\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\t/* temporadas */\r\n\tconst [ temporada, setTemporada ] = useState();\r\n\tconst [ valueSelectTemporada, setValueSelectTemporada ] = useState();\r\n\tconst [ temporadaDefault, setTemporadaDefault ] = useState([]);\r\n\r\n\tconst onSelectTemporada = (value) => {\r\n\t\tsetTemporada(value);\r\n\t};\r\n\tconst onTemporadaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetTemporada(e.target.value);\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst addItemTemporada = () => {\r\n\t\tsetTemporadaDefault([ ...temporadaDefault, item ]);\r\n\t\tform.setFieldsValue({ temporada: item });\r\n\t\tsetTemporada(item);\r\n\t\tsetValueSelectTemporada(item);\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/categorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerSubcategorias() {\r\n\t\tif (!select) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/Subcategorias/${select}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetSubCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerTemporadasBD() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/agrupar/temporadas`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetTemporadasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.forEach((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirDatos = async () => {\r\n\t\tconst formData = new FormData();\r\n\t\tif (productos.tipoCategoria === 'Otros') {\r\n\t\t\tformData.append('codigo', productos.codigo);\r\n\t\t\tformData.append('nombre', productos.nombre);\r\n\t\t\tformData.append('categoria', select);\r\n\t\t\tformData.append('subCategoria', subCategoria);\r\n\t\t\tformData.append('temporada', temporada);\r\n\t\t\tformData.append('genero', genero);\r\n\t\t\tformData.append('color', productos.color);\r\n\t\t\tformData.append('colorHex', color);\r\n\t\t\tformData.append('cantidad', productos.cantidad);\r\n\t\t\tformData.append('precio', productos.precio);\r\n\t\t\tformData.append('descripcion', editor);\r\n\t\t\tformData.append('imagen', files);\r\n\t\t} else {\r\n\t\t\tformData.append('codigo', productos.codigo);\r\n\t\t\tformData.append('nombre', productos.nombre);\r\n\t\t\tformData.append('categoria', select);\r\n\t\t\tformData.append('subCategoria', subCategoria);\r\n\t\t\tformData.append('temporada', temporada);\r\n\t\t\tformData.append('genero', genero);\r\n\t\t\tformData.append('color', productos.color);\r\n\t\t\tformData.append('colorHex', color);\r\n\t\t\tformData.append('precio', productos.precio);\r\n\t\t\tformData.append('descripcion', editor);\r\n\t\t\tformData.append('imagen', files);\r\n\t\t}\r\n\r\n\t\t/* for (var pair of formData.entries()) {\r\n\t\t\tconsole.log(pair[0]+ ', ' + pair[1]); \r\n\t\t} */\r\n\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/${productoID}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerDatos();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetCloseDraw(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tsetFiles([]);\r\n\t\t\t\tsetUpload(false);\r\n\t\t\t\tsetColor('');\r\n\t\t\t}\r\n\t\t\tobtenerDatos();\r\n\t\t\tobtenerSubcategorias();\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerTemporadasBD();\r\n\t\t},\r\n\t\t[ productoID, reload, form, obtenerDatos ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerSubcategorias();\r\n\t\t},\r\n\t\t[ select ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Tabs defaultActiveKey=\"1\">\r\n\t\t\t<TabPane tab=\"Actualizar datos del producto\" key=\"1\">\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t{productos.tipoCategoria === 'Ropa' ? (\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">{<ActualizarTalla />}</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{productos.tipoCategoria === 'Calzado' ? <div>{<ActualizarNumero />}</div> : <div />}\r\n\t\t\t\t\t<Form {...layout} name=\"nest-messages\" onFinish={subirDatos} onFinishFailed={onError} form={form}>\r\n\t\t\t\t\t\t<Form.Item name=\"codigo\" label=\"Código de barras\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Input name=\"codigo\" placeholder=\"Campo opcional\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Nombre del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Categoria\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"categoria\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\t\t\tvalue={valueSelectCat}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una categoria\"\r\n\t\t\t\t\t\t\t\t\tonChange={onSelect}\r\n\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{categoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t{categoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tcategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (item._id === 'Ropa' || item._id === 'Calzado') {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Subcategoria\" name=\"categoria\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"subCategoria\"\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una subcategoria\"\r\n\t\t\t\t\t\t\t\t\tvalue={valueSelect}\r\n\t\t\t\t\t\t\t\t\tonChange={onSelectSubCategoria}\r\n\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onSubCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemSubCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{subcategoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t{subCategoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tsubCategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Temporada\" name=\"temporada\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"temporada\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una temporada\"\r\n\t\t\t\t\t\t\t\t\tvalue={valueSelectTemporada}\r\n\t\t\t\t\t\t\t\t\tonChange={onSelectTemporada}\r\n\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onTemporadaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemTemporada}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{temporadaDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t{temporadasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\ttemporadasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Género\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"genero\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona género\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\tonChange={generoOnChange}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Ninguno\">Ninguno</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Niño\">Niño</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Niña\">Niña</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Hombre\">Hombre</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Mujer\">Mujer</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Mixto\">Mixto</Option>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Color del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Input.Group compact>\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"colorHex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={styles.swatch} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.color} />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{displayColorPicker ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.popover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.cover} onClick={handleClose} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SketchPicker color={color} onChange={handleChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item wrapperCol={{ span: 22, offset: 0 }} name=\"color\">\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Escribe el color, por ejemplo: Verde\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Button className=\"d-inline ml-2\" size=\"middle\" type=\"text\" onClick={resetColor}>\r\n\t\t\t\t\t\t\t\t\t\tQuitar color\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Input.Group>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t{productos.tipoCategoria === 'Otros' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"Stock actual\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input type=\"number\" name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Form.Item label=\"Precio del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input type=\"number\" name=\"precio\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Descripción del producto\" name=\"descripcion\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\tvaluePropName=\"Editor\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\tvalue={editor}\r\n\t\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonEditorChange={obtenerEditor}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 800x800px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Form.Item label=\"Imagen principal\" name=\"imagen\" valuePropName=\"filelist\">\r\n\t\t\t\t\t\t\t<Upload {...antprops} name=\"imagen\">\r\n\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Imagen Actual\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\tsrc={aws + files}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Spin>\r\n\t\t\t</TabPane>\r\n\t\t\t<TabPane tab=\"Actualizar galería de imágenes\" key=\"2\">\r\n\t\t\t\t<ActualizarGaleria />\r\n\t\t\t</TabPane>\r\n\t\t</Tabs>\r\n\t);\r\n}\r\nexport default ActualizarProducto;\r\n","import React from 'react'\r\nimport {Pagination} from 'antd';\r\nimport './pagination.scss'\r\n\r\nexport default function pagination(props) {\r\n    const {blogs, location, history, limite} = props;\r\n    const currentPage = parseInt(blogs.page);\r\n\r\n    const onChangePage = newPage => {\r\n        history.push(`${location.pathname}?page=${newPage}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"pagination mb-3\">\r\n            <Pagination\r\n                defaultCurrent={currentPage}\r\n                total={blogs.totalDocs}\r\n                onChange={newPage => onChangePage(newPage)}\r\n                defaultPageSize={limite}\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n","/* import { parse } from \"dotenv/types\";\r\n */\r\n\r\n\r\nexport const formatoMexico = (number) => {\r\n\tif (!number) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tlet nueva;\r\n\t\tif (number % 1 === 0) {\r\n\t\t\tnueva = number;\r\n\t\t} else {\r\n\t\t\tnueva = parseFloat(number).toFixed(2);\r\n\t\t}\r\n\t\tconst exp = /(\\d)(?=(\\d{3})+(?!\\d))/g;\r\n\t\tconst rep = '$1,';\r\n\t\treturn  nueva.toString().replace(exp, rep);\r\n\t}\r\n};\r\n\r\nexport const formatoFecha = (fecha) => {\r\n\tif (!fecha) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tvar newdate = new Date(fecha);\r\n\t\treturn newdate.toLocaleDateString('es-MX', { weekday: 'short', year: 'numeric', month: 'long', day: 'numeric' });\r\n\t}\r\n};\r\n\r\nexport const formatoHora = (hora) => {\r\n\tif (!hora) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tvar newtime = new Date(hora);\r\n\t\treturn newtime.toLocaleTimeString('en-US', { hour12: 'false' });\r\n\t}\r\n};\r\n\r\nexport const agregarPorcentaje = (precio_descuento, precio_producto) => {\r\n\tvar porcentaje = Math.round(precio_descuento / precio_producto * 100);\r\n\tvar descuento = 100 - porcentaje;\r\n\treturn descuento;\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport RegistrarProducto from './services/registrar_producto';\r\nimport ActualizarProducto from './services/actualizar_producto';\r\nimport { Card, Row, Input, Button, Modal, Drawer, Result, notification, Spin } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\n/* import { StepsContext, StepsProvider } from '../contexts/stepsContext'; */\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport {\r\n\tExclamationCircleOutlined,\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tPlusCircleOutlined,\r\n\tRollbackOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport queryString from 'query-string';\r\nimport './productos.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction RegistrarProductos(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst [ disabled, setDisabled ] = useState(true);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosRender, setProductosRender ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ reload, setReload ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ visibleButton, setVisibleButton ] = useState('d-none');\r\n\tconst [ closeDraw, setCloseDraw ] = useState(false);\r\n\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction closeConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de cerrar esta ventana?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\tfunction setActualizar() {\r\n\t\tsetAccion(true);\r\n\t\tsetVisible(true);\r\n\t}\r\n\tfunction setRegistrar() {\r\n\t\tsetAccion(false);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst eventoCloseConfirm = () => {\r\n\t\tif (accion) {\r\n\t\t\tdrawnerClose();\r\n\t\t} else {\r\n\t\t\tcloseConfirm();\r\n\t\t}\r\n\t};\r\n\t\r\n\tif(closeDraw){\r\n\t\tdrawnerClose();\r\n\t\tsetCloseDraw(false);\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(idproducto) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estas seguro de eliminar este articulo?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: 'Este articulo sera borrado permanentemente',\r\n\t\t\tokText: 'Yes',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tasync onOk() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.delete(`/productos/${idproducto}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif(window.screen.width < 768){\r\n\t\t\t\t\t\t\tobtenerProductos(12, page)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tobtenerProductos(28, page)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisibleButton('d-none');\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetVisibleButton('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosRender(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisibleButton('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosRender(res.data.posts.docs);\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t}\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ page, reload, reloadData ]\r\n\t);\r\n\r\n\tconst render = productosRender.map((productos) => (\r\n\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t<Card.Grid hoverable style={gridStyle} className=\"card-card\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\tstyle={{ /* width: 200, */ maxHeight: 420 }}\r\n\t\t\t\t\tbodyStyle={{ padding: 5 }}\r\n\t\t\t\t\tclassName=\"card-cover\"\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center cont-imagen-producto-admin\">\r\n\t\t\t\t\t\t\t<img className=\"imagen-producto-admin\" alt=\"producto\" src={aws + productos.imagen} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetActualizar();\r\n\t\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"text-decoration-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t</Button> ,\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tonClick={() => showDeleteConfirm(productos._id)}\r\n\t\t\t\t\t\t\tclassName=\"text-decoration-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t<h1 className=\"titulo-producto-admin titulo-producto-admin-responsivo font-weight-bold\">\r\n\t\t\t\t\t\t\t{productos.nombre}\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t<h2 className=\"h5 \">$ {formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n\t\t\t</Card.Grid>\r\n\t\t</div>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Drawer\r\n\t\t\t\tforceRender\r\n\t\t\t\ttitle={accion === true ? 'Actualizar un producto' : 'Registra un nuevo producto'}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={eventoCloseConfirm}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={eventoCloseConfirm} type=\"primary\">\r\n\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{accion === true ? (\r\n\t\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t<ActualizarProducto reloadProductos={reload} closeDraw={setCloseDraw} />\r\n\t\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<RegistrarProducto reloadProductos={reload} disabledButtons={[ disabled, setDisabled ]} closeDraw={setCloseDraw}/>\r\n\t\t\t\t\t/* <StepsProvider value={[ disabled, setDisabled ]}>\r\n\t\t\t\t\t\t<RegistrarProducto reloadProductos={reload} disabledButtons={[ disabled, setDisabled ]} />\r\n\t\t\t\t\t</StepsProvider> */\r\n\t\t\t\t)}\r\n\t\t\t</Drawer>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={`${visibleButton} mb-1`}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"ml-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\tonClick={setRegistrar}\r\n\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tRegistrar un producto\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Row style={{ maxWidth: '95vw' }} className=\"mt-4\">\r\n\t\t\t\t\t{productos.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\trender\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Pagination\r\n\t\t\t\tblogs={productos}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 28}\r\n\t\t\t/>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(RegistrarProductos);\r\n","import React from 'react';\r\nimport { Tag, Divider } from 'antd';\r\nimport { formatoMexico, formatoFecha, formatoHora } from '../../../config/reuserFunction';\r\nimport aws from '../../../config/aws';\r\n\r\nconst DetallesPedido = (props) => {\r\n\tconst pedido = props.datosDetalle;\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del pedido</Divider>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido._id}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedido.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Hora de pedido:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{formatoHora(pedido.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t{pedido.fecha_envio ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envío:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedido.fecha_envio)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Hora de envío:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoHora(pedido.fecha_envio)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.pedido.length}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Tipo de Pago:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.tipo_pago}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estado:</h6>\r\n\t\t\t\t<Tag className=\"data-info-pedidos\" color={pedido.estado_pedido === 'Entregado' ? '#5cb85c' : pedido.estado_pedido === 'Enviado' ? '#0088ff' : '#ffc401'}>\r\n\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t</Tag>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t<Tag className=\"data-info-pedidos\" color={pedido.pagado === true ? '#5cb85c' : '#f0ad4e'}>\r\n\t\t\t\t\t{pedido.pagado === true ? 'Si' : 'No'}\r\n\t\t\t\t</Tag>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">$ {formatoMexico(pedido.total)}</p>\r\n\t\t\t</div>\r\n\t\t\t<Divider className=\"text-center\">Detalles del cliente</Divider>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cliente:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.nombre}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Email:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.email}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Telefono:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.telefono}</p>\r\n\t\t\t</div>\r\n\t\t\t{pedido.cliente.direccion.map((direccion) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"my-2\" key={direccion._id}>\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Dirección:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">\r\n\t\t\t\t\t\t\t{direccion.calle_numero}, {direccion.ciudad}, {direccion.estado},{' CP '}\r\n\t\t\t\t\t\t\t{direccion.cp}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\r\n\t\t\t<Divider className=\"text-center\">Detalles del producto</Divider>\r\n\t\t\t{pedido.pedido.map((pedido, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={pedido._id}>\r\n\t\t\t\t\t\t<div className=\"h6\">\r\n\t\t\t\t\t\t\t<strong>Producto {index + 1}</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-detalle\">\r\n\t\t\t\t\t\t\t\t<img alt=\"imagen-producto-detalle\" className=\"imagen-producto-detalle\" src={aws+pedido.producto.imagen} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Código de barras:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.codigo}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Artículo:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.nombre}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Categoría:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.categoria}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cantidad}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pedido.producto.categoria.toLowerCase() === 'ropa' ? (\r\n\t\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Talla:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.talla}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{pedido.producto.categoria.toLowerCase() === 'calzado' ? (\r\n\t\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Número de calzado:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.numero}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">$ {formatoMexico(pedido.total)}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DetallesPedido;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Menu, Dropdown, Button, notification, Input, Form, Spin } from 'antd';\r\nimport { DownOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst EstadoPedido = (props) => {\r\n\tconst { handleCancelEstado } = props;\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst IDpedido = props.datosPedido;\r\n\tconst [ pedido, setPedido ] = useState([]);\r\n\tconst pedidoID = props.datosPedido;\r\n\tconst setReload = props.reload;\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ entregado, setEntregado ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPedido();\r\n\t\t\tsetDisabled(false);\r\n\t\t},\r\n\t\t[ IDpedido ]\r\n\t);\r\n\r\n\tconst cambiarEstado = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/info/${pedidoID._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetReload(true);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t\thandleCancelEstado();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerPedido = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${IDpedido._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetPedido(res.data);\r\n\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\testado_pedido: res.data.estado_pedido,\r\n\t\t\t\t\tmensaje_admin: res.data.mensaje_admin,\r\n\t\t\t\t\turl: res.data.url,\r\n\t\t\t\t\tpaqueteria: res.data.paqueteria,\r\n\t\t\t\t\tcodigo_seguimiento: res.data.codigo_seguimiento\r\n\t\t\t\t});\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\testado_pedido: res.data.estado_pedido,\r\n\t\t\t\t\tmensaje_admin: res.data.mensaje_admin,\r\n\t\t\t\t\turl: res.data.url,\r\n\t\t\t\t\tpaqueteria: res.data.paqueteria,\r\n\t\t\t\t\tcodigo_seguimiento: res.data.codigo_seguimiento\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction handleMenuClick(e) {\r\n\t\tif (e.key === 'Entregado') {\r\n\t\t\tsetEntregado(true);\r\n\t\t\tsetDatos({ estado_pedido: e.key });\r\n\t\t\tsetPedido({ estado_pedido: e.key });\r\n\t\t} else {\r\n\t\t\tsetEntregado(false);\r\n\t\t\tsetDatos({\r\n\t\t\t\t...datos,\r\n\t\t\t\testado_pedido: e.key\r\n\t\t\t});\r\n\t\t\tsetPedido({\r\n\t\t\t\t...pedido,\r\n\t\t\t\testado_pedido: e.key\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tfunction onChange(e) {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t\tsetPedido({\r\n\t\t\t...pedido,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t}\r\n\r\n\tconst menu = (\r\n\t\t<Menu onClick={handleMenuClick}>\r\n\t\t\t<Menu.Item key=\"En proceso\" disabled={IDpedido.estado_pedido === 'Enviado' || disabled ? true : false}>\r\n\t\t\t\tEn proceso\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"Enviado\">Enviado</Menu.Item>\r\n\t\t\t<Menu.Item key=\"Entregado\">Entregado</Menu.Item>\r\n\t\t</Menu>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Divider orientation=\"left\">Actualiza el estado del pedido</Divider>\r\n\t\t\t<Dropdown overlay={menu} disabled={IDpedido.estado_pedido === 'Entregado' || disabled ? true : false}>\r\n\t\t\t\t<Button>\r\n\t\t\t\t\t{pedido.estado_pedido} <DownOutlined />\r\n\t\t\t\t</Button>\r\n\t\t\t</Dropdown>\r\n\t\t\t<Divider orientation=\"left\">Informacion de envio</Divider>\r\n\t\t\t<p style={{ fontSize: 16 }}>Si el producto ya fue enviado puedes agregar la información de envío.</p>\r\n\r\n\t\t\t<Form onFinish={cambiarEstado} form={form} className=\"form-paqueteria\">\r\n\t\t\t\t<h6>Mensaje:</h6>\r\n\t\t\t\t<Form.Item name=\"mensaje_admin\">\r\n\t\t\t\t\t<TextArea\r\n\t\t\t\t\t\tdisabled={entregado}\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\tname=\"mensaje_admin\"\r\n\t\t\t\t\t\tplaceholder=\"Mensaje para el usuario\"\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Url de vinculación:</h6>\r\n\t\t\t\t<Form.Item name=\"url\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"url\" placeholder=\"Url de vinculacion del paquete\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Paquetería:</h6>\r\n\t\t\t\t<Form.Item name=\"paqueteria\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"paqueteria\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Código de seguimiento:</h6>\r\n\t\t\t\t<Form.Item name=\"codigo_seguimiento\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"codigo_seguimiento\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"float-right\" /* onClose={true} */>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default EstadoPedido;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport './pedidos.scss';\r\nimport { Card, Col, Row, Modal, notification, Result, Spin, Radio, Tag } from 'antd';\r\nimport { ContainerOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../config/axios';\r\nimport DetallesPedido from './detalles_pedido';\r\nimport EstadoPedido from './estado_pedido';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { formatoMexico, formatoFecha } from '../../../config/reuserFunction';\r\n\r\nconst { Meta } = Card;\r\n\r\nfunction Pedidos(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ pedidos, setPedidos ] = useState([]);\r\n\tconst [ pedidosPaginacion, setPedidosPaginacion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\t//state modales\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ estadoVisible, setEstadoVisible ] = useState(false);\r\n\t//state para mostrar pedido en el modal\r\n\tconst [ detallePedido, setDetallePedido ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPedidos(12, page);\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload, page ]\r\n\t);\r\n\r\n\tconst obtenerPedidos = async (limit, page) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/admin?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPedidos(res.data.docs);\r\n\t\t\t\t// setPedidosPaginacion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerPedidosFiltrados = async (limit, page, filtro) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/admin/filtrados?limit=${limit}&page=${page}&filtro=${filtro}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPedidos(res.data.docs);\r\n\t\t\t\tsetPedidosPaginacion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction onChange(e) {\r\n\t\tconst estado = e.target.value;\r\n\t\tswitch (estado) {\r\n\t\t\tcase 'todos':\r\n\t\t\t\tobtenerPedidos(10, page);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'proceso':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'En proceso');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'enviados':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'Enviado');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'entregados':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'Entregado');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tobtenerPedidos(10, page);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tconst showModal = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst showModalEstado = () => {\r\n\t\tsetEstadoVisible(true);\r\n\t};\r\n\tconst handleCancelEstado = () => {\r\n\t\tsetEstadoVisible(false);\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tconst render = pedidos.map((pedidos) => {\r\n\t\treturn (\r\n\t\t\t<Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={pedidos._id}>\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow-sm card-p-pedidos\"\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetallePedido(pedidos);\r\n\t\t\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDetalles del pedido\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<EditOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetallePedido(pedidos);\r\n\t\t\t\t\t\t\t\t\tshowModalEstado();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCambiar estado\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta\r\n\t\t\t\t\t\tclassName=\"contenedor-card-pedidos\"\r\n\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos._id}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos fecha-pedidos\">{formatoFecha(pedidos.createdAt)}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{pedidos.fecha_envio ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envío:</h6>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedidos.fecha_envio)}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cliente:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.cliente.nombre}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.pedido.length}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-pedidos\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedidos.estado_pedido === 'Entregado' ? '#5cb85c' : pedidos.estado_pedido === 'Enviado' ? '#0088ff' : '#ffc401'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedidos.estado_pedido}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-pedidos\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedidos.pagado === true ? '#5cb85c' : '#f0ad4e'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedidos.pagado === true ? 'Si' : 'No'}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Tipo de Pago:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.tipo_pago}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">\r\n\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(pedidos.total)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\tSISTEMA DE CONTROL DE PEDIDOS\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\tEn este apartado puedes ver todos los pedidos de tus clientes, filtrar por estados, si ya están\r\n\t\t\t\t\tpagados o no y cambiar su estado.\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t<p className=\"d-lg-inline d-block mr-5\">Mostrar por:</p>\r\n\t\t\t\t\t<Radio.Group name=\"radiogroup\" defaultValue=\"todos\" size=\"mediun\">\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"todos\" onChange={onChange}>\r\n\t\t\t\t\t\t\tTodos\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"proceso\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEn Proceso\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"enviados\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEnviados\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"entregados\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEntregados\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t{pedidos.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Row gutter={16}>{render}</Row>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"detalle\"\r\n\t\t\t\twidth={600}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t<DetallesPedido datosDetalle={detallePedido}  />\r\n\t\t\t</Modal>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"estado\"\r\n\t\t\t\twidth={600}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"Estado del pedido\"\r\n\t\t\t\tvisible={estadoVisible}\r\n\t\t\t\tonCancel={handleCancelEstado}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t<EstadoPedido datosPedido={detallePedido} reload={setReload} handleCancelEstado={handleCancelEstado} />\r\n\t\t\t</Modal>\r\n\t\t\t<Pagination blogs={pedidosPaginacion} location={location} history={history} limite={12} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Pedidos);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport {\r\n\tButton,\r\n\tInput,\r\n\tSlider,\r\n\tUpload,\r\n\tList,\r\n\tAvatar,\r\n\tnotification,\r\n\tResult,\r\n\tSpin,\r\n\tForm,\r\n\tCol,\r\n\tAlert,\r\n\tSelect,\r\n\tTooltip\r\n} from 'antd';\r\nimport { RollbackOutlined, ClearOutlined } from '@ant-design/icons';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { formatoMexico } from '../../../../../config/reuserFunction';\r\nimport aws from '../../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst demo = { height: '500px', overflow: 'auto' };\r\nconst { Option } = Select;\r\n\r\nconst RegistrarPromocion = (props) => {\r\n\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ content, setContent ] = useState(false);\r\n\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingList, setLoadingList ] = useState(true);\r\n\tconst [ loadingSelect, setLoadingSelect ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(true);\r\n\tconst [ imagen, setImagen ] = useState([]);\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ precioPromocion, setPrecioPromocion ] = useState();\r\n\tconst [ disabledSumit, setDisabledSumit ] = useState(true);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst reload = props.reload;\r\n\r\n\tconst [ categoriasDB, setCategoriasDB ] = useState([]);\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\tconst [ subcategoriasDB, setSubcategoriasDB ] = useState([]);\r\n\tconst [ subcategoria, setSubcategoria ] = useState();\r\n\tconst [ generosDB, setGenerosDB ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState();\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetProducto([]);\r\n\t\t\t\tsetContent(false);\r\n\t\t\t\tsetInputValue(0);\r\n\t\t\t\tsetPromocion([]);\r\n\t\t\t\tsetPrecioPromocion();\r\n\t\t\t\tsetDisabledSumit(true);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t}\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerGeneros();\r\n\t\t\tobtenerProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reload, reloadData, form ]\r\n\t);\r\n\r\n\tconst obtenerProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst propsUpload = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tsubirImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t\tvar porcentaje = 100 - value;\r\n\t\tvar descuento = Math.round(producto.precio * porcentaje / 100);\r\n\t\tif (descuento >= producto.precio || descuento <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t\tsetPrecioPromocion(descuento);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCampo = (e) => {\r\n\t\tif (e.target.value >= producto.precio || e.target.value <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t} else {\r\n\t\t\tsetPrecioPromocion(e.target.value);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t\tvar porcentaje = Math.round(e.target.value / producto.precio * 100);\r\n\t\t\tvar descuento = 100 - porcentaje;\r\n\t\t\tsetInputValue(descuento);\r\n\t\t}\r\n\t};\r\n\r\n\tconst subirImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${promocion._id}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetImagen(res.data.promocionBase.imagenPromocion);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('productoPromocion', producto._id);\r\n\t\tformData.append('precioPromocion', precioPromocion);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/productos/promocion/`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPromocion(res.data.userStored);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledSumit(true);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, genero) => {\r\n\t\tvar cat = categoria;\r\n\t\tvar sub = subcategoria;\r\n\t\tvar gen = genero;\r\n\r\n\t\tif (categoria === undefined) {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === undefined) {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === undefined) {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\r\n\t\tsetLoadingList(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingSelect(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCategoriasDB(res.data);\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGenerosDB(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t}\r\n\r\n\tconst selectCategoria = (categoria) => {\r\n\t\tsetCategoria(categoria);\r\n\t\tsetSubcategoria(null);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria);\r\n\t\t}\r\n\t\tcategoriasDB.forEach((res) => {\r\n\t\t\tif (categoria === res.categoria) {\r\n\t\t\t\tsetSubcategoriasDB(res.subcCategoria);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst selectSubCategoria = (subcategoria) => {\r\n\t\tsetSubcategoria(subcategoria);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria);\r\n\t\t}\r\n\t};\r\n\tconst selectGenero = (genero) => {\r\n\t\tsetGenero(genero);\r\n\t\tif (categoria && categoria.length !== 0 && !subcategoria) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else if (categoria && subcategoria && categoria.length !== 0 && subcategoria.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else if (!categoria && !subcategoria && genero) {\r\n\t\t\tobtenerFiltrosDivididos(undefined, undefined, genero);\r\n\t\t}\r\n\t};\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetPage(1);\r\n\t\tsetHasMore(true);\r\n\t\tsetReloadData(true);\r\n\t};\r\n\r\n\tconst limpiar = () => {\r\n\t\tsetInputValue(0);\r\n\t\tsetImagen([]);\r\n\t\tform.resetFields();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-lg-flex d-sm-block\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6 border-bottom\">\r\n\t\t\t\t\t<Spin size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t<div className=\"mt-3 row justify-content-center\">\r\n\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={categoria}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Categoria\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectCategoria}\r\n\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{categoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res.categoria} value={res.categoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.categoria}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tdisabled={!categoria ? true : false}\r\n\t\t\t\t\t\t\t\tvalue={subcategoria}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Subcategoria\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectSubCategoria}\r\n\t\t\t\t\t\t\t\t/* value={subcategoria} */\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{subcategoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tsubcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={genero}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Genero\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectGenero}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{generosDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tgenerosDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Tooltip placement=\"bottom\" title=\"Limpiar filtros\">\r\n\t\t\t\t\t\t\t\t<ClearOutlined className=\"ml-2\" style={{ fontSize: 20 }} onClick={limpiarFiltros} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t) : data.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div style={demo}>\r\n\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\tpageStart={1}\r\n\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(productos) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={producto._id === productos._id ? 'list-item-promocion' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={productos._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetContent(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiar();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeleccionar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"button-disabled-promocion\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPromoción activa\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tavatar={<Avatar size={40} src={aws + productos.imagen} />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={productos.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Spin>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<div className=\" my-3 d-flex justify-content-center\">\r\n\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\tmessage=\"En este apartado puedes agregar promocion individual por producto\"\r\n\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{content === false ? (\r\n\t\t\t\t\t\t<h3>Selecciona un productos que quieres aplicarle una promoción</h3>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<List className=\"shadow contenedor-articulo-detalles\">\r\n\t\t\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"list-item-producto\"\r\n\t\t\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"precio-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"titulo-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3>{producto.nombre}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{promocion.length !== 0 || disabledSumit === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{inputValue}%OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\t\t\t//tooltipVisible\r\n\t\t\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\thelp=\"La promoción no debe ser mayor al precio del producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Precio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={producto.precio}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={disabledSumit} onClick={subirPromocion}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tGuardar promoción\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"row d-none\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-2 texto-imagen\">\r\n\t\t\t\t\t\t\t\t\t\tSube una imagen para la promoción, esta imagen aparecerá en el carrucel de\r\n\t\t\t\t\t\t\t\t\t\tpromociones\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 1710x330px\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Upload {...propsUpload} className=\"d-flex justify-content-center mt-3 mr-3\">\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={disabled}>Subir</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t{imagen.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"imagen-box-promocion shadow-sm border\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-producto-promocion\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"img-producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default RegistrarPromocion;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport { Button, Input, Space, Upload, Spin, notification, Form, Col, Slider, List, Alert } from 'antd';\r\nimport { IdProductoContext } from '../../../contexts/ProductoContext';\r\nimport { formatoMexico } from '../../../../../config/reuserFunction';\r\nimport aws from '../../../../../config/aws';\r\n\r\nconst ActualizarPromocion = (props) => {\r\n\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(IdProductoContext);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ precioPromocion, setPrecioPromocion ] = useState();\r\n\tconst [ disabledSumit, setDisabledSumit ] = useState(false);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst reload = props.reload;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif(reload){\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t}\r\n\t\t\tobtenerPromocion();\r\n\t\t},\r\n\t\t[ productoContext, reload ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCampo(promocion.precioPromocion);\r\n\t\t},\r\n\t\t[ promocion ]\r\n\t);\r\n\r\n\tconst antDprops = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tsubirImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\tconst antDpropsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tactualizarImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t\tvar porcentaje = 100 - value;\r\n\t\tvar descuento = Math.round(producto.precio * porcentaje / 100);\r\n\t\tif (descuento >= producto.precio || descuento <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t\tsetPrecioPromocion(descuento);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCampo = (e) => {\r\n\t\tif (e >= producto.precio || e <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t} else {\r\n\t\t\tsetPrecioPromocion(e);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t\tvar porcentaje = Math.round(e / producto.precio * 100);\r\n\t\t\tvar descuento = 100 - porcentaje;\r\n\t\t\tsetInputValue(descuento);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promocion/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data.productoPromocion);\r\n\t\t\t\tsetPromocion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.setFieldsValue({ precio: res.data.precioPromocion });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarImagen = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/promocion/EliminarImagen/${productoContext}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('precioPromocion', precioPromocion);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div className=\"col-lg-8 col-12\">\r\n\t\t\t\t\t<List className=\"shadow\">\r\n\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws+producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<div className=\"precio-box\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"titulo-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h2>{producto.nombre}</h2>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{disabledSumit === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-descuento d-inline\">{inputValue}%OFF</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline\">${formatoMexico(producto.precio)}</p>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mb-2\">\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\ttooltipVisible\r\n\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nuevo precio\"\r\n\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\thelp=\"La promoción no debe ser mayor al precio del producto\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => obtenerCampo(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={disabledSumit} onClick={actualizarPromocion}>\r\n\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-none\">\r\n\t\t\t\t\t\t\t<p className=\"mt-2 texto-imagen\">\r\n\t\t\t\t\t\t\t\tActualizar imagen de promoción, recuerda que esta imagen aparecerá en el carrucel de\r\n\t\t\t\t\t\t\t\tpromociónes\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1710x330px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Space className=\"mt-3 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t{!promocion.imagenPromocion ? (\r\n\t\t\t\t\t\t\t\t\t<Upload {...antDprops}>\r\n\t\t\t\t\t\t\t\t\t\t<Button>Subir imagen</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Upload {...antDpropsActualizar}>\r\n\t\t\t\t\t\t\t\t\t\t<Button>Actualizar imagen</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\teliminarImagen();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tQuitar imagen\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t<div className=\"imagen-box-promocion shadow-sm mt-2\">\r\n\t\t\t\t\t\t\t\t{!promocion.imagenPromocion ? (\r\n\t\t\t\t\t\t\t\t\t<div>Sube una imagen</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"img-producto-promocion\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"img-producto\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={aws+promocion.imagenPromocion}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default ActualizarPromocion;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Button, Row, Input, Drawer, Space, Modal, notification, List, Result, Spin } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport RegistrarPromocion from './services/registrar_promocion';\r\nimport ActualizarPromocion from './services/actualizar_promocion';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport '../promociones.scss';\r\nimport '../registrar_promocion.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\n\r\nfunction PromocionesNormales(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ search, setSearch ] = useState('');\r\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\tconst [ reload, setReload ] = useState(false);\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos();\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetProductosFiltrados(\r\n\t\t\t\tproductos.filter((producto) => {\r\n\t\t\t\t\treturn producto.productoPromocion.nombre.toLowerCase().includes(search.toLowerCase());\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ search, productos ]\r\n\t);\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\r\n\tfunction setActualizar() {\r\n\t\tsetAccion(true);\r\n\t\tsetVisible(true);\r\n\t}\r\n\tfunction setRegistrar() {\r\n\t\tsetAccion(false);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst obtenerProductos = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/promocion')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function eliminarPromocion(idProducto) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/promocion/${idProducto}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerProductos();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(productoID) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'estas seguro de eliminar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarPromocion(productoID);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst render = productosFiltrados.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetActualizar();\r\n\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tEditar\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDeleteConfirm(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t<p className=\"h4 precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t$ {formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"h4 precio-rebaja d-inline mr-2\">$ {formatoMexico(productos.precioPromocion)}</p>\r\n\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t{agregarPorcentaje(productos.precioPromocion, productos.productoPromocion.precio)}%OFF\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t<Row justify=\"center mt-2\">\r\n\t\t\t\t\t<Search\r\n\t\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center mb-3\"\r\n\t\t\t\t\t\tonClick={setRegistrar}\r\n\t\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCrear nueva promocion\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{productos.length === 0 || productosFiltrados.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<List>{render}</List>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={accion === true ? 'Actualizar promoción' : 'Registrar nueva promoción'}\r\n\t\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\t\tplacement={'right'}\r\n\t\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tbodyStyle={{ paddingBottom: 30 }}\r\n\t\t\t\t\tfooter={\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={drawnerClose} >\r\n\t\t\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{accion === true ? (\r\n\t\t\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t\t<ActualizarPromocion reload={reload} drawnerClose={drawnerClose}/>\r\n\t\t\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<RegistrarPromocion reload={reload} drawnerClose={drawnerClose}/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(PromocionesNormales);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport {\r\n\tDrawer,\r\n\tButton,\r\n\tInput,\r\n\tSlider,\r\n\tTable,\r\n\tAvatar,\r\n\tnotification,\r\n\tResult,\r\n\tSpin,\r\n\tCol,\r\n\tAlert,\r\n\tSelect,\r\n\tTooltip,\r\n\tTag\r\n} from 'antd';\r\nimport { ClearOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { Option } = Select;\r\n\r\nexport default function RegistroPromocionMasiva(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ reloadData, setReloadData ] = useState(true);\r\n\tconst [ dataPromocion, setDataPromocion ] = useState([]);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingList, setLoadingList ] = useState(true);\r\n\tconst [ loadingSelect, setLoadingSelect ] = useState(false);\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ reload, setReload ] = props.reload;\r\n\tconst [ visible, setVisible ] = props.visible;\r\n\tconst [ actualizar, setActualizar ] = props.actualizar;\r\n\tconst { promoMasiva } = props;\r\n/* \tconst [ checkall, setCheckAll ] = useState(false); */\r\n\r\n\tconst [ categoriasDB, setCategoriasDB ] = useState([]);\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\tconst [ subcategoriasDB, setSubcategoriasDB ] = useState([]);\r\n\tconst [ subcategoria, setSubcategoria ] = useState();\r\n\tconst [ generosDB, setGenerosDB ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState();\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t\tobtenerCategorias();\r\n\t\tobtenerGeneros();\r\n\t};\r\n\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t\tlimpiar();\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos();\r\n\t\t},\r\n\t\t[ reloadData ]\r\n\t);\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetReloadData(!reloadData);\r\n\t};\r\n\r\n\tconst limpiar = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetInputValue(0);\r\n\t\tsetSelectedRowKeys([]);\r\n\t\tsetDataPromocion([]);\r\n\t\tsetPromocionMasiva([]);\r\n\t\tsetReloadData(!reloadData);\r\n\t\tsetActualizar(false);\r\n\t};\r\n\r\n\tconst error = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos/sinPaginacion`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => setInputValue(value);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetReloadData(!reloadData);\r\n\t\t} else {\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, genero) => {\r\n\t\tvar cat = categoria;\r\n\t\tvar sub = subcategoria;\r\n\t\tvar gen = genero;\r\n\r\n\t\tif (categoria === undefined) {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === undefined) {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === undefined) {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\r\n\t\tsetLoadingList(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\r\n\t\t\t\tif(actualizar){\r\n\t\t\t\t\tconst checks = [];\r\n\t\t\t\t\tconst data = [];\r\n\t\t\t\t\tconst listaBD = [];\r\n\t\t\t\t\tres.data.posts.forEach((res) => {\r\n\t\t\t\t\t\tpromoMasiva.forEach((promo) => {\r\n\t\t\t\t\t\t\tif(res._id === promo.productoPromocion._id){\r\n\t\t\t\t\t\t\t\tchecks.push(res._id)\r\n\t\t\t\t\t\t\t\tdata.push(res);\r\n\t\t\t\t\t\t\t\tlistaBD.push({ idProducto: res._id })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetSelectedRowKeys(checks);\r\n\t\t\t\t\tsetDataPromocion(data); \r\n\t\t\t\t\tsetPromocionMasiva(listaBD);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlimpiarChecks()\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingSelect(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCategoriasDB(res.data);\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGenerosDB(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst selectCategoria = (categoria) => {\r\n\t\tsetCategoria(categoria);\r\n\t\tsetSubcategoria(null);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria);\r\n\t\t}\r\n\t\tcategoriasDB.forEach((res) => {\r\n\t\t\tif (categoria === res.categoria) {\r\n\t\t\t\tsetSubcategoriasDB(res.subcCategoria);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst selectSubCategoria = (subcategoria) => {\r\n\t\tsetSubcategoria(subcategoria);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria);\r\n\t\t}\r\n\t};\r\n\tconst selectGenero = (genero) => {\r\n\t\tsetGenero(genero);\r\n\t\tif (categoria && categoria.length !== 0 && !subcategoria) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else if (categoria && subcategoria && categoria.length !== 0 && subcategoria.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else if (!categoria && !subcategoria && genero) {\r\n\t\t\tobtenerFiltrosDivididos(undefined, undefined, genero);\r\n\t\t}\r\n\t};\r\n\r\n\t/* Checklist */\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Imagen',\r\n\t\t\tdataIndex: 'imagen',\r\n\t\t\trender: (imagen) => <Avatar src={aws + imagen} />\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Promoción',\r\n\t\t\tdataIndex: 'promocion',\r\n\t\t\trender: (promocion) =>\r\n\t\t\t\tpromocion && promocion.length !== 0 ? <Tag color=\"green\">activa</Tag> : <div className=\"d-none\" />\r\n\t\t}\r\n\t];\r\n\tconst [ promocionMasiva, setPromocionMasiva ] = useState([]);\r\n\tconst [ selectedRowKeys, setSelectedRowKeys ] = useState([]);\r\n\tconst hasSelected = selectedRowKeys.length > 0;\r\n\r\n\tconst onSelectChange = (selectedRowKeys) => {\r\n\t\tsetSelectedRowKeys(selectedRowKeys);\r\n\t\tconst listaIDs = selectedRowKeys.map((res) => {\r\n\t\t\treturn { idProducto: res };\r\n\t\t});\r\n\t\tsetPromocionMasiva(listaIDs);\r\n\t};\r\n\r\n\tconst rowSelection = {\r\n\t\tselectedRowKeys,\r\n\t\tonChange: onSelectChange,\r\n\t\tgetCheckboxProps: (producto) => {\r\n\t\t\tif (actualizar) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled:\r\n\t\t\t\t\t\tproducto.promocion &&\r\n\t\t\t\t\t\tproducto.promocion.length !== 0 &&\r\n\t\t\t\t\t\tproducto.promocion[0].idPromocionMasiva !== promoMasiva[0].idPromocionMasiva, // Column configuration not to be checked\r\n\t\t\t\t\tname: producto.nombre\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled: producto.promocion && producto.promocion.length !== 0, // Column configuration not to be checked\r\n\t\t\t\t\tname: producto.nombre\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSelect: (record, selected, selectedRows) => {\r\n\t\t\tsetDataPromocion(selectedRows);\r\n\t\t},\r\n\t\tonSelectAll: (selected, selectedRows) => {\r\n\t\t\tsetDataPromocion(selectedRows);\r\n\t\t}\r\n\t};\r\n\t/* Checklist fin */\r\n\r\n\t/* Actualizar datos */\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (actualizar) {\r\n\t\t\t\tcheckearChecks();\r\n\t\t\t}\r\n\t\t\tif(visible){\r\n\t\t\t\tshowDrawer();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ actualizar, promoMasiva ]\r\n\t);\r\n\r\n\tconst limpiarChecks = () => {\r\n\t\tsetSelectedRowKeys([]);\r\n\t\tsetDataPromocion([]);\r\n\t\tsetPromocionMasiva([]);\r\n\t}\r\n\r\n\tconst checkearChecks = () => {\r\n\t\tsetInputValue(parseInt(promoMasiva[0].porsentajePromocionMasiva));\r\n\t\tconst listaPromosActuales = promoMasiva.map((producto) => {\r\n\t\t\treturn producto.productoPromocion._id;\r\n\t\t});\r\n\t\tsetSelectedRowKeys(listaPromosActuales);\r\n\r\n\t\tconst listaIDs = promoMasiva.map((res) => {\r\n\t\t\treturn { idProducto: res.productoPromocion._id };\r\n\t\t});\r\n\t\tsetPromocionMasiva(listaIDs);\r\n\t\tconst listaPromosData = promoMasiva.map((producto) => {\r\n\t\t\treturn producto.productoPromocion;\r\n\t\t});\r\n\t\tsetDataPromocion(listaPromosData);\r\n\t};\r\n\t/* Actualizar datos */\r\n\r\n\tconst subirPromocion = async () => {\r\n\t\tconst listaPromociones = {\r\n\t\t\tproductos: promocionMasiva,\r\n\t\t\tdescuento: inputValue\r\n\t\t};\r\n\t\tsetLoading(true);\r\n\t\tif (actualizar) {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/promocion/masiva/${promoMasiva[0].idPromocionMasiva}`, listaPromociones, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t\tlimpiar();\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/promocion/masiva/`, listaPromociones, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t\tlimpiar();\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<PlusOutlined /> Nueva promoción masiva\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle=\"Crear promoción masiva\"\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={onClose} style={{ marginRight: 8 }}>\r\n\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tdisabled={inputValue > 0 && selectedRowKeys.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\tonClick={subirPromocion}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tGuardar promoción masiva\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t<div className=\"row d-flex\">\r\n\t\t\t\t\t\t<div className=\"order-1 order-lg-0  col-12 col-lg-6 border-bottom\">\r\n\t\t\t\t\t\t\t<Spin size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t\t<div className=\" mt-2 row justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tvalue={categoria}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Categoria\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectCategoria}\r\n\t\t\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{categoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res.categoria} value={res.categoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.categoria}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!categoria ? true : false}\r\n\t\t\t\t\t\t\t\t\t\tvalue={subcategoria}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Subcategoria\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectSubCategoria}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{subcategoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tsubcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tvalue={genero}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Genero\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectGenero}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{generosDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tgenerosDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Tooltip placement=\"bottom\" title=\"Limpiar filtros\">\r\n\t\t\t\t\t\t\t\t\t\t<ClearOutlined\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={limpiarFiltros}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t) : data.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"tabla-promociones\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ marginLeft: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{hasSelected ? `Selected ${selectedRowKeys.length} items` : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\t\t\t\t\t\t\t\trowSelection={rowSelection}\r\n\t\t\t\t\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"order-0 order-lg-1 col-12 col-lg-6\">\r\n\t\t\t\t\t\t\t<div className=\" mt-2 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\tmessage=\"En este apartado puedes agregar promociones masivas, por categoria elegida\"\r\n\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center my-3\">\r\n\t\t\t\t\t\t\t\t\t{dataPromocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\t\t\t\t\tmaxCount={5}\r\n\t\t\t\t\t\t\t\t\t\t\tsize={64}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{dataPromocion.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Avatar key={index} src={aws + res.imagen} />;\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<h3>Selecciona los productos que quieres aplicarles una promoción</h3>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"precio-box porcentaje-descuento d-inline text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 25 }}> {inputValue} %OFF</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Spin>\r\n\t\t\t</Drawer>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Space, Button, Avatar, notification, Spin, Modal, List } from 'antd';\r\nimport { EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\nimport RegistroPromocionMasiva from './registrar_promocion_masiva';\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst PromoMasivaPrincipal = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(true);\r\n\r\n\tconst [ actualizar, setActualizar ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ promo, setPromo ] = useState([]);\r\n\r\n\tconst obtenerPromosMasivas = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/promocion/masiva')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarPromocionMasiva = async (idPromoMasiva) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`promocion/masiva/${idPromoMasiva}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idPromoMasiva) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'estas seguro de eliminar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarPromocionMasiva(idPromoMasiva);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst actualizarActive = (promo) => {\r\n\t\tsetActualizar(true);\r\n\t\tsetPromo(promo);\r\n\t\tsetVisible(true);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPromosMasivas();\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<RegistroPromocionMasiva\r\n\t\t\t\treload={[ reload, setReload ]}\r\n\t\t\t\tvisible={[ visible, setVisible ]}\r\n\t\t\t\tpromoMasiva={promo}\r\n\t\t\t\tactualizar={[ actualizar, setActualizar ]}\r\n\t\t\t/>\r\n\t\t\t{/* <ActualizarPromocionMasiva\r\n\t\t\t\treload={[ reload, setReload ]}\r\n\t\t\t\t\r\n\t\t\t/> */}\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t<List\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\trenderItem={(item) => (\r\n\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => actualizarActive(item.productosPromoMasiva)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<EditOutlined /> Editar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tshowDeleteConfirm(item.productosPromoMasiva[0].idPromocionMasiva);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\t\t\t\tmaxCount={5}\r\n\t\t\t\t\t\t\t\t\t\tsize={64}\r\n\t\t\t\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{item.productosPromoMasiva.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Avatar key={index} src={aws + res.productoPromocion.imagen} />;\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<h3 style={{ color: '#22BB33' }}>{`${item.productosPromoMasiva[0]\r\n\t\t\t\t\t\t\t\t\t\t\t.porsentajePromocionMasiva}%`}</h3>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdescription={<h4>De descuento</h4>}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PromoMasivaPrincipal;\r\n","import React from 'react';\r\nimport { Tabs } from 'antd';\r\nimport PromocionesNormales from './promos_normales/promociones';\r\nimport PromoMasivaPrincipal from './promos_masivas/promo_masiva';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function Promociones() {\r\n\treturn (\r\n\t\t<div className=\"card-container\">\r\n\t\t\t<div className=\"mb-4\">\r\n                <p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n                    SISTEMA DE PROMOCIONES\r\n                </p>\r\n                <p className=\"text-center\" style={{ fontSize: 15 }}>\r\n                    En este apartado puedes agregar ofertas especiales a tu producto y aparecer en la página principal\r\n                </p>\r\n            </div>\r\n\t\t\t<Tabs centered>\r\n\t\t\t\t<TabPane tab=\"Promociones individuales\" key=\"1\">\r\n\t\t\t\t\t<PromocionesNormales />\r\n\t\t\t\t</TabPane>\r\n\t\t\t\t<TabPane tab=\"Promociones masivas\" key=\"2\">\r\n\t\t\t\t\t<PromoMasivaPrincipal />\r\n\t\t\t\t</TabPane>\r\n\t\t\t\t{/* <TabPane tab=\"Promociones unitarias\" key=\"3\">\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t</TabPane> */}\r\n\t\t\t</Tabs>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Card, Col, Tag, Modal, notification } from 'antd';\r\nimport { ContainerOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nimport './MostrarDatosTargeta.scss';\r\n\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nexport default function MostrarDatosTargeta(props) {\r\n\tconst { setDetalleApartado, showModal, apartado, setEstado, token } = props;\r\n\r\n\tconst deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={apartado._id}>\r\n\t\t\t<Card\r\n\t\t\t\tclassName=\"shadow-sm card-body-apartados\"\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t<div className=\"d-flex ml-3 justify-content-center align-items-center\">\r\n\t\t\t\t\t\t<ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDetalle del pedido\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center text-danger\">\r\n\t\t\t\t\t\t<DeleteOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tclassName=\"contenedor-card-apartados\"\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Id apartado: </h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado._id}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Pedido el:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{formatoFecha(apartado.createdAt)}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Cliente:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">\r\n\t\t\t\t\t\t\t\t\t{`${apartado.cliente[0].nombre} ${apartado.cliente[0].apellido}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Estado:</h6>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"data-info-apartados\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Tipo de entrega:</h6>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"data-info-apartados\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'ENVIO' ? '#5cb85c' : '#0275d8'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Producto:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado.producto[0].nombre}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Cantidad de artículos:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado.cantidad}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</Col>\r\n\t);\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport {Badge,Select,Form, Button,Spin,notification,Typography,Tag,Input,Card, Divider} from 'antd'\r\nimport './DetalleApartado.scss';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst { TextArea } = Input;\r\nconst { Text } = Typography;\r\nconst { Option } = Select;\r\nconst { Meta } = Card;\r\n\r\nexport default function DetalleApartado(props) {\r\n\r\n    const {detalleApartado,setEstado, setVisible} = props;\r\n    const [selectEstado, setSelectEstado] = useState('')\r\n    const [promocion, setpromocion] = useState([])\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [ datosEnvio, setdatosEnvio ] = useState();\r\n\r\n    const [ form ] = Form.useForm();\r\n\r\n    const token = localStorage.getItem('token');\r\n\r\n    let multiple;\r\n\r\n\tif (detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0) {\r\n\t\tmultiple = detalleApartado.apartadoMultiple.map((info) => {\r\n\t\t\tconst producto = detalleApartado.productosMultiple.map((producto,index) => {\r\n\t\t\t\tif (info.producto === producto._id) {\r\n\t\t\t\t\treturn <ProductosMultiple key={producto._id} producto={producto} info={info} index={index} />;\r\n                }\r\n                return (<div />);\r\n\t\t\t});\r\n\t\t\treturn producto;\r\n\t\t});\r\n    }\r\n\r\n    function obtenerApartado(){\r\n        clienteAxios.get(`/apartado/${detalleApartado._id}`,{\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n        .then((res) => {\r\n\t\t\tsetLoading(false);\r\n            setpromocion(res.data.promocion)\r\n        }).catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        monstrarInformacionBlog({\r\n            mensajeUser:detalleApartado.mensajeUser,\r\n            paqueteria:detalleApartado.paqueteria,\r\n            url:detalleApartado.url,\r\n            codigo_seguimiento:detalleApartado.codigo_seguimiento,\r\n        })\r\n        obtenerApartado()\r\n        setSelectEstado(detalleApartado.estado)\r\n        setLoading(true)\r\n    }, [detalleApartado])\r\n\r\n\r\n    const handleonChange = (e) => {\r\n        setSelectEstado(e)\r\n    }\r\n\r\n    const monstrarInformacionBlog = (e) => {\r\n        form.setFieldsValue(e);\r\n     }\r\n\r\n\r\n\r\n    const guardarEstadoApartado = async () => {\r\n        let data = {};\r\n        if(selectEstado === \"ENVIADO\"){\r\n            data = {\r\n                estado: selectEstado,\r\n                codigo_seguimiento: datosEnvio.codigo_seguimiento,\r\n                mensajeUser: datosEnvio.mensajeUser,\r\n                paqueteria: datosEnvio.paqueteria,\r\n                url: datosEnvio.url,\r\n            }\r\n        }else{\r\n            data = {\r\n                estado: selectEstado,\r\n            }\r\n        }\r\n\r\n        setLoading(true)\r\n        await clienteAxios.put(`/apartado/${detalleApartado._id}`,data,{\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            setEstado(true)\r\n            setLoading(false)\r\n            notification.success({\r\n                message: 'Hecho!',\r\n                description: res.data.message,\r\n                duration: 2\r\n            });\r\n            setVisible(false);\r\n        })\r\n        .catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <Spin size=\"large\" spinning={loading}>\r\n            <div className =\"detalle-apartado\">\r\n                <div>\r\n                    <Divider orientation=\"left\">Datos del cliente</Divider>\r\n                   {/*  <p className=\"h4 font-weight-bold mb-4\">Datos Usuario</p> */}\r\n                    <div className=\"row detalle-apartados\">\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Nombre: </h6>\r\n                            <p>{detalleApartado.cliente[0].nombre}</p>\r\n                            <h6 className=\"d-inline\">Teléfono: </h6>\r\n                            <p>{detalleApartado.cliente[0].telefono}</p>\r\n                            <h6 className=\"d-inline\">Calle: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].calle_numero}</p>}\r\n\r\n                        </div>\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Entre las calles: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].entre_calles}</p>}\r\n                            <h6 className=\"d-inline\">Código Postal: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].cp}</p>}\r\n                            <h6 className=\"d-inline\">Colonia: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].colonia}</p>}\r\n                        </div>\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Ciudad: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].ciudad}</p>}\r\n                            <h6 className=\"d-inline\">Estado: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].estado}</p>}\r\n                            <h6 className=\"d-inline\">País: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].pais}</p>}\r\n                        </div>\r\n                    </div>\r\n                    <Divider orientation=\"left\">Datos del producto</Divider>\r\n                    <div className=\"detalle-apartado__border m-2 mb-5\">\r\n                        {/* <p className=\"h4 font-weight-bold\">Datos producto</p> */}\r\n                        {detalleApartado.apartadoMultiple.length !== 0 ? (\r\n                            <div>\r\n                                <div className=\"row\">\r\n                                    {multiple}\r\n                                </div>\r\n                                <div className=\"mt-5\">\r\n                                    <h6 className=\"d-inline\" style={{fontSize: 24}}>Total:</h6>\r\n                                    <p className=\" data-info-pedidos\" style={{fontSize: 24}}>$ {formatoMexico(detalleApartado.total)}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                        ):(\r\n                        <div className=\"\">\r\n                            <div className=\"DetalleApartdado-imagen\">\r\n                                <img\r\n                                    className=\"img-fluid\"\r\n                                    width=\"200\"\r\n                                    alt=\"imagen de base\"\r\n                                    src={aws+detalleApartado.producto[0].imagen}\r\n                                />\r\n                            </div>\r\n                            <h6 className=\" m-2\">Nombre: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.producto[0].nombre}</p>\r\n                            <h6 className=\" m-2\">Código de barras: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.producto[0].codigo}</p>}\r\n                            <h6 className=\" m-2\">Categoría: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.producto[0].categoria}</p>}\r\n                            {promocion.length > 0 ? (\r\n                                <div className=\"\">\r\n                                    <h6 className=\"\">Precio:</h6>\r\n                                    <Text className=\"h4 color-precio-apartado\" delete >$ {formatoMexico(detalleApartado.producto[0].precio)}</Text> \r\n                                    <p className=\"h4\">$ {formatoMexico(promocion[0].precioPromocion)}</p>\r\n                                </div>\r\n                            ):(<p className=\" m-2\">$ {formatoMexico(detalleApartado.producto[0].precio)}</p>)}\r\n                                                        <div>\r\n                                {/* <Divider orientation=\"left\">Estatus del pedido</Divider> */}\r\n                                <h6 className=\" m-2\">{detalleApartado.producto[0].categoria === 'calzado' ? 'Numero a apartar:': detalleApartado.producto[0].categoria === 'ropa' ? 'Talla a apartar' : '' }</h6>\r\n                                    {detalleApartado.producto[0].categoria === 'calzado' ? (\r\n                                        <Badge className=\"m-2\">\r\n                                                <p \r\n                                                    className=\"detalle-contenido-talla m-2\"\r\n                                                style={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '40px', height: '56px' }}\r\n                                                >\r\n                                                    {detalleApartado.medida[0].numero}\r\n                                                </p>\r\n                                            </Badge>  \r\n                                    ): detalleApartado.producto[0].categoria === 'ropa' ? (\r\n                                        <Badge className=\"m-2\">\r\n                                            <p \r\n                                                className=\"detalle-contenido-talla m-2\"\r\n                                            style={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '40px', height: '56px' }}\r\n                                            >\r\n                                                {detalleApartado.medida[0].talla}\r\n                                            </p>\r\n                                        </Badge>\r\n                                    ) : '' }\r\n                            </div>\r\n                        </div>\r\n                        )}\r\n                    </div>\r\n                    <Divider>Estatus del pedido</Divider>\r\n                    <div className=\"m-2\">\r\n                        <div>\r\n                           {/*  <h6 className=\" m-2\">Cantidad de artículos por apartar: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.cantidad}</p> */}\r\n\r\n                            <h6 className=\" m-2\">Tipo de entrega:</h6>\r\n                            <Tag\r\n                                style={{size:\"50px\",marginBottom: 10}}\r\n                                color={detalleApartado.tipoEntrega === 'ENVIO' ?  '#5cb85c' : '#0275d8'}\r\n                            >\r\n                                {detalleApartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n                            </Tag>\r\n                            <p></p>\r\n\r\n                            <h6 className=\" m-2\">Actualiza el estado del pedido:</h6>\r\n                            <Form \r\n                                onFinish={guardarEstadoApartado}\r\n                                form={form}\r\n                            >\r\n                            <Form.Item>\r\n                                <Select value={selectEstado} placeholder=\"Seleciona una categoria\" onChange={handleonChange} style={{ width: 300 }}>\r\n                                    <Option value=\"PROCESANDO\">En proceso</Option>\r\n                                    {detalleApartado.tipoEntrega === \"ENVIO\" ? (\r\n                                        <>\r\n                                            <Option value=\"ENVIADO\">Enviado</Option>\r\n                                            <Option value=\"ENTREGADO\">Entregado</Option>\r\n                                            <Option value=\"CANCELADO\">Cancelado</Option>\r\n                                        </>\r\n\r\n                                    ):(\r\n                                        <>\r\n                                            <Option value=\"ACEPTADO\">Aceptado</Option>\r\n                                            <Option value=\"ENTREGADO\">Entregado</Option>\r\n                                            <Option value=\"RECHAZADO\">Rechazado</Option>\r\n                                        </>\r\n\r\n                                    )}\r\n\r\n                                </Select>\r\n                            </Form.Item>\r\n                            {selectEstado === 'ENVIADO' ? detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-lg-8\">\r\n                                        <h6>Mensaje:</h6>\r\n                                        <Form.Item  name=\"mensajeUser\">\r\n                                            <TextArea rows={4} name=\"mensajeUser\" onChange={e => setdatosEnvio({ ...datosEnvio, mensajeUser: e.target.value })} />\r\n                                        </Form.Item>\r\n                                        <h6>Paquetería:</h6>\r\n                                        <Form.Item  name=\"paqueteria\">\r\n                                            <Input   name=\"paqueteria\" placeholder=\"Paqueteria\" onChange={e => setdatosEnvio({ ...datosEnvio, paqueteria: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                        <h6>Url de vinculación:</h6>\r\n                                        <Form.Item  name=\"url\">\r\n                                            <Input   name=\"url\" placeholder=\"Url de vinculacion del paquete\" onChange={e => setdatosEnvio({ ...datosEnvio, url: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                        <h6>Número de seguimiento:</h6>\r\n                                        <Form.Item  name=\"codigo_seguimiento\">\r\n                                            <Input   name=\"codigo_seguimiento\" placeholder=\"Numero de seguimiento del paquete\" onChange={e => setdatosEnvio({ ...datosEnvio, codigo_seguimiento: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                    </div>\r\n                                </div>\r\n                            ) : \"\" : \"\" }\r\n                            <Form.Item wrapperCol={{offset: 10, span: 8}}>\r\n                                 <Button className=\"d-flex justify-content-center align-items-center\" type=\"primary\" htmlType=\"submit\" >\r\n                                    Guardar\r\n                                </Button>\r\n                            </Form.Item>\r\n                            </Form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n\r\nfunction ProductosMultiple({producto,info}){\r\n    return (\r\n        <div className=\"col-12 col-lg-4\">\r\n            <Link to={`/vista_producto/${producto._id}`}>\r\n            <Card\r\n                hoverable\r\n                style={{ width: 250 }}\r\n                cover={\r\n                    <div className=\"contenedor-imagen-detalle-apartado\">\r\n                        <img alt=\"example\" className=\"imagen-detalle-apartado\" src={aws + producto.imagen} />\r\n                    </div>\r\n                }\r\n            >\r\n                <Meta\r\n                    title={producto.nombre}\r\n                    description={\r\n                        <div className=\"row\">\r\n                            <h2 className=\"h5 precio-rebaja col-lg-12\">${formatoMexico(info.precio)}</h2>\r\n                            {info.medida ? info.medida.talla ? (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Talla: {info.medida.talla}</h2>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                            ) : (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Talla: {info.medida.numero}</h2>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                                \r\n                            ) : (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    }\r\n                />\r\n            </Card>\r\n        </Link>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Card, Col, Tag, Modal, notification } from 'antd';\r\nimport { ContainerOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\n\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst MostrarDatosMultipleTargeta = (props) => {\r\n    const { setDetalleApartado, showModal, apartado, setEstado, token } = props;\r\n    \r\n    const deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n    \r\n\treturn (\r\n            <Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={apartado._id}>\r\n                <Card\r\n                    className=\"shadow-sm card-body-apartados\"\r\n                    actions={[\r\n                        <div className=\"d-flex ml-3 justify-content-center align-items-center\">\r\n                            <ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n                            <p\r\n                                onClick={() => {\r\n                                    setDetalleApartado(apartado);\r\n                                    showModal();\r\n                                }}\r\n                                className=\"d-inline\"\r\n                            >\r\n                                Detalle del pedido\r\n                            </p>\r\n                        </div>,\r\n                        <div className=\"d-flex justify-content-center align-items-center text-danger\">\r\n                            <DeleteOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n                            <p\r\n                                onClick={() => {\r\n                                    deleteApartado(apartado._id);\r\n                                }}\r\n                                className=\"d-inline\"\r\n                            >\r\n                                Eliminar\r\n                            </p>\r\n                        </div>\r\n                    ]}\r\n                >\r\n                    <Meta\r\n                        className=\"contenedor-card-apartados\"\r\n                        description={\r\n                            <div className=\"\">\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Id apartado: </h6>\r\n                                    <p className=\"data-info-apartados\">{apartado._id}</p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Pedido el:</h6>\r\n                                    <p className=\"data-info-apartados\">{formatoFecha(apartado.createdAt)}</p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Cliente:</h6>\r\n                                    <p className=\"data-info-apartados\">\r\n                                        {`${apartado.cliente[0].nombre} ${apartado.cliente[0].apellido}`}{' '}\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Estado:</h6>\r\n                                    <Tag\r\n                                        className=\"data-info-apartados\"\r\n                                        color={\r\n                                            apartado.estado === 'ACEPTADO' ? (\r\n                                                '#0088ff'\r\n                                            ) : apartado.estado === 'PROCESANDO' ? (\r\n                                                '#ffc401'\r\n                                            ) : apartado.estado === 'ENVIADO' ? (\r\n                                                '#0088ff'\r\n                                            ) : apartado.estado === 'ENTREGADO' ? (\r\n                                                '#5cb85c'\r\n                                            ) : (\r\n                                                '#F75048'\r\n                                            )\r\n                                        }\r\n                                    >\r\n                                        {apartado.estado}\r\n                                    </Tag>\r\n                                </div>\r\n\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Tipo de entrega:</h6>\r\n                                    <Tag\r\n                                        className=\"data-info-apartados\"\r\n                                        color={apartado.tipoEntrega === 'ENVIO' ? '#5cb85c' : '#0275d8'}\r\n                                    >\r\n                                        {apartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n                                    </Tag>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Cantidad de artículos:</h6>\r\n                                    <p className=\"data-info-apartados\">{apartado.cantidad}</p>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    />\r\n                </Card>\r\n            </Col>\r\n\t);\r\n};\r\n\r\n\r\n\r\nexport default MostrarDatosMultipleTargeta;\r\n","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Spin, Result, Row, Modal, Input } from 'antd';\r\nimport queryString from 'query-string';\r\nimport MostrarDatosTargeta from './services/MostrarDatosTargeta';\r\nimport DetalleApartado from './services/DetalleApartado';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport './apartado.scss';\r\nimport MostrarDatosMultiple from './services/MostrarDatosMultiplesTarjeta';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction SistemaApartado(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ apartados, setApartados ] = useState([]);\r\n\tconst [ detalleApartado, setDetalleApartado ] = useState([]);\r\n\tconst [ apartadoPaginacion, setApartadoPaginacion ] = useState([]);\r\n\r\n\tconst [ filter, setFilter ] = useState('');\r\n\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ estado, setEstado ] = useState(false);\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction obtenerProductosFiltrados(filter) {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/apartado/filtroCliente/${filter}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetApartados(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerDatos = useCallback(\r\n\t\t(limit, page) => {\r\n\t\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/apartado/?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetApartados(res.data.posts.docs);\r\n\t\t\t\tsetApartadoPaginacion(res.data.posts);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t[token],\r\n\t)\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerDatos(24, page);\r\n\t\t\tsetLoading(true);\r\n\t\t\tsetEstado(false);\r\n\t\t},\r\n\t\t[ page, filter, estado, obtenerDatos ]\r\n\t);\r\n\r\n\tconst showModal = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\tSISTEMA DE CONTROL DE APARTADO\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tplaceholder=\"Buscar apartados\"\r\n\t\t\t\t\t\t\tonSearch={(value) => {\r\n\t\t\t\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\t\t\t\tobtenerDatos(10, page, filter);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tobtenerProductosFiltrados(value);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t{apartados.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Row gutter={16}>\r\n\t\t\t\t\t\t\t\t{apartados.map((apartado) => apartado.producto ? (\r\n\t\t\t\t\t\t\t\t\t<MostrarDatosMultiple \r\n\t\t\t\t\t\t\t\t\t\tkey={apartado._id}\r\n\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t):(\r\n\t\t\t\t\t\t\t\t\t<MostrarDatosTargeta\r\n\t\t\t\t\t\t\t\t\t\tkey={apartado._id}\r\n\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) )}\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tkey=\"detalle\"\r\n\t\t\t\t\twidth={800}\r\n\t\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\t\ttitle=\"Detalles de este pedido\"\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t\tfooter={[ '' ]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DetalleApartado\r\n\t\t\t\t\t\tdetalleApartado={detalleApartado}\r\n\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\tsetFilter={setFilter}\r\n\t\t\t\t\t\tsetVisible={setVisible}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Pagination blogs={apartadoPaginacion} location={location} history={history} limite={24} />\r\n\t\t\t</Spin>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(SistemaApartado);\r\n","import React, { useState } from 'react';\r\nimport { Button, notification, Upload } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport * as XLSX from 'xlsx';\r\nimport clienteAxios from '../config/axios';\r\n\r\nexport default function GetDataFromExcelJusTInput(props) {\r\n\tconst [ hojas, setHojas ] = useState([]);\r\n\tconst [ reload, setReload ] = props.reload;\r\n\r\n\tconst [ fileList, setFileList ] = useState([]);\r\n\tconst [ uploading, setUploading ] = useState(false);\r\n\r\n\tconst propsUlpload = {\r\n\t\tmultiple: false,\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tif (\r\n\t\t\t\tfile.type === 'application/vnd.ms-excel' ||\r\n\t\t\t\tfile.type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' ||\r\n\t\t\t\tfile.type === 'application/vnd.ms-excel.sheet.macroEnabled.12' \r\n\t\t\t) {\r\n\t\t\t\treturn false;\r\n\t\t\t}else {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Solo se admiten archivos csv',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tonChange({ file, fileList }) {\r\n\t\t\tsetFileList(fileList);\r\n\t\t\tlet hojas = [];\r\n\t\t\tif (!file.status ) {\r\n\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\treader.readAsArrayBuffer(file);\r\n\t\t\t\treader.onloadend = (e) => {\r\n\t\t\t\t\tvar data = new Uint8Array(e.target.result);\r\n\t\t\t\t\tvar workbook = XLSX.read(data, { type: 'array' });\r\n\r\n\t\t\t\t\tworkbook.SheetNames.forEach(function(sheetName) {\r\n\t\t\t\t\t\t// Here is your object\r\n\t\t\t\t\t\tvar XL_row_object = XLSX.utils.sheet_to_row_object_array(workbook.Sheets[sheetName]);\r\n\t\t\t\t\t\thojas.push({\r\n\t\t\t\t\t\t\tdata: XL_row_object,\r\n\t\t\t\t\t\t\tsheetName\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetHojas(hojas);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tfileList: fileList\r\n\t};\r\n\r\n\tconst enviarDatos = () => {\r\n\t\tsetUploading(true);\r\n\t\tconst token = localStorage.getItem('token');\r\n\t\tclienteAxios\r\n\t\t\t.put('/productos/inventario/excel/', hojas[0], {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t\tsetUploading(false);\r\n\t\t\t\tsetHojas([]);\r\n\t\t\t\tsetFileList([]);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Registros actualizados',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetUploading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'hubo un error al cargar el archivo',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"ml-2 mb-3 d-flex\">\r\n\t\t\t<Upload {...propsUlpload} className=\"d-inline-flex mx-3\">\r\n\t\t\t\t<Button size=\"large\" icon={<UploadOutlined />} disabled={fileList.length >= 1}>\r\n\t\t\t\t\tCargar csv\r\n\t\t\t\t</Button>\r\n\t\t\t</Upload>\r\n\t\t\t<Button\r\n\t\t\t\tclassName=\"d-inline-flex\"\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tonClick={enviarDatos}\r\n\t\t\t\tdisabled={fileList.length === 0}\r\n\t\t\t\tloading={uploading}\r\n\t\t\t>\r\n\t\t\t\t{uploading ? 'Cargando...' : 'Cargar archivo'}\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioOtros(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst {\r\n\t\tlocation,\r\n\t\thistory,\r\n\t\tproductos,\r\n\t\tproductosRender,\r\n\t\treload,\r\n\t\tsetReload,\r\n\t\tloading,\r\n\t\tsetLoading,\r\n\t\ttoken,\r\n\t\tlimite\r\n\t} = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idSeleccionado, setIdSeleccionado ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetIdSeleccionado(producto);\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdSeleccionado('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Código',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Cantidad',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: 'cantidad',\r\n\t\t\twidth: 100,\r\n\t\t\trender: (text) =>\r\n\t\t\t\ttext === null ? (\r\n\t\t\t\t\t<p>-</p>\r\n\t\t\t\t) : text === 0 ? (\r\n\t\t\t\t\t<Badge count={text} showZero />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Badge style={{ backgroundColor: '#52c41a' }} count={text} overflowCount={100000} />\r\n\t\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\twidth: 100,\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 230,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form key={producto._id} className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idSeleccionado ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\tid={producto._id}\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idSeleccionado ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idSeleccionado ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioOtros);\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioTallas(props) {\r\n\tconst { location, history, productos, productosRender, reload, setReload, loading, setLoading, token, limite } = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idTallaSeleccionada, setIdTallaSeleccionada ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\tconst [ talla, setTalla ] = useState([]);\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst obtenerTallas = (producto, talla) => {\r\n\t\tsetTalla(talla);\r\n\t\tsetIdTallaSeleccionada(producto);\r\n\t\tsetValidateStatus('warning');\r\n\t\tform.resetFields();\r\n\t\tsetCantidad(0);\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\tmedida: talla._id,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTalla([]);\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdTallaSeleccionada('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Código',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\twidth: 150,\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\twidth: 300,\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Talla y Cantidad',\r\n\t\t\tdataIndex: 'tallas',\r\n\t\t\tkey: 'tallas',\r\n\t\t\twidth: 500,\r\n\t\t\trender: (tallas, producto) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!tallas.length ? (\r\n\t\t\t\t\t\t<p className=\"h5\">-</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\ttallas.map((tallas) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge-inventario\"\r\n\t\t\t\t\t\t\t\t\tkey={tallas._id}\r\n\t\t\t\t\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\t\toverflowCount={100000}\r\n\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\ttallas.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#52c41a' }\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#FF4D4F' }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype={talla._id === tallas._id ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => obtenerTallas(producto._id, tallas)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 250,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idTallaSeleccionada ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioTallas);\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioNumeros(props) {\r\n\tconst {\r\n\t\tlocation,\r\n\t\thistory,\r\n\t\tproductos,\r\n\t\tproductosRender,\r\n\t\treload,\r\n\t\tsetReload,\r\n\t\tloading,\r\n\t\tsetLoading,\r\n\t\ttoken,\r\n\t\tlimite\r\n\t} = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idNumeroSeleccionada, setIdNumeroSeleccionada ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\tconst [ numero, setNumero ] = useState([]);\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst obtenerNumero = (producto, numero) => {\r\n\t\tsetNumero(numero);\r\n\t\tsetIdNumeroSeleccionada(producto);\r\n\t\tsetValidateStatus('warning');\r\n\t\tform.resetFields();\r\n\t\tsetCantidad(0);\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\tmedida: numero._id,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetNumero([]);\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdNumeroSeleccionada('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Código',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\twidth: 150,\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\twidth: 300,\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Número y Cantidad',\r\n\t\t\tdataIndex: 'numeros',\r\n\t\t\tkey: 'numeros',\r\n\t\t\twidth: 500,\r\n\t\t\trender: (numeros, producto) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!numeros.length ? (\r\n\t\t\t\t\t\t<p className=\"h5\">-</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tnumeros.map((numeros) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge-inventario\"\r\n\t\t\t\t\t\t\t\t\tkey={numeros._id}\r\n\t\t\t\t\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\t\toverflowCount={100000}\r\n\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\tnumeros.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#52c41a' }\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#FF4D4F' }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype={numero._id === numeros._id ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => obtenerNumero(producto._id, numeros)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 250,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idNumeroSeleccionada ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioNumeros);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Input, notification, Row, Tabs } from 'antd';\r\nimport './inventario.scss';\r\nimport queryString from 'query-string';\r\nimport GetDataFromExcelJusTInput from '../../../components/excel';\r\nimport InventarioOtros from './tablas_inventarios/inventario_otros';\r\nimport InventarioTallas from './tablas_inventarios/inventario_tallas';\r\nimport InventarioNumeros from './tablas_inventarios/inventario_numeros';\r\n\r\nconst { Search } = Input;\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Inventario(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst limite = 20;\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ categorias, setCategorias ] = useState([]);\r\n\t/* const [ tipoCategoria, setTipoCategoria ] = useState(''); */\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosRender, setProductosRender ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(true);\r\n\r\n\tconst tipoCategoria = props.match.params.tipoCategoria;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerCategorias();\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(tipoCategoria, limite, page);\r\n\t\t},\r\n\t\t[ page, reload, props ]\r\n\t);\r\n\r\n\t/* useEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(tipoCategoria, limite, page)\r\n\t\t},\r\n\t\t[ page, reload, props ]\r\n\t);\r\n */\r\n\tconst obtenerCategorias = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/tipoCategorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length !== 0) {\r\n\t\t\t\t\tsetCategorias(res.data);\r\n\t\t\t\t\t/* obtenerProductos(res.data[0]._id, limite, page);  */\r\n\r\n\t\t\t\t\t/* setTipoCategoria(res.data[0]._id); */\r\n\t\t\t\t\tprops.history.push(`/admin/inventario/${res.data[0]._id}`);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tobtenerProductos(tipoCategoria, limite, page);\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst otros = res.data.posts.filter((element) => element.tipoCategoria === tipoCategoria);\r\n\t\t\t\t\tsetProductosRender(otros);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (tipoCategoria, limit, page) => {\r\n\t\t/* setTipoCategoria(tipoCategoria); */\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter/individuales?tipoCategoria=${tipoCategoria}&limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosRender(res.data.posts.docs);\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction error(err) {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst tabs = categorias.map((categorias) => {\r\n\t\tif (categorias._id === 'Otros') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioOtros\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t} else if (categorias._id === 'Ropa') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario tallas\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioTallas\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t} else if (categorias._id === 'Calzado') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario calzado\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioNumeros\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn <div />;\r\n\t});\r\n\r\n\tconst searchBar = (\r\n\t\t<div className=\"row mw-100 search-container\">\r\n\t\t\t<Search\r\n\t\t\t\tclassName=\"col-lg-7 search-width px-0\"\r\n\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\tstyle={{ height: 40, marginBottom: 10, width: 400 }}\r\n\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t/>\r\n\t\t\t<div className=\"col-lg-5 pl-0 pr-4\">\r\n\t\t\t\t<GetDataFromExcelJusTInput reload={[ reload, setReload ]} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Row justify=\"center\" className=\"search-container-responsive\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\t\t\t\t<GetDataFromExcelJusTInput reload={[ reload, setReload ]} />\r\n\t\t\t</Row>\r\n\t\t\t<Tabs\r\n\t\t\t\ttabBarExtraContent={searchBar}\r\n\t\t\t\tonChange={(tipoCategoria) => {\r\n\t\t\t\t\t/* obtenerProductos(tipoCategoria, limite, page); */\r\n\t\t\t\t\tprops.history.push(`/admin/inventario/${tipoCategoria}`);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{tabs}\r\n\t\t\t</Tabs>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Inventario);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Button, Input, Space, notification, Modal, List, Avatar, Card, Result, Empty, Spin } from 'antd';\r\nimport { ExclamationCircleOutlined, RollbackOutlined, CloseOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport './sugerencia.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst Sugerencia = (props) => {\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(IdProductoContext);\r\n\t//states de obtener producto\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\t//states de obtener productos sugeridos de base, crear producto sugerido y para mapear el producto sugerido\r\n\tconst [ sugerencia, setSugerencia ] = useState([]);\r\n\tconst [ productoSugerido, setProductoSugerido ] = useState([]);\r\n\t//modal para crear un producto sugerido\r\n\tconst [ modalVisible, setModalVisible ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\t///state para saber si va a actualizar o registrar\r\n\tconst [ actualizar, setActualizar ] = useState(false);\r\n\r\n\t//infiniteScroll\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ loadingList, setLoadingList ] = useState(false);\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProducto();\r\n\t\t\tobtenerSugerencia();\r\n\t\t},\r\n\t\t[ productoContext ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTodosProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reloadData ]\r\n\t);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerTodosProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerTodosProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst obtenerProducto = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/sugerencia/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.sugerencias) {\r\n\t\t\t\t\tres.data.sugerencias.forEach((item) => setSugerencia(item.producto));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSugerencia('No hay sugerencia');\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tif (err.response.status === 404) {\r\n\t\t\t\t\t\tsetSugerencia('No hay sugerencia');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t///// CREAR, ACTUALIZAR Y ELIMINAR SUGERENCIAS DE LA BASE DE DATOS\r\n\tconst crearSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\tproducto: productoContext,\r\n\t\t\tsugerencias: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: productoSugerido\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/sugerencia/nueva/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t\tsetModalVisible(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\tproducto: productoContext,\r\n\t\t\tsugerencias: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: productoSugerido\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/sugerencia/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t\tsetModalVisible(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/sugerencia/${productoContext}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t///MODAL ALERTA ELIMINAR\r\n\tfunction showDeleteConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de eliminar esta sugerencia?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarSugerencia();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t/////MODAL\r\n\tconst showModal = (accion) => {\r\n\t\tif (accion === 'actualizar') {\r\n\t\t\tsetModalVisible(true);\r\n\t\t\tsetActualizar(true);\r\n\t\t} else {\r\n\t\t\tsetModalVisible(true);\r\n\t\t}\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetModalVisible(false);\r\n\t\tsetPage(1);\r\n\t\tsetHasMore(true);\r\n\t\tsetReloadData(true);\r\n\t\tsetProductoSugerido([]);\r\n\t};\r\n\r\n\tconst render = data.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tclassName={productoSugerido._id === productos._id ? 'list-item-sugerencia' : ''}\r\n\t\t\tkey={productos._id}\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetProductoSugerido(productos);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tAgregar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta avatar={<Avatar src={aws + productos.imagen} />} title={productos.nombre} />\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Modal\r\n\t\t\t\tclosable={false}\r\n\t\t\t\tstyle={{ top: 30 }}\r\n\t\t\t\ttitle=\"Sugerencias de producto\"\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tfooter={[\r\n\t\t\t\t\t<Button danger key=\"back\" onClick={handleCancel}>\r\n\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t<CloseOutlined className=\"mr-1\" />Cerrar\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Button>,\r\n\t\t\t\t\tactualizar === false ? (\r\n\t\t\t\t\t\t<Button key=\"crear\" type=\"primary\" onClick={crearSugerencia}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t<CheckOutlined className=\"mr-1\" />Crear\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Button key=\"actualizar\" type=\"primary\" onClick={actualizarSugerencia}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t<CheckOutlined className=\"mr-1\" />Actualizar\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t<p className=\"text-center my-3\">Elige un producto que quieres sugerir.</p>\r\n\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Spin className=\"spin-sugerencia-list\" size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-lista\">\r\n\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\tpageStart={0}\r\n\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<List className=\"m-1\">{render}</List>\r\n\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Spin>\r\n\t\t\t</Modal>\r\n\t\t\t<div>\r\n\t\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 18 }}>\r\n\t\t\t\t\t\t¡Que esperas, crea una sugerencia ahora mismo!.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\t\tCrea sugerencias de productos para tu tienda.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\t\t\tEstas sugerencias aparecerán en la vista del producto.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-3\">\r\n\t\t\t\t\t<Button onClick={showModal}>Crear sugerencia</Button>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-3\">\r\n\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tshowModal('actualizar');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEditar sugerencia\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={showDeleteConfirm}>Quitar sugerencia</Button>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"d-lg-flex d-sm-block justify-content-center align-items-center mt-4\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow card-contenedor\"\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-sugerencia\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta title={producto.nombre} />\r\n\t\t\t\t</Card>\r\n\t\t\t\t<div className=\"contenedor-span d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<span>+</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t\t<Empty description=\"No hay sugerencia\" />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tclassName=\"shadow card-contenedor\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-sugerencia\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto sugerido\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws + sugerencia.imagen}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Meta title={sugerencia.nombre} />\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default Sugerencia;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Row, Input, Button, Drawer, notification, Space, List, Result, Spin } from 'antd';\r\nimport { RollbackOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport jwt_decode from 'jwt-decode';\r\nimport Sugerencia from './services/sugerencia';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './sugerencias.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Sugerencias(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ visibleReload, setVisibleReload ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t}\r\n\tfunction drawnerOpen() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisibleReload('d-none');\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t} else {\r\n\t\t\tsetVisibleReload('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetVisibleReload('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center mt-3\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mt-3\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdrawnerOpen();\r\n\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tVer / Crear Sugerencia\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img className=\"imagen-promocion-principal\" alt=\"producto\" src={aws + productos.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">{productos.nombre}</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tPRODUCTOS SUGERIDOS\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn este apartado puedes agregar sugerencias de compra de otro producto a un producto\r\n\t\t\t</p>\r\n\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={visibleReload}\r\n\t\t\t\t\tonClick={() => obtenerProductos(20, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t{productos.length === 0 ? (\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<List>{render}</List>\r\n\t\t\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} limite={20} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle={'Sugerencias'}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<Button onClick={drawnerClose}>Cancelar</Button>\r\n\t\t\t\t\t\t\t{/* <Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t<Sugerencia drawnerClose={drawnerClose}/>\r\n\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t</Drawer>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Sugerencias);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, List, Avatar, Input, Space, Result, notification, Spin, Alert, Form } from 'antd';\r\nimport { UploadOutlined, PictureOutlined, RollbackOutlined } from '@ant-design/icons';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport './carousel.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst layout = {\r\n\tlabelCol: { span: 10 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nfunction CarouselImages(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ imagen, setImagen ] = useState();\r\n\tconst [ imagenPreview, setImagenPreview ] = useState('');\r\n\t//states de obtener producto y obtener todos los productos\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\t//modal para crear una imagen de carousel\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\t//infiniteScroll\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ loadingList, setLoadingList ] = useState(false);\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ nombreImagen, setNombreImagen ] = useState('');\r\n\r\n\tconst reload = props.reload;\r\n\r\n\tconst formData = new FormData();\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetProducto([]);\r\n\t\t\t\tsetImagenPreview('');\r\n\t\t\t}\r\n\t\t\tobtenerTodosProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reloadData, reload ]\r\n\t);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tclienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerTodosProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerTodosProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst antdProps = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tsetImagen(file);\r\n\t\t\tlet reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = function() {\r\n\t\t\t\tsetImagenPreview(reader.result);\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerNombreImagen = (e) => {\r\n\t\tsetNombreImagen(e.target.value);\r\n\t};\r\n\r\n\tconst crearCarousel = async () => {\r\n\t\tsetLoading(true);\r\n\t\tif (producto.length !== 0) {\r\n\t\t\tformData.append('producto', producto._id);\r\n\t\t\tformData.append('nombre', producto.nombre);\r\n\t\t\tformData.append('imagen', imagen);\r\n\t\t} else {\r\n\t\t\tformData.append('nombre', nombreImagen);\r\n\t\t\tformData.append('imagen', imagen);\r\n\t\t}\r\n\t\tif (producto.length === 0 && nombreImagen === '') {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: 'El nombre de la imagen no debe ir vacío',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetLoading(false);\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post('/carousel/nuevo/', formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t}, 1500);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst render = data.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName={producto._id === productos._id ? 'list-item-carousel' : ''}\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tSeleccionar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta avatar={<Avatar src={aws + productos.imagen} />} title={productos.nombre} />\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Puedes subir una imagen de carousel ya sea que esta tenga referencia a un producto o no. Si hace referencia a un producto selecciona uno de la lista, si no hace referencia, la imagen debe llevar un nombre.\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row d-sm-block d-lg-flex\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center my-3\">Elige un producto y después una imagen</p>\r\n\t\t\t\t\t<div className=\"row justify-content-center mt-1\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tclassName=\"search-width-modal\"\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Spin className=\"spin-sugerencia-list\" size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-lista\">\r\n\t\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\t\tpageStart={0}\r\n\t\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<List className=\"m-1\">{render}</List>\r\n\t\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t{!producto.nombre ? (\r\n\t\t\t\t\t\t<Form {...layout}>\r\n\t\t\t\t\t\t\t<Form.Item label=\"Nombre de la imagen\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"nombreImagen\"\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'El nombre de la imagen no puede ir vacío' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"nombre de la imagen\" onChange={(e) => obtenerNombreImagen(e)} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h5>{producto.nombre}</h5>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center my-4\">\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<Upload {...antdProps} className=\"upload-text-display\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" /* disabled={producto.length !== 0 ? false : true} */>\r\n\t\t\t\t\t\t\t\t\t<UploadOutlined />Subir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcrearCarousel();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdisabled={imagenPreview !== '' ? false : true}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCrear\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1650x565px\" type=\"info\" showIcon />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"shadow imagen-preview-carousel d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{imagenPreview === '' ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen\"\r\n\t\t\t\t\t\t\t\tsrc={imagenPreview}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default CarouselImages;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Button, Input, Space, Modal, List, Row, Upload, Result, notification, Spin, Alert } from 'antd';\r\nimport {\r\n\tEyeOutlined,\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tPlusCircleOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport CarouselImages from './services/carousel';\r\nimport './carousel.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\n\r\nfunction Carousel(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t/* const [ productoCarousel, setProductoCarousel ] = useState([]); */\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ search, setSearch ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\r\n\tconst [ modalVisible, setModalVisible ] = useState(false);\r\n\tconst [ modalCrearVisible, setModalCrearVisible ] = useState(false);\r\n\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCarouseles();\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetProductosFiltrados(\r\n\t\t\t\tproductos.filter((producto) => {\r\n\t\t\t\t\tif (producto.nombre) {\r\n\t\t\t\t\t\treturn producto.nombre.toLowerCase().includes(search.toLowerCase());\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn producto;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ search, productos ]\r\n\t);\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerCarouseles = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carousel/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\t/* res.data.forEach((item) => {\r\n\t\t\t\t\tif(item.producto){\r\n\t\t\t\t\t\tsetProductoCarousel(item.producto)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsetProductoCarousel('')\r\n\t\t\t\t\t}\r\n\t\t\t\t}); */\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ACTUALIZAR IMAGEN\r\n\tconst propsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait actualizarImagen(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst actualizarImagen = async (formdata) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/carousel/${producto}/`, formdata, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerCarouseles();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ELIMINAR IMAGEN\r\n\tconst eliminarImagen = async (carouselID) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/carousel/${carouselID}/`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerCarouseles();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst showModal = () => {\r\n\t\tsetModalVisible(true);\r\n\t};\r\n\tconst closeModal = () => {\r\n\t\tsetModalVisible(false);\r\n\t};\r\n\r\n\tfunction closeModalCrear() {\r\n\t\tsetModalCrearVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\tfunction showModalCrear() {\r\n\t\tsetModalCrearVisible(true);\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(carouselID) {\r\n\t\tconfirm({\r\n\t\t\ttitle: '¿Quieres eliminarla?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarImagen(carouselID);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst render = productosFiltrados.map((carousel) => (\r\n\t\t<List.Item\r\n\t\t\tkey={carousel._id}\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetProducto(carousel);\r\n\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EyeOutlined />\r\n\t\t\t\t\t\tVer\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Upload {...propsActualizar} className=\"upload-text-display d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetProducto(carousel._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDeleteConfirm(carousel._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img className=\"imagen-promocion-principal\" alt=\"producto\" src={aws + carousel.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\t{carousel.nombre ? carousel.nombre : 'imagen sin nombre'}\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tBanner principal\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn esta sección puedes subir una imagen al banner en la pagina principal.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1710x330px\" type=\"info\" showIcon />\r\n\t\t\t</div>\r\n\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showModalCrear}\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tNueva imagen de publicidad\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t{productosFiltrados.length === 0 ? (\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<List>{render}</List>\r\n\t\t\t)}\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={producto.nombre ? producto.nombre : 'Imagen sin nombre'}\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tonCancel={closeModal}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\twidth={1200}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\t\t\t\t\t\talt=\"imagen-promocion-modal\"\r\n\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Crear nueva imagen publicitaria para el Carousel\"\r\n\t\t\t\tvisible={modalCrearVisible}\r\n\t\t\t\tonCancel={closeModalCrear}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\tcentered\r\n\t\t\t\twidth={800}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<CarouselImages reload={reload} />\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Carousel);\r\n","import React, { useState } from 'react';\r\nimport { Button, Spin, Collapse, notification } from 'antd';\r\nimport { PlusCircleOutlined } from '@ant-design/icons';\r\n\r\nimport ImagenEstilo1 from '../imagenes/estilo1.png';\r\nimport ImagenEstilo3 from '../imagenes/estilo3.png';\r\nimport ImagenEstilo5 from '../imagenes/estilo5.png';\r\nimport ImagenEstilo6 from '../imagenes/estilo6.png';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst { Panel } = Collapse;\r\n\r\nfunction RegistroTipoBanner(props) {\r\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst crearBannerBD = async (estilo) => {\r\n\t\tsetLoadingBackDrop(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/banner/`,\r\n\t\t\t\t{ estilo, publicado: false },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingBackDrop(false);\r\n\t\t\t\tprops.history.push(`/admin/banner/nuevo/${res.data.userStored._id}`);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingBackDrop(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Collapse ghost>\r\n\t\t\t\t<Panel\r\n\t\t\t\t\tshowArrow={false}\r\n\t\t\t\t\theader={\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tNueva sección\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tkey=\"1\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Spin size=\"large\" spinning={loadingBackDrop}>\r\n\t\t\t\t\t\t<div className=\"row d-flex justify-content-around shadow\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"my-3 shadow rounded d-flex justify-content-center align-items-center estilo-hover\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => crearBannerBD(1)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"estilo 1\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={ImagenEstilo1}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilos\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"250\"\r\n\t\t\t\t\t\t\t\t\t\theight=\"200\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"my-3 shadow rounded d-flex justify-content-center align-items-center estilo-hover\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => crearBannerBD(2)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"estilo 2\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={ImagenEstilo3}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilos\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"250\"\r\n\t\t\t\t\t\t\t\t\t\theight=\"200\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"my-3 shadow rounded d-flex justify-content-center align-items-center estilo-hover\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => crearBannerBD(3)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"estilo 3\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={ImagenEstilo5}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilos\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"250\"\r\n\t\t\t\t\t\t\t\t\t\theight=\"200\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"my-3 shadow rounded d-flex justify-content-center align-items-center estilo-hover\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => crearBannerBD(4)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"estilo 4\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={ImagenEstilo6}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilos\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"250\"\r\n\t\t\t\t\t\t\t\t\t\theight=\"200\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Spin>\r\n\t\t\t\t</Panel>\r\n\t\t\t</Collapse>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(RegistroTipoBanner);\r\n","import React, { useState, useEffect, Fragment, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Button, Modal, notification, Spin, message, Collapse } from 'antd';\r\nimport {\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tExclamationCircleOutlined,\r\n\tCheckSquareOutlined,\r\n\tCloseSquareOutlined,\r\n\tPictureOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport RegistroTipoBanner from './services/tipoBanner';\r\nimport aws from '../../../config/aws';\r\nimport './publicidad.scss';\r\n\r\nimport ImagenEstilo1 from './imagenes/estilo1.png';\r\nimport ImagenEstilo2 from './imagenes/estilo2.png';\r\nimport ImagenEstilo3 from './imagenes/estilo3.png';\r\nimport ImagenEstilo4 from './imagenes/estilo4.png';\r\nimport ImagenEstilo5 from './imagenes/estilo5.png';\r\nimport ImagenEstilo6 from './imagenes/estilo6.png';\r\nimport ImagenEspecial1 from './imagenes/especial1.png';\r\nimport ImagenEspecial2 from './imagenes/especial2.png';\r\nimport ImagenEspecial3 from './imagenes/especial3.png';\r\nimport { BannerContext } from '../../../context/admincontext';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default function Publicidad(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tconst [ bannerBD, setBannerBD ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ bannerSeleccionado, setBannerSeleccionado ] = useState({ banner: '', banners: '' });\r\n\tconst { reload, setReload, setActualizarDatos } = useContext(BannerContext);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerBannersBD();\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerBannersBD = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/banner/admin', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetBannerBD(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ELIMINAR BANNER\r\n\tconst eliminarBanner = async (banner) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/banner/${banner}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(banner) {\r\n\t\tconfirm({\r\n\t\t\ttitle: '¿Quieres eliminar este banner?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBanner(banner);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst errors = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderBanners = bannerBD.map((banner, index) => (\r\n\t\t<CollapseBanners\r\n\t\t\tkey={index}\r\n\t\t\tprops={props}\r\n\t\t\tbanner={banner}\r\n\t\t\tshowDeleteConfirm={showDeleteConfirm}\r\n\t\t\ttoken={token}\r\n\t\t\terrors={errors}\r\n\t\t\treload={reload}\r\n\t\t\tsetReload={setReload}\r\n\t\t\tsetActualizarDatos={setActualizarDatos}\r\n\t\t/>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tPublicidad\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn este apartado puedes subir una sección completa con un banner y los productos de una categoria en\r\n\t\t\t\tespecial en la pagina principal.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t<RegistroTipoBanner\r\n\t\t\t\t\treload={reload}\r\n\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\tbannerSeleccionado={bannerSeleccionado}\r\n\t\t\t\t\tsetBannerSeleccionado={setBannerSeleccionado}\r\n\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\tsetControl={setControl}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t{renderBanners}\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction CollapseBanners({ props, banner, showDeleteConfirm, token, errors, reload, setReload }) {\r\n\t//PUBLICAR BANNER\r\n\tconst publicarBanner = async (banner, publicado) => {\r\n\t\tif (banner.estilo === 3 && banner.banners.length < 2) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else if (banner.estilo === 4 && banner.banners.length < 3) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else if (banner.banners.length === 0) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.put(\r\n\t\t\t\t`/banner/publicar/${banner._id}`,\r\n\t\t\t\t{ publicado },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\tlet imagen;\r\n\r\n\tswitch (banner.estilo) {\r\n\t\tcase 1:\r\n\t\t\timagen = ImagenEstilo1;\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tif (banner.banners.length !== 0 && banner.banners[0].orientacion && banner.banners[0].orientacion === 1) {\r\n\t\t\t\timagen = ImagenEstilo4;\r\n\t\t\t} else if (\r\n\t\t\t\tbanner.banners.length !== 0 &&\r\n\t\t\t\tbanner.banners[0].orientacion &&\r\n\t\t\t\tbanner.banners[0].orientacion === 2\r\n\t\t\t) {\r\n\t\t\t\timagen = ImagenEstilo3;\r\n\t\t\t} else if (\r\n\t\t\t\tbanner.banners.length !== 0 &&\r\n\t\t\t\tbanner.banners[0].orientacion &&\r\n\t\t\t\tbanner.banners[0].orientacion === 3\r\n\t\t\t) {\r\n\t\t\t\timagen = ImagenEstilo2;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 3:\r\n\t\t\timagen = ImagenEstilo5;\r\n\t\t\tbreak;\r\n\t\tcase 4:\r\n\t\t\timagen = ImagenEstilo6;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\t/* simular imagenes */\r\n\tvar elementos = [];\r\n\tfor (let i = 0; i < banner.estilo - 1; i++) {\r\n\t\tlet array = [];\r\n\t\tarray.push(i);\r\n\t\telementos.push(array);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"my-3 shadow-sm border\">\r\n\t\t\t<div className=\"d-flex align-items-center banner-container\">\r\n\t\t\t\t<div className=\"estilo-imagen\">\r\n\t\t\t\t\t<img className=\"mr-3 imagen-promocion-principal\" alt=\"producto\" src={imagen} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<h5 className=\" img-publicidad\">\r\n\t\t\t\t\t<b>\r\n\t\t\t\t\t\t{banner.estilo === 1 ? (\r\n\t\t\t\t\t\t\t'Banner grande con productos'\r\n\t\t\t\t\t\t) : banner.estilo === 2 ? (\r\n\t\t\t\t\t\t\t'Banner entre productos'\r\n\t\t\t\t\t\t) : banner.estilo === 3 ? (\r\n\t\t\t\t\t\t\t'2 banner sin productos'\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'3 banners sin productos'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</b>\r\n\t\t\t\t</h5>\r\n\t\t\t\t<div className=\"grow\" />\r\n\t\t\t\t<Button\r\n\t\t\t\t\tghost\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"mx-2\"\r\n\t\t\t\t\tonClick={() => props.history.push(`/admin/banner/editar/${banner._id}`)}\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tghost\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"mx-2\"\r\n\t\t\t\t\tonClick={() => publicarBanner(banner, !banner.publicado)}\r\n\t\t\t\t\tstyle={banner.publicado ? { color: '#5cb85c', borderColor: '#5cb85c' } : null}\r\n\t\t\t\t>\r\n\t\t\t\t\t{banner.publicado ? 'Publicado' : 'Publicar'}\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tghost\r\n\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"mr-2\"\r\n\t\t\t\t\tonClick={() => showDeleteConfirm(banner._id)}\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t{banner.banners.length === 0 && banner.estilo > 2 ? (\r\n\t\t\t\t\telementos.map((res, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} className=\"\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\tindex + 1 === 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial1\r\n\t\t\t\t\t\t\t\t\t\t\t) : index + 1 === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial2\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial3\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : null}\r\n\t\t\t\t{banner.banners.map((res, index, array) => {\r\n\t\t\t\t\tif (banner.estilo === 3) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} className=\"mx-5 d-flex\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{res.imagenBanner ? (\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + res.imagenBanner}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 90 }} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{array.length === 1 ? (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial2}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else if (banner.estilo === 4) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} className=\"mx-5 d-flex\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{res.imagenBanner ? (\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + res.imagenBanner}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 90 }} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{array.length === 1 ? (\r\n\t\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial2}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial3}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t{array.length === 2 && index > 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial3}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"d-lg-flex\" key={res._id}>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300, height: 200 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{res.imagenBanner ? (\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"example\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + res.imagenBanner}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 90 }} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"ml-2 mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.tipo ? res.tipo.categoria ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Categoria: '\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : res.tipo.temporada ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Temporada: '\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Género'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.tipo ? res.tipo.categoria ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tres.tipo.categoria\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : res.tipo.temporada ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tres.tipo.temporada\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : res.tipo.genero ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tres.tipo.genero\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'sin categoria/temporada'\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.vincular ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckSquareOutlined style={{ color: '#5cb85c' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CloseSquareOutlined style={{ color: '#d9534f' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.vincular ? 'Vinculado' : 'No vinculado'}\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.mostrarTitulo ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckSquareOutlined style={{ color: '#5cb85c' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CloseSquareOutlined style={{ color: '#d9534f' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.mostrarTitulo ? 'Muestra titulo' : 'No muestra titulo'}\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.mostrarProductos ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckSquareOutlined style={{ color: '#5cb85c' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CloseSquareOutlined style={{ color: '#d9534f' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.mostrarProductos ? 'Muestra productos' : 'No muestra productos'}\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { List, Button, Modal, notification, Avatar } from 'antd';\r\nimport { EyeOutlined, EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport './blogList.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default function blogList(props) {\r\n\tconst { blogs, setReloadBlog, showDrawer, setAccion, setInfoBlog } = props;\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst deleteBlog = (blog) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Blog',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el blog ${blog.nombre}?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.delete(`/blog/${blog._id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'aplication/json',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Blog Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"blogs-list\">\r\n\t\t\t<List\r\n\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\tdataSource={blogs.docs}\r\n\t\t\t\trenderItem={(blog) => (\r\n\t\t\t\t\t<Blog\r\n\t\t\t\t\t\tblog={blog}\r\n\t\t\t\t\t\tdeleteBlog={deleteBlog}\r\n\t\t\t\t\t\tshowDrawer={showDrawer}\r\n\t\t\t\t\t\tsetAccion={setAccion}\r\n\t\t\t\t\t\tsetInfoBlog={setInfoBlog}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Blog(props) {\r\n\tconst { blog, deleteBlog, showDrawer, setAccion, setInfoBlog } = props;\r\n\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tactions={[\r\n\t\t\t\t<Link to={`/blog/${blog.url}`} target=\"_blank\">\r\n\t\t\t\t\t<Button type=\"dashed\" size={window.screen.width > 768 ? 'middle' : 'small'}>\r\n\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Link>,\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetInfoBlog(blog);\r\n\t\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\t\tshowDrawer();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditOutlined /> Editar\r\n\t\t\t\t</Button>,\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\tdanger\r\n\t\t\t\t\tonClick={() => deleteBlog(blog)}\r\n\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DeleteOutlined /> Eliminar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={<Avatar src={aws + blog.imagen} />}\r\n\t\t\t\ttitle={<p className=\"h5 font-weight-bold\">{blog.nombre}</p>}\r\n\t\t\t\tdescription={<p className=\"h6\">{blog.administrador}</p>}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import {createContext} from 'react';\r\n\r\nexport const BlogContext = createContext();","import React, { useContext, useState, useEffect } from 'react';\r\nimport { BlogContext } from '../../contexts/BlogContext';\r\nimport { Form, Input, Button, notification, Upload, Alert } from 'antd';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport aws from '../../../../config/aws';\r\n\r\nexport default function ActualizarBlog(props) {\r\n\tconst { setReloadBlog, token, setVisible } = props;\r\n\r\n\tconst blogContext = useContext(BlogContext);\r\n\tconst [ form ] = Form.useForm();\r\n\tvar urlGuion = '';\r\n\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\t///capturar datos maualmente}\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnombre: blogContext.nombre,\r\n\t\tadministrador: blogContext.administrador,\r\n\t\turl: blogContext.url,\r\n\t\tdescripcion: blogContext.descripcion\r\n\t});\r\n\r\n\tconst monstrarInformacionBlog = () => {\r\n\t\tform.setFieldsValue({\r\n\t\t\tnombre: blogContext.nombre,\r\n\t\t\tadministrador: blogContext.administrador,\r\n\t\t\turl: blogContext.url,\r\n\t\t\tdescripcion: blogContext.descripcion\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tmonstrarInformacionBlog();\r\n\t\t},\r\n\t\t[ blogContext ]\r\n\t);\r\n\r\n\t//Layout para formulario(columnas)\r\n\tconst layout = {\r\n\t\tlabelCol: { span: 6 },\r\n\t\twrapperCol: { span: 16 }\r\n\t};\r\n\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction obtenerUrl(text) {\r\n\t\tconst trim = text.trim();\r\n\t\tconst datos = trim.split(' ');\r\n\t\tfor (var i = 0; i < datos.length; i++) {\r\n\t\t\tif (datos.length - 1 === i) {\r\n\t\t\t\turlGuion += datos[i];\r\n\t\t\t} else {\r\n\t\t\t\turlGuion += datos[i] + '-';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn urlGuion;\r\n\t\t/* setUrl(urlSinGion); */\r\n\t}\r\n\r\n\tconst enviarDatos = async () => {\r\n\t\tif (datos.nombre === '' || datos.administrador === '' || datos.url === '' || datos.descripcion === '') {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'Todos los datos son obligatorios'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!accion) {\r\n\t\t\t\tobtenerUrl(datos.url);\r\n\t\t\t} else {\r\n\t\t\t\turlGuion = blogContext.url;\r\n\t\t\t}\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tif (files.length === 0) {\r\n\t\t\t\tformData.append('nombre', datos.nombre);\r\n\t\t\t\tformData.append('administrador', datos.administrador);\r\n\t\t\t\tformData.append('url', urlGuion);\r\n\t\t\t\tformData.append('descripcion', datos.descripcion);\r\n\t\t\t} else {\r\n\t\t\t\tformData.append('nombre', datos.nombre);\r\n\t\t\t\tformData.append('administrador', datos.administrador);\r\n\t\t\t\tformData.append('url', urlGuion);\r\n\t\t\t\tformData.append('descripcion', datos.descripcion);\r\n\t\t\t\tformData.append('imagen', files);\r\n\t\t\t}\r\n\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/blog/${blogContext._id}`, formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t Authorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Actualización exitosa',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerValores = (e) => {\r\n\t\tif (e.target.name === 'url') {\r\n\t\t\tsetAccion(false);\r\n\t\t}\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst capturarInfoEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, descripcion: content });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"formulario-blog\">\r\n\t\t\t<Form name=\"nest-messages\" {...layout} form={form} onFinish={enviarDatos}>\r\n\t\t\t\t<Form.Item label=\"Titulo del blog:\" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Titulo del Blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Autor: \" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"administrador\">\r\n\t\t\t\t\t\t<Input name=\"administrador\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Url (Campo unico) \" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"url\">\r\n\t\t\t\t\t\t<Input name=\"url\" placeholder=\"Url del blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item name=\"descripcion\" label=\"Contenido del blog\">\r\n\t\t\t\t\t<Editor\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonEditorChange={capturarInfoEditor}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert message=\"No hay un tamaño recomendado para esta imagen\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form.Item label=\"Imagen principal del Blog:\">\r\n\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Imagen Actual\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\tsrc={aws + blogContext.imagen}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Form, Input, Button, notification, Upload, message, Alert } from 'antd';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { UploadOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nexport default function RegistrarBlog(props) {\r\n\tconst { setReloadBlog, token, setVisible } = props;\r\n\r\n\t//Variablo que trae la informacion del post\r\n\tconst [ blogData, setBlogData ] = useState({});\r\n\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\r\n\tvar urlGuion = '';\r\n\r\n\t//Layout para formulario(columnas)\r\n\tconst layout = {\r\n\t\tlabelCol: { span: 6 },\r\n\t\twrapperCol: { span: 16 }\r\n\t};\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.forEach((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst processPost = async (e) => {\r\n\t\tif (blogData.descripcion === undefined) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'La descripcion del blog es obligatoria'\r\n\t\t\t});\r\n\t\t} else if (files.length === 0) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'La imagen es obligatoria'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!accion) {\r\n\t\t\t\tobtenerUrl(blogData.url);\r\n\t\t\t}\r\n\t\t\tconst hide = message.loading('Accion en proceso....', 0);\r\n\t\t\tsetTimeout(hide, 2000);\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('nombre', blogData.nombre);\r\n\t\t\tformData.append('administrador', blogData.administrador);\r\n\t\t\tformData.append('url', urlGuion);\r\n\t\t\tformData.append('descripcion', blogData.descripcion);\r\n\t\t\tformData.append('imagen', files);\r\n\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post('/blog/', formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Registro exitoso',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\t//Funcion que quita los espacios y los remplasa por guiones\r\n\tfunction obtenerUrl(text) {\r\n\t\tconst trim = text.trim();\r\n\t\tconst datos = trim.split(' ');\r\n\t\tfor (var i = 0; i < datos.length; i++) {\r\n\t\t\tif (datos.length - 1 === i) {\r\n\t\t\t\turlGuion += datos[i];\r\n\t\t\t} else {\r\n\t\t\t\turlGuion += datos[i] + '-';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn urlGuion;\r\n\t}\r\n\r\n\t//Funcion que captura la imagen seleccionada por el usuario\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\t//Funcion que escucha la variable que trae la informacion del blog\r\n\r\n\tconst capturarInfoEditor = (content, editor) => {\r\n\t\tsetBlogData({ ...blogData, descripcion: content });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"formulario-blog\">\r\n\t\t\t<Form name=\"nest-messages\" {...layout} onFinish={processPost} onFinishFailed={onError}>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Crea un título llamativo: \"\r\n\t\t\t\t\tonChange={(e) => setBlogData({ ...blogData, nombre: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Titulo obligatorio' } ]} noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input value={blogData.nombre} name=\"nombre\" placeholder=\"Titulo del Blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Autor: \"\r\n\t\t\t\t\tonChange={(e) => setBlogData({ ...blogData, administrador: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Autor obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"administrador\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"administrador\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Url (Campo unico) \"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tsetAccion(false);\r\n\t\t\t\t\t\tsetBlogData({ ...blogData, url: e.target.value });\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'La url es obligatoria' } ]} noStyle name=\"url\">\r\n\t\t\t\t\t\t<Input name=\"url\" placeholder=\"Url del blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item name=\"descripcion\" label=\"Contenido del blog\">\r\n\t\t\t\t\t<Editor\r\n\t\t\t\t\t\tvalue={blogData.descripcion ? blogData.descripcion : ''}\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonEditorChange={capturarInfoEditor}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert message=\"No hay un tamaño recomendado para esta imagen\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form.Item label=\"Imagen principal del Blog:\">\r\n\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" size=\"large\" icon={<CheckOutlined />}>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, {useState,useEffect } from 'react';\r\nimport {Button,notification,Drawer} from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport {PlusCircleOutlined } from '@ant-design/icons';\r\nimport './blog.scss';\r\nimport queryString from 'query-string';\r\nimport clienteAxios from '../../../config/axios';\r\nimport Spin from '../../../components/Spin';\r\nimport BlogsList from './services/blogList';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport { BlogContext } from '../contexts/BlogContext';\r\nimport ActualizarBlog from './services/ActualizarBlog';\r\nimport RegistrarBlog from './services/RegistrarBlog';\r\n\r\n\r\n\r\n\r\nfunction BlogAdmin(props) {\r\n\r\n    //Tomar la paginacion actual\r\n    const {location,history} = props;\r\n    const {page = 1} = queryString.parse(location.search);\r\n    \r\n    //Uses\r\n    const [ accion, setAccion ] = useState(false);\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [blogs,setBlogs] = useState([]);\r\n    const [reloadBlog, setReloadBlog] = useState(false);\r\n\r\n    const [infoBlog,setInfoBlog] = useState({});\r\n    \r\n\r\n    //Obtener token de localStorage\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n    \r\n    //Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n            return jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n    }\r\n\r\n    //Traer todos los blogs\r\n    function getBlogsApi(limit,page){\r\n        setLoading(true);\r\n        clienteAxios.get(`/blog?limit=${limit}&page=${page}`)\r\n        .then((res) => {\r\n                setBlogs(res.data.posts);\r\n                setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        });\r\n    }\r\n    //Ejecutar funcion traer blogs\r\n    useEffect(() => {\r\n        getBlogsApi(20,page);\r\n        setReloadBlog(false);\r\n\t}, [page,reloadBlog]);\r\n\r\n    //Verificar el JWT\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n    \r\n    //Fuciones para abrir y cerrar el Drawer\r\n    const showDrawer = () => {\r\n      setVisible(true);\r\n    };\r\n    const drawnerClose = () => {\r\n        setVisible(false);\r\n        setInfoBlog({});\r\n      };\r\n\r\n    //Mostrar el Spin\r\n    if (loading) {\r\n        return <Spin/>;\r\n    }\r\n    \r\n    if(!blogs){\r\n        return null;\r\n    }\r\n\r\n    return (\r\n            <div className=\"blog\">\r\n                <Drawer\r\n                    title={accion === true ? 'Actualizar Blog' : 'Registra nuevo Blog'}\r\n                    width={window.screen.width > 768 ? 1000 : window.screen.width}\r\n                    placement={'right'}\r\n                    onClose={drawnerClose}\r\n                    visible={visible}\r\n                    bodyStyle={{ paddingBottom: 80 }}\r\n                    footer={\r\n                        <div\r\n                            style={{\r\n                                textAlign: 'right'\r\n                            }}\r\n                        >\r\n                            <Button onClick={drawnerClose} type=\"primary\">\r\n                                Cerrar\r\n                            </Button>\r\n                        </div>\r\n                    }\r\n                >\r\n                    { accion === true ? (\r\n                        <BlogContext.Provider value={infoBlog}>\r\n                            <ActualizarBlog setReloadBlog={setReloadBlog} setLoading={setLoading} token={token} setVisible={setVisible}  />\r\n                        </BlogContext.Provider>\r\n                        \r\n                    ):(\r\n\r\n                            <RegistrarBlog setReloadBlog={setReloadBlog} setLoading={setLoading} token={token} setVisible={setVisible} />\r\n\r\n                    )}\r\n                </Drawer>\r\n                \r\n                <div className=\"blog__add-post\">\r\n                <p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n                    Tus blogs\r\n                </p>\r\n                    <Button \r\n                        type=\"primary\"\r\n                        size=\"large\"\r\n                        onClick={() => {\r\n                            setAccion(false);\r\n                            showDrawer()\r\n                            setInfoBlog({});\r\n                        }}\r\n                        className=\"ml-3\"\r\n                        icon={<PlusCircleOutlined style={{ fontSize: 24 }} />}>\r\n                            Crear Blog\r\n                    </Button>\r\n                </div>\r\n\r\n                <BlogsList \r\n                    blogs={blogs} \r\n                    setReloadBlog={setReloadBlog} \r\n                    showDrawer={showDrawer} \r\n                    setAccion={setAccion} \r\n                    setInfoBlog={setInfoBlog} \r\n                />\r\n\r\n                <Pagination \r\n                    blogs={blogs} \r\n                    location={location}  \r\n                    history={history}\r\n                    limite={20}\r\n                />\r\n            </div>\r\n    )\r\n}\r\nexport default withRouter(BlogAdmin);","import React, { useState, useEffect, Fragment } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport { Row, Button } from 'antd';\r\n\r\nimport ReactExport from 'react-export-excel'; //LIBRERIA EXCEL\r\nimport { withRouter } from 'react-router-dom';\r\nconst ExcelFile = ReactExport.ExcelFile; //ARCHIVO DE EXCEL\r\nconst ExcelSheet = ReactExport.ExcelSheet; //HOJA DE EXCEL\r\nconst ExcelColumn = ReactExport.ExcelColumn; //COLUMNA DE EXCEL\r\n\r\nfunction ConsutaExcel(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tconst [ consulta, setConsulta ] = useState([]);\r\n\t//const [data, setData] = useState([]);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tconst obtenerConsulta = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/todos/`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetConsulta(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerConsulta();\r\n\t}, []);\r\n\r\n\tconst datos = consulta.map((datos) => {\r\n\t\tconst clientes = {};\r\n\r\n\t\tclientes.nombre = `${datos.nombre} ${datos.apellido}`;\r\n\t\tclientes.telefono = datos.telefono;\r\n\t\tclientes.email = datos.email;\r\n\r\n\t\tif (datos.direccion.length === 0) {\r\n\t\t\tclientes.direccion = '';\r\n\t\t\tclientes.ciudad = '';\r\n\t\t} else {\r\n\t\t\tclientes.direccion = `${datos.direccion[0].calle_numero} ${datos.direccion[0].colonia}`;\r\n\t\t\tclientes.ciudad = `${datos.direccion[0].ciudad}, ${datos.direccion[0].estado}, ${datos.direccion[0].pais}`;\r\n\t\t}\r\n\r\n\t\treturn clientes;\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<ExcelFile\r\n\t\t\t\t\telement={\r\n\t\t\t\t\t\t<Button size=\"large\" type=\"primary\">\r\n\t\t\t\t\t\t\tDescargar datos de clientes\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfilename=\"Datos Clientes\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExcelSheet data={datos} name=\"Datos de clientes\">\r\n\t\t\t\t\t\t<ExcelColumn label=\"Nombre\" value=\"nombre\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"Telefonos\" value=\"telefono\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"E-mail\" value=\"email\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"Domicilio\" value=\"direccion\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"Ciudad\" value=\"ciudad\" />\r\n\t\t\t\t\t</ExcelSheet>\r\n\t\t\t\t</ExcelFile>\r\n\t\t\t</Row>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nexport default withRouter(ConsutaExcel);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Table, Input, notification, Avatar, Spin, Row, Button } from 'antd';\r\nimport { RollbackOutlined, UserOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './clientes.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nimport ConsutaExcel from './consutaExcel';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Clientes(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ clientes, setClientes ] = useState([]);\r\n\tconst [ clientesPaginados, setClientesPaginados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else if (decoded['rol'] !== true) {\r\n\t\t\t\tprops.history.push('/');\r\n\t\t\t}else{\r\n\t\t\t\tobtenerClientes(20, page);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Foto de perfil',\r\n\t\t\tdataIndex: 'imagen',\r\n\t\t\tkey: 'imagen',\r\n\t\t\trender: (imagen) => {\r\n\t\t\t\treturn !imagen ? (\r\n\t\t\t\t\t<Avatar icon={<UserOutlined />} />\r\n\t\t\t\t) : imagen.includes('https') ? (\r\n\t\t\t\t\t<Avatar src={imagen} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Avatar src={aws + imagen} />\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Nombre',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\trender: (nombre) => <p className=\"h5\">{nombre}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Apellido',\r\n\t\t\tdataIndex: 'apellido',\r\n\t\t\tkey: 'apellido',\r\n\t\t\trender: (apellido) => (!apellido ? <p className=\"h5\">-</p> : <p className=\"h5\">{apellido}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Telefono',\r\n\t\t\tdataIndex: 'telefono',\r\n\t\t\tkey: 'telefono',\r\n\t\t\trender: (telefono) => (!telefono ? <p className=\"h5\">-</p> : <p className=\"h5\">{telefono}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Email',\r\n\t\t\tdataIndex: 'email',\r\n\t\t\tkey: 'email',\r\n\t\t\trender: (email) => <p className=\"h5\">{email}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Dirección',\r\n\t\t\tdataIndex: 'direccion',\r\n\t\t\tkey: 'direccion',\r\n\t\t\trender: (direccion) => {\r\n\t\t\t\treturn direccion.map((res) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={res._id}>\r\n\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t{res.calle_numero}, {res.colonia}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ciudad',\r\n\t\t\tdataIndex: 'direccion',\r\n\t\t\tkey: 'direccion',\r\n\t\t\trender: (ciudad) => {\r\n\t\t\t\treturn ciudad.map((res) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={res._id}>\r\n\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t{res.ciudad}, {res.estado}, {res.pais}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t];\r\n\r\n\tasync function obtenerClientes(limit, page) {\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetClientes(res.data.posts.docs);\r\n\t\t\t\tsetClientesPaginados(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerClientesFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tobtenerClientes(10, page);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(`/cliente/filtrados?nombre=${busqueda}&apellido=${busqueda}&direccion=${busqueda}`, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetClientesPaginados(res.data.posts);\r\n\t\t\t\t\tsetClientes(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Buscar un cliente\"\r\n\t\t\t\t\tonSearch={(value) => obtenerClientesFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\tonClick={() => obtenerClientes(10, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\r\n\t\t\t<ConsutaExcel />\r\n\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario mt-5\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={clientes}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(clientes) => clientes._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={clientesPaginados} location={location} history={history} limite={20} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Clientes;\r\n","import React from 'react'\r\nimport {Link } from 'react-router-dom';\r\nimport './bannerOrientacion.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nexport default function Imagen_Banner(props) {\r\n    \r\n    const {imagen, link, imagenLocal, vincular } = props;\r\n        return(\r\n            <div className=\"container-imagenes\">\r\n                <div className=\"container-image\">\r\n                    <img\r\n                        onClick={() =>\r\n                            {if (vincular !== false) {\r\n                                props.history.push(`/searching/${ link.categoria || link.temporada || link.genero }`);\r\n                            }\r\n                        }}\r\n                        className=\"image-orientancion\"\r\n                        src={imagenLocal ? imagen : aws + imagen}\r\n                        alt=\"Imgen publicitaria\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    \r\n}\r\n","import React from 'react';\r\nimport aws from '../../../../config/aws';\r\n// import DOMPurify from 'dompurify';\r\nimport { Card, Tooltip } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './productos.scss';\r\n// import { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\n\r\nconst gridStyle = { width: '100%', marginBottom: '1.5rem' };\r\n\r\nexport default function CardSecundaria(props) {\r\n\tconst { productos } = props;\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-3 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-card-producto-secundario\" \r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* <div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t{/* <div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-secundario\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"margen\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\" row contenedor-precios-sec\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5  rebajado-sec mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"h5 card-precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6 contenedor-titulos-productos-sec titulo-elipsis-sec\">\r\n\t\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6 card-div\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-card-producto-secundario margen-b\" \r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-secundario\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"margen-dentro\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t<div className=\"row contenedor-informacion\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-7  margen-precios-promo\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-sec infor-center margen-precios\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" title={formatoMexico(productos.precio)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"font-prin \" >${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-5 infor-center contenedor-titulos-productos-sec titulo-elipsis-sec\">\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" title={productos.nombre}>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque titulo-producto\">{productos.nombre}</p>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row contenedor-informacion\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\" col-lg-6 infor-center contenedor-precios-sec margen-precios-promo\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-peque precio-producto rebajado-sec mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" title={formatoMexico(promo.precioPromocion)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-secun precios card-precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-6 contenedor-titulos-productos-sec titulo-elipsis-sec \">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" title={productos.nombre}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque titulo-producto\">{productos.nombre}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","  import React from 'react';\r\nimport aws from '../../../../config/aws';\r\nimport DOMPurify from 'dompurify';\r\nimport { Card } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './card_producto.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nexport default function Card_Producto_Frente(props) {\r\n\tconst { productos } = props;\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col-prin col-lg-2 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"contenedor-card-producto-principal\">\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName=\"contenedor-card-body\"\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.productoPromocion.descripcion)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto  mr-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<h3 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card.Grid>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col-frente col-lg-2 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"border frente contenedor-card-producto-principal\">\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName=\"frente-bajo frente contenedor-card-body\"\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta \">\r\n\t\t\t\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"oferta-frente\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>-{agregarPorcentaje(promo.precioPromocion, productos.precio)}%</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal \">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"frente contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t\t<p className=\"font-secun titulo-producto\">{productos.nombre}</p>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"font-peque description \"\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.descripcion)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t<div className=\"frente contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"font-prin precio-rebaja\">${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"frente contenedor-precios-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-peque precio-producto  mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"font-prin precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card.Grid>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result } from 'antd';\r\nimport Spin from '../../../components/Spin';\r\nimport '../Productos/Card_Secundaria/productos.scss'\r\nimport '../Productos/Cards_Normales/card_producto.scss';\r\nimport CardSecundaria from '../Productos/Card_Secundaria/card_secundaria';\r\nimport Card_Producto_Frente from '../Productos/Cards_Normales/card_producto_frente';\r\nimport Imagen_Banner from './BannerOrientacion/imagenBanner'\r\n\r\n// import Pagination from '../../../components/Pagination/pagination';\r\n// import queryString from 'query-string';\r\n// import ComponentProductos from '../Productos/componente_productos';\r\n/* const gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' }; */\r\n\r\n\r\nfunction CardsProductos({tipo, orientacion, banner, imagenLocal}) {\r\n\t//const { location, history } = props.propiedades;\r\n\t//const { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n    const [ loading, setLoading ] = useState(false);\r\n    \r\n    useEffect(() => {\r\n        async function obtenerProductos() {\r\n            setLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t// tipo.categoria ? `categoria=${tipo.categoria}` : `temporada=${tipo.temporada}`\r\n                .get(`/productos/filter?${tipo.categoria ? `categoria=${tipo.categoria}` : tipo.temporada ? `temporada=${tipo.temporada}` : `genero=${tipo.genero}` }`)\r\n                .then((res) => {\r\n                    setProductos(res.data.posts);\r\n                    setProductosPaginacion(res.data.posts);\r\n                    setLoading(false);\r\n                })\r\n                .catch((err) => {\r\n                    if(err.response){\r\n                        notification.error({\r\n                            message: 'Error',\r\n                            description: err.response.data.message,\r\n                            duration: 2\r\n                        });\r\n                    }else{\r\n                        notification.error({\r\n                            message: 'Error de conexion',\r\n                            description: 'Al parecer no se a podido conectar al servidor.',\r\n                            duration: 2\r\n                        });\r\n                    }\r\n                });\r\n        }\r\n\r\n       obtenerProductos()\r\n    }, [tipo])\r\n\r\n\r\n\tconst render = productos.map((productos, index) => {\r\n\t\tif(orientacion > 0){\r\n\t\t\tif(orientacion === 1 && index === 0 ){\r\n\t\t\t\treturn <Imagen_Banner key={index} vincular={banner.vincular} imagen={banner.imagenBanner} link={banner.tipo} imagenLocal={imagenLocal} />\r\n\t\t\t}else if(orientacion === 2 && index === 2){\r\n\t\t\t\treturn <Imagen_Banner key={index} vincular={banner.vincular} imagen={banner.imagenBanner}\tlink={banner.tipo} imagenLocal={imagenLocal}/>\r\n\t\t\t}else if(orientacion === 3 && index === 4){\r\n\t\t\t\treturn <Imagen_Banner key={index} vincular={banner.vincular} imagen={banner.imagenBanner} link={banner.tipo} imagenLocal={imagenLocal}/>\r\n\t\t\t}else if(index <= 4){\r\n\t\t\t\treturn <CardSecundaria key={index} productos={productos} imagenLocal={imagenLocal} />\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(index <= 4){\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Card_Producto_Frente key={index} productos={productos} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\r\n\t});\r\n\t// const render = productos.map((productos, index) => {\r\n\t// \tif(orientacion > 0){\r\n\t// \t\tif(orientacion === 1 && index === 0 ){\r\n\t// \t\t\treturn <Imagen_Banner imagen={banner.imagenBanner} link={banner.tipo} />\r\n\t// \t\t}else if(orientacion === 2 && index === 2){\r\n\t// \t\t\treturn <Imagen_Banner imagen={banner.imagenBanner}\tlink={banner.tipo}/>\r\n\t// \t\t}else if(orientacion === 3 && index === 4){\r\n\t// \t\t\treturn <Imagen_Banner imagen={banner.imagenBanner} link={banner.tipo}/>\r\n\t// \t\t}else if(index <= 4){\r\n\t// \t\t\treturn <CardSecundaria key={productos._id} productos={productos} />\r\n\t// \t\t}\r\n\t// \t}else{\r\n\t// \t\tif(index <= 5){\r\n\t// \t\t\treturn (\r\n\t// \t\t\t\t<CardSecundaria key={productos._id} productos={productos} />\r\n\t// \t\t\t)\r\n\t// \t\t}\r\n\t// \t}\r\n\t\t\r\n\r\n\t// });\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{/* <div className=\"principal-productos\"><p>NUESTROS PRODUCTOS</p></div> */}\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center cont-div-card\">\r\n\t\t\t\t<div className=\"justify-content-center align-items-center cont-div-card\">\r\n\t\t\t\t\t<div style={{ maxWidth: '95vw', paddingBottom: 0, marginBottom: 0 }} className=\"row d-flex justify-content-center align-items-center\">\r\n\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* <Pagination\r\n\t\t\t\tblogs={productosPaginacion}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 40}\r\n\t\t\t/> */}\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default CardsProductos;","import React from 'react';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\nimport Imagen_Banner from './imagenBanner';\r\nimport CardsProductos from '../cardsProductos';\r\n\r\nexport default function Banner_Orientacion({ banner, imagenLocal }) {\r\n\tconst render = banner.banners.map((subBanner, index) => (\r\n\t\t<CardsProductos key={index} tipo={subBanner.tipo} orientacion={subBanner.orientacion} banner={subBanner} imagenLocal={imagenLocal} />\r\n\t));\r\n\r\n\treturn(\r\n\t\t<div className=\"mt-2\">\r\n\t\t\t{render}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\n//import {useSpring, animated} from 'react-spring'\r\n\r\nimport './bannerPromocion.scss'\r\nimport CardsProductos from '../cardsProductos';\r\n\r\n// import clienteAxios from '../../../../config/axios';\r\nimport {Link, withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\n\r\nimport TweenOne from 'rc-tween-one';\r\nimport BannerAnim, { Element } from 'rc-banner-anim';\r\nimport 'rc-banner-anim/assets/index.css';\r\nconst BgElement = Element.BgElement;\r\n//hola mundio\r\n\r\n function Banner_Largo(props) {\r\n    const {banner, imagenLocal } = props;\r\n\r\n    /* const handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n    }; */\r\n    \r\n    const render = banner.banners.map((banner, index) => {\r\n\r\n        return (\r\n            <div key={index} className=\"mt-4 cont-principal\">\r\n                {banner.mostrarTitulo !== false ? (\r\n                    <TweenOne key=\"demo\" animation={{ y: 30, opacity: 0, type: 'from', delay: 800 }}>\r\n                        <h1 className=\"tit-banner font-prin\">{banner.tipo.categoria || banner.tipo.temporada }</h1>\r\n                    </TweenOne>\r\n                 ) : \"\"}\r\n\r\n                {banner.imagenBanner || banner.imagenBanner !== '' ? (\r\n                    <div className=\"banner-prin\"> \r\n                      <BannerAnim autoPlay /* activeIndex={index} onSelect={handleSelect} */ prefixCls=\"banner-prin mx-auto\" >\r\n                      <Element prefixCls=\"banner-user-elem\" animation={{ y: 30, opacity: 0, type: 'from', delay: 800 }}>\r\n                          <BgElement\r\n                              onClick={() =>\r\n                                  {if (banner.vincular !== false) {\r\n                                      props.history.push(`/searching/${ banner.tipo.categoria || banner.tipo.temporada || banner.tipo.genero }`);\r\n                                  }\r\n                              }}\r\n  \r\n                              key=\"bg\"\r\n                              className=\"bg banner-prom mx-auto\"\r\n                              alt=\"img-oferta\"\r\n                              style={{\r\n                                  backgroundImage: imagenLocal ? `url(${banner.imagenBanner})` : `url(${aws + banner.imagenBanner})`,\r\n                                  cursor: 'pointer'\r\n                              }}\r\n                          >\r\n                          </BgElement>\r\n                      </Element>\r\n                      </BannerAnim>\r\n                    </div>\r\n                    ) : \r\n                    null\r\n                    }\r\n\r\n                <div>\r\n                    {banner.mostrarProductos !== false ? (\r\n                            <div className=\"mx-auto div-cards\">\r\n                                <CardsProductos className=\"mx-auto\" tipo={banner.tipo} />\r\n                                <div className=\"d-flex justify-content-center \">\r\n                                    <Link\r\n                                        className=\"font-secun\"\r\n                                        to={`/searching/${banner.tipo.categoria || banner.tipo.temporada || banner.tipo.genero}`} >\r\n                                        Ver todos los productos\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                    ) : \"\"}\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    })\r\n\r\n    return (\r\n        <div className=\"cont-principal\">\r\n           {render}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Banner_Largo);\r\n","import React from 'react';\r\nimport './banners.scss'\r\nimport {Link, withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport './banners.scss'\r\n\r\nfunction Banner_Doble(props) {\r\n\r\n    const { banner, imagenLocal } = props;\r\n    \r\n    const render = banner.banners.map((banner) => {\r\n        return(\r\n            <div key={banner._id} className=\"col-lg-6 container-imagenes\">\r\n                <div className=\"container-banner-doble mt-2\">\r\n                        <img\r\n                            onClick={() =>\r\n                                {if (banner.vincular !== false) {\r\n                                    props.history.push(`/searching/${ banner.tipo.categoria || banner.tipo.temporada || banner.tipo.genero }`);\r\n                                }\r\n                            }}\r\n                            className=\"imagen-doble \" \r\n                            src={imagenLocal ? banner.imagenBanner : aws + banner.imagenBanner}\r\n                            alt=\"Imgen publicitaria\"\r\n                        />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    )\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                {render}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default withRouter(Banner_Doble);\r\n","import React from 'react';\r\nimport './banners.scss'\r\nimport {Link, withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport './banners.scss'\r\n\r\nfunction Banner_Triple(props) {\r\n    const { banner, imagenLocal } = props;\r\n\r\n    const render = banner.banners.map((banner) => {\r\n        return(\r\n            <div key={banner._id} className=\"col-lg-4 container-imagenes\">\r\n                <div className=\"container-banner-triple\">\r\n                        <img\r\n                            onClick={() =>\r\n                                {if (banner.vincular !== false) {\r\n                                    props.history.push(`/searching/${ banner.tipo.categoria || banner.tipo.temporada || banner.tipo.genero }`);\r\n                                }\r\n                            }}\r\n                            className=\"imagen-triple\"\r\n                            src={imagenLocal ? banner.imagenBanner : aws + banner.imagenBanner}\r\n                            alt=\"Imgen publicitaria\"\r\n                        />\r\n                </div>\r\n            </div>\r\n        )\r\n        }\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    {render}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n        \r\n}\r\n\r\nexport default withRouter(Banner_Triple);\r\n","import React from 'react';\r\n\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nimport Banner_Orientacion from './BannerOrientacion/banner_orientacion';\r\nimport Banner_Largo from './BannerLargo/BannerLargo';\r\nimport Banner_Doble from './BannerCuadrados/bannerDoble';\r\nimport Banner_Triple from './BannerCuadrados/bannerTriple';\r\n\r\nexport default function Banner_Promocionales({ banner, imagenLocal }) {\r\n\r\n\tconst render = banner.map((banner, index) => {\r\n\t\tif (banner.estilo === 1) {\r\n\t\t\treturn <Banner_Largo key={index} banner={banner} imagenLocal={imagenLocal} />;\r\n\t\t} else if (banner.estilo === 2) {\r\n\t\t\treturn <Banner_Orientacion key={index} banner={banner} imagenLocal={imagenLocal} />;\r\n\t\t} else if (banner.estilo === 3) {\r\n\t\t\treturn <Banner_Doble key={index} banner={banner} imagenLocal={imagenLocal} />;\r\n\t\t} else if (banner.estilo === 4) {\r\n\t\t\treturn <Banner_Triple key={index} banner={banner} imagenLocal={imagenLocal} />;\r\n\t\t}\r\n\t});\r\n\r\n\treturn <div>{render}</div>;\r\n}\r\n","import { Divider } from 'antd';\r\nimport React from 'react';\r\nimport Banner_Promocionales from '../../../users/BannerPromociones/bannerPromocionales';\r\n\r\nexport default function PreviewBanner({ datos, estilo, previewImage }) {\r\n\tconst array_banner = [\r\n\t\t{\r\n\t\t\testilo,\r\n\t\t\tbanners: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttipo: { [datos.tipo[0]]: datos.tipo[1] },\r\n\t\t\t\t\timagenBanner: previewImage ? previewImage : datos.imagenBanner,\r\n\t\t\t\t\tvincular: datos.vincular,\r\n\t\t\t\t\tmostrarProductos: datos.mostrarProductos,\r\n\t\t\t\t\tmostrarTitulo: datos.mostrarTitulo,\r\n\t\t\t\t\torientacion: datos.orientacion ? datos.orientacion : null\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className=\"mt-5\">\r\n\t\t\t<div>\r\n\t\t\t\t{estilo < 3 ? (\r\n                    <h1>Preview del banner</h1>\r\n                ) : null}\r\n\t\t\t</div>\r\n\t\t\t<Divider />\r\n\t\t\t{estilo < 3 ? (\r\n\t\t\t\t<Banner_Promocionales banner={array_banner} imagenLocal={previewImage ? true : false} />\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useCallback, useContext, Fragment } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Form, Modal, Checkbox, Cascader, Alert, Space } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\nimport '../publicidad.scss';\r\nimport ImagenEstilo2 from '../imagenes/estilo2.png';\r\nimport ImagenEstilo3 from '../imagenes/estilo3.png';\r\nimport ImagenEstilo4 from '../imagenes/estilo4.png';\r\nimport ImagenEspecial1 from '../imagenes/especial1.png';\r\nimport ImagenEspecial2 from '../imagenes/especial2.png';\r\nimport ImagenEspecial3 from '../imagenes/especial3.png';\r\nimport { BannerContext } from '../../../../context/admincontext';\r\nimport PreviewBanner from './previewBanner';\r\n\r\nfunction getBase64(file) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.readAsDataURL(file);\r\n\t\treader.onload = () => resolve(reader.result);\r\n\t\treader.onerror = (error) => reject(error);\r\n\t});\r\n}\r\n\r\nexport default function RegistroPublicidad(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst { reload, setReload } = useContext(BannerContext);\r\n\tconst idBanner = props.match.params.idBanner;\r\n\tconst accion = props.match.params.accion;\r\n\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\tconst [ temporadasBD, setTemporadasBD ] = useState([]);\r\n\tconst [ generosBD, setGenerosBD ] = useState([]);\r\n\tconst [ bannerRender, setBannerRender ] = useState({ banner: '', banners: '' });\r\n\tconst [ bannerSeleccionado, setBannerSeleccionado ] = useState({ banner: '', banners: '' });\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttipo: '',\r\n\t\tvincular: false,\r\n\t\tmostrarProductos: bannerRender.banner.estilo === 2 ? true : false,\r\n\t\tmostrarTitulo: false,\r\n\t\timagenBanner: '',\r\n\t\torientacion: 2\r\n\t});\r\n\tconst [ disabledCheck, setDisabledCheck ] = useState(true);\r\n\tconst [ disabledReg3, setDisabledReg3 ] = useState(0);\r\n\r\n\tconst [ saveAndPublish, setSaveAndPublish ] = useState(false);\r\n\r\n\t/* UPLOAD ANTD */\r\n\tconst [ openPreview, setOpenPreview ] = useState(false);\r\n\tconst [ previewImage, setPreviewImage ] = useState('');\r\n\tconst [ previewTitle, setPreviewTitle ] = useState('');\r\n\tconst [ fileList, setFileList ] = useState([]);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\r\n\tconst handleCancel = () => setOpenPreview(false);\r\n\r\n\tconst limpiarCampos = () => {\r\n\t\tsetDisabledCheck(true);\r\n\t\tsetFileList([]);\r\n\t\tsetDatos({\r\n\t\t\ttipo: '',\r\n\t\t\tvincular: false,\r\n\t\t\tmostrarProductos: bannerRender.banner.estilo === 2 ? true : false,\r\n\t\t\tmostrarTitulo: false,\r\n\t\t\timagenBanner: '',\r\n\t\t\torientacion: 2\r\n\t\t});\r\n\t\tform.resetFields();\r\n\t};\r\n\r\n\t/* UPLOAD ANTD */\r\n\tconst uploadProps = {\r\n\t\tfileList: fileList,\r\n\t\tlistType: 'picture-card',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tif (file.type === 'image/png' || file.type === 'image/jpg' || file.type === 'image/jpeg') {\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Formato de imagen no válido',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetDisabled(true);\r\n\t\t},\r\n\t\tonChange: async ({ fileList, file }) => {\r\n\t\t\tif (fileList.length !== 0) {\r\n\t\t\t\tsetDatos({ ...datos, imagenBanner: file });\r\n\t\t\t\tsetFileList(fileList);\r\n\t\t\t\tsetPreviewImage(URL.createObjectURL(file));\r\n\t\t\t} else {\r\n\t\t\t\tsetDatos({ ...datos, imagenBanner: '' });\r\n\t\t\t\tsetFileList([]);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tform.resetFields([ 'imagen' ]);\r\n\t\t\t\tsetPreviewImage('');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPreview: async (file) => {\r\n\t\t\tif (!file.url && !file.preview) {\r\n\t\t\t\tfile.preview = await getBase64(file.originFileObj);\r\n\t\t\t}\r\n\t\t\tsetPreviewImage(file.url || file.preview);\r\n\t\t\tsetOpenPreview(true);\r\n\t\t\tsetPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1));\r\n\t\t}\r\n\t};\r\n\r\n\tconst selectTipo = (tipo) => {\r\n\t\tsetDatos({ ...datos, tipo: tipo });\r\n\t\tsetDisabledCheck(false);\r\n\t};\r\n\r\n\tconst obtenerOrientacion = (orientacion) => {\r\n\t\tsetDatos({ ...datos, orientacion: orientacion });\r\n\t};\r\n\r\n\tconst obtenerChecks = (e) => setDatos({ ...datos, [e.target.name]: e.target.checked });\r\n\r\n\tconst errors = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet categorias = [];\r\n\t\t\t\tres.data.map((categoria) => {\r\n\t\t\t\t\tcategorias.push({ value: categoria.categoria, label: categoria.categoria });\r\n\t\t\t\t});\r\n\t\t\t\tsetCategoriasBD(categorias);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerTemporadas() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/agrupar/temporadas`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet temporadas = [];\r\n\t\t\t\tres.data.forEach((temporada) => {\r\n\t\t\t\t\ttemporadas.push({ label: temporada._id, value: temporada._id });\r\n\t\t\t\t});\r\n\t\t\t\tsetTemporadasBD(temporadas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/agrupar/generos`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet generos = [];\r\n\t\t\t\tres.data.forEach((genero) => {\r\n\t\t\t\t\tif(genero._id !== 'Ninguno'){\r\n\t\t\t\t\t\tgeneros.push({ label: genero._id, value: genero._id });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tsetGenerosBD(generos);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst enviarDatos = async () => {\r\n\t\tif (!datos.tipo) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Selecciona un tipo',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tif (!datos.imagenBanner && datos.tipo && datos.mostrarProductos === false) {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'si una categoria esta seleccionada, \"mostrar productos\" es obligatorio',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t} else if (bannerSeleccionado.banner.estilo === 2 && !datos.imagenBanner) {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'En este tipo de banner la imagen es obligatoria',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tconst formData = new FormData();\r\n\t\t\t\tif (datos.imagenBanner.length !== 0) {\r\n\t\t\t\t\tformData.append('imagen', datos.imagenBanner);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tformData.append('imagenBanner', '');\r\n\t\t\t\t}\r\n\t\t\t\tif (bannerSeleccionado.banner.estilo === 2) {\r\n\t\t\t\t\tformData.append('orientacion', datos.orientacion);\r\n\t\t\t\t}\r\n\t\t\t\tformData.append(datos.tipo[0], datos.tipo[1]);\r\n\t\t\t\tformData.append('vincular', datos.vincular);\r\n\t\t\t\tformData.append('mostrarProductos', datos.mostrarProductos);\r\n\t\t\t\tformData.append('mostrarTitulo', datos.mostrarTitulo);\r\n\r\n\t\t\t\tif (bannerSeleccionado.banners.length !== 0) {\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.put(\r\n\t\t\t\t\t\t\t`/banner/${bannerSeleccionado.banner._id}/action/${bannerSeleccionado.banners._id}`,\r\n\t\t\t\t\t\t\tformData,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\tsetDisabledReg3(0);\r\n\t\t\t\t\t\t\tif (bannerSeleccionado.banner.estilo < 3) {\r\n\t\t\t\t\t\t\t\tprops.history.push('/admin/publicidad');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(saveAndPublish){\r\n\t\t\t\t\t\t\t\tpublicarBanner(true);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tpublicarBanner(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.put(`/banner/${bannerSeleccionado.banner._id}`, formData, {\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\tsetDisabledReg3(0);\r\n\t\t\t\t\t\t\tif (bannerSeleccionado.banner.estilo < 3) {\r\n\t\t\t\t\t\t\t\tprops.history.push('/admin/publicidad');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(saveAndPublish){\r\n\t\t\t\t\t\t\t\tpublicarBanner();\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tpublicarBanner(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst llenarCampos = useCallback(\r\n\t\t(banner, banners) => {\r\n\t\t\tif (banners.length !== 0) {\r\n\t\t\t\tsetBannerSeleccionado({ banner, banners });\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\t...datos,\r\n\t\t\t\t\timagenBanner: banners.imagenBanner ? banners.imagenBanner : '',\r\n\t\t\t\t\ttipo: banners.tipo.categoria\r\n\t\t\t\t\t\t? [ 'categoria', banners.tipo.categoria ]\r\n\t\t\t\t\t\t: banners.tipo.temporada ? [ 'temporada', banners.tipo.temporada ] : [ 'genero', banners.tipo.genero ],\r\n\t\t\t\t\tvincular: banners.vincular,\r\n\t\t\t\t\tmostrarProductos: banners.mostrarProductos,\r\n\t\t\t\t\tmostrarTitulo: banners.mostrarTitulo,\r\n\t\t\t\t\torientacion: banners.orientacion\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!banners.imagenBanner || banners.imagenBanner === '') {\r\n\t\t\t\t\tsetFileList([]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetFileList([\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tuid: '-1',\r\n\t\t\t\t\t\t\tname: 'imagen actual',\r\n\t\t\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\t\t\turl: aws + banners.imagenBanner\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (banners.tipo.length === 0) {\r\n\t\t\t\t\tform.resetFields([ 'tipo' ]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t\r\n\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (banners.tipo.categoria) {\r\n\t\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\t\ttipo: [ 'categoria', banners.tipo.categoria ]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (banners.tipo.temporada) {\r\n\t\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\t\ttipo: [ 'temporada', banners.tipo.temporada ]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\t\ttipo: [ 'genero', banners.tipo.genero ]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ form ]\r\n\t);\r\n\r\n\tconst obtenerBannerBD = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/banner/${idBanner}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (accion === 'nuevo') {\r\n\t\t\t\t\tsetBannerSeleccionado({ banner: res.data, banners: [] });\r\n\t\t\t\t\tsetBannerRender({ banner: res.data, banners: [] });\r\n\t\t\t\t} else if (bannerSeleccionado.banner < 3) {\r\n\t\t\t\t\tsetBannerSeleccionado({ banner: res.data, banners: res.data.banners });\r\n\t\t\t\t\tsetBannerRender({ banner: res.data, banners: res.data.banners });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tres.data.banners.map((banners) => {\r\n\t\t\t\t\t\tsetBannerSeleccionado({ banner: res.data, banners });\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tsetBannerRender({ banner: res.data, banners: res.data.banners });\r\n\t\t\t\tif (accion === 'editar' && res.data.estilo < 3) {\r\n\t\t\t\t\tres.data.banners.map((banners) => {\r\n\t\t\t\t\t\tllenarCampos(res.data, banners);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst publicarBanner = async (publicado) => {\r\n\t\tif (bannerRender.banner.estilo === 3 && bannerRender.banners.length < 2 && publicado) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else if (bannerRender.banner.estilo === 4 && bannerRender.banners.length < 3 && publicado) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else if (bannerRender.banners.length === 0 && publicado) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.put(\r\n\t\t\t\t`/banner/publicar/${bannerRender.banner._id}`,\r\n\t\t\t\t{ publicado },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif(publicado){\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerTemporadas();\r\n\t\t\tobtenerGeneros();\r\n\t\t\tobtenerBannerBD();\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tconst options = [\r\n\t\t{\r\n\t\t\tvalue: 'categoria',\r\n\t\t\tlabel: 'Categoria',\r\n\t\t\tname: 'categoria',\r\n\t\t\tchildren: categoriasBD\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 'temporada',\r\n\t\t\tlabel: 'Temporada',\r\n\t\t\tname: 'temporada',\r\n\t\t\tchildren: temporadasBD\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 'genero',\r\n\t\t\tlabel: 'Género',\r\n\t\t\tname: 'genero',\r\n\t\t\tchildren: generosBD\r\n\t\t}\r\n\t];\r\n\r\n\t/* simular imagenes */\r\n\tvar elementos = [];\r\n\tfor (let i = 0; i < bannerRender.banner.estilo - 1; i++) {\r\n\t\tlet array = [];\r\n\t\tarray.push(i);\r\n\t\telementos.push(array);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t{bannerRender.banner.estilo === 2 ? (\r\n\t\t\t\t\t<div className=\"d-flex justify-content-around pb-3 mb-3 border-bottom\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\tonClick={() => obtenerOrientacion(1)}\r\n\t\t\t\t\t\t\tstyle={datos.orientacion === 1 ? { border: '1px solid #1890FF' } : null}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<h6 className=\" position-absolute\">\r\n\t\t\t\t\t\t\t\t<b>Diseño 1</b>\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t<img alt=\"estilos banners\" src={ImagenEstilo4} className=\"imagen-estilo-registro\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\tonClick={() => obtenerOrientacion(2)}\r\n\t\t\t\t\t\t\tstyle={datos.orientacion === 2 ? { border: '1px solid #1890FF' } : null}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<h6 className=\" position-absolute\">\r\n\t\t\t\t\t\t\t\t<b>Diseño 2</b>\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t<img alt=\"estilos banners\" src={ImagenEstilo3} className=\"imagen-estilo-registro\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\tonClick={() => obtenerOrientacion(3)}\r\n\t\t\t\t\t\t\tstyle={datos.orientacion === 3 ? { border: '1px solid #1890FF' } : null}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<h6 className=\"position-absolute\">\r\n\t\t\t\t\t\t\t\t<b>diseño 3</b>\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t<img alt=\"estilos banners\" src={ImagenEstilo2} className=\"imagen-estilo-registro\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{bannerRender.banner.estilo > 2 ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mb-3\">\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t<b>Selecciona un banner</b>\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-center d-flex justify-content-around pb-3 mb-3 border-bottom\">\r\n\t\t\t\t\t\t\t{bannerRender.banners.length !== 0 ? (\r\n\t\t\t\t\t\t\t\tbannerRender.banners.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Fragment key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen {index + 1}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tllenarCampos(bannerRender.banner, res);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + res.imagenBanner}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{bannerRender.banners.length === 1 && bannerRender.banner.estilo === 3 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen 2</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 2);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetBannerSeleccionado({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanner: bannerRender.banner,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanners: []\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial2}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t{bannerRender.banners.length === 1 && bannerRender.banner.estilo === 4 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen 2</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 2);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetBannerSeleccionado({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanner: bannerRender.banner,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanners: []\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial2}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen 3</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 3);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetBannerSeleccionado({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanner: bannerRender.banner,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanners: []\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 3 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t{index > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\tbannerRender.banners.length === 2 &&\r\n\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.estilo === 4 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen 3</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 3);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetBannerSeleccionado({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanner: bannerRender.banner,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanners: []\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 3 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\telementos.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={disabledReg3 === index + 1 ? { border: '1px solid #1890FF' } : null}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\" position-absolute\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen {index + 1}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex + 1 === 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : index + 1 === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial2\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial3\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<Form form={form} hideRequiredMark onFinish={enviarDatos} id=\"MyForm\">\r\n\t\t\t\t\t\t\t<div className=\"row \">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Tipo de producto\" labelCol={{ span: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"tipo\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Cascader\r\n\t\t\t\t\t\t\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTipo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona uno\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.estilo > 2 && !disabledReg3 ? true : false\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item labelCol={{ span: 4 }} label=\"Imagen\" className=\"image-upload-container\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"imagenBanner\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...uploadProps}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.estilo > 2 && !disabledReg3 ? true : false\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{fileList.length >= 1 ? null : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginTop: 8 }}>Upload</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t{bannerRender.banner.estilo === 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTamaño recomendado para esta imagen es: <b>alto=330px</b>,{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>largo=1400px</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t) : bannerRender.banner.estilo === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTamaño recomendado para esta imagen es: <b>alto=260px</b>,{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>largo=430px</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t) : bannerRender.banner.estilo === 3 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTamaño recomendado para esta imagen es: <b>alto=700px</b>,{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>largo=470px</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTamaño recomendado para esta imagen es: <b>alto=530px</b>,{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>largo=360px</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-5\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"vincular\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={datos.vincular}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerChecks}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledCheck}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tVincular banner\r\n\t\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"mostrarProductos\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdatos.mostrarProductos ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdatos.mostrarProductos\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : bannerRender.banner.estilo === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdatos.mostrarProductos\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerChecks}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledCheck ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledCheck\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : bannerRender.banner.estilo === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.estilo > 2 ? true : disabledCheck\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tMostrar Productos\r\n\t\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"mostrarTitulo\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={datos.mostrarTitulo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerChecks}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledCheck ? disabledCheck : bannerRender.banner.estilo > 2 ? true : disabledCheck}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tMostrar Titulo\r\n\t\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h4>{bannerRender.banner.publicado ? 'Banner publicado' : 'Banner no publicado'}</h4>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-lg-flex d-block justify-content-around\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tghost\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => props.history.push('/admin/publicidad')}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t{/* <Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tghost\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => publicarBanner(!bannerRender.banner.publicado)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.publicado ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ color: '#5cb85c', borderColor: '#5cb85c' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{bannerRender.banner.publicado ? 'Publicado' : 'Publicar'}\r\n\t\t\t\t\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tform=\"MyForm\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tGuardar sin publicar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tform=\"MyForm\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setSaveAndPublish(true)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tGuardar y publicar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Modal forceRender visible={openPreview} title={previewTitle} footer={null} onCancel={handleCancel}>\r\n\t\t\t\t\t<img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<PreviewBanner datos={datos} estilo={bannerRender.banner.estilo} previewImage={previewImage} />\r\n\t\t\t</Spin>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\n//import Carousel from 'react-bootstrap/Carousel';\r\nimport './ofertas.scss';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../config/aws';\r\n\r\nimport BannerAnim, { Element } from 'rc-banner-anim';\r\nimport 'rc-banner-anim/assets/index.css';\r\n\r\nconst BgElement = Element.BgElement;\r\n\r\nfunction CarouselOfertas(props) {\r\n\t/* const [ index, setIndex ] = useState(0); */\r\n\tconst [ carousels, setCarousels ] = useState([]);\r\n\t/* const [ esPromocion, setEsPromocion ] = useState(false); */\r\n\r\n\tuseEffect(() => {\r\n\t\tconst obtenerCarousel = async () => {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get('/carousel/limite')\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetCarousels(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {});\r\n\t\t};\r\n\t\t\r\n\t\tobtenerCarousel();\r\n\t}, []);\r\n\r\n\t/* const handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n\t}; */\r\n\r\n\tconst render = carousels.map((carousel) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Element prefixCls=\"banner-user-elem\" key={carousel._id}>\r\n\t\t\t\t\t<BgElement\r\n\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\tprops.history.push(\r\n\t\t\t\t\t\t\t/* esPromocion\r\n\t\t\t\t\t\t\t? `/vista_producto/${carousel.productoPromocion._id}`\r\n\t\t\t\t\t\t\t:  */carousel.producto ? `/vista_producto/${carousel.producto}` : '/'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tkey=\"bg\"\r\n\t\t\t\t\t\tclassName=\"bg banner-elemento\"\r\n\t\t\t\t\t\talt=\"img-oferta\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tbackgroundImage: `url(${aws + carousel.imagen})`,\r\n\t\t\t\t\t\t\tcursor: 'pointer' \r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</BgElement>\r\n\t\t\t\t</Element>\r\n\t\t\t\t\r\n\t\t\t);\r\n\t});\r\n\r\n\tif (carousels.length === 0) {\r\n\t\treturn null\r\n\t}\r\n\treturn (\r\n\t\t<BannerAnim autoPlay /* activeIndex={index} */ /* onSelect={handleSelect} */ prefixCls=\"banner-user\" delay={200}>\r\n\t\t\t\t{render}\r\n\t\t</BannerAnim>\r\n\t);\r\n}\r\n\r\nexport default withRouter(CarouselOfertas);\r\n","import React from 'react';\r\nimport aws from '../../../../config/aws';\r\n// import DOMPurify from 'dompurify';\r\nimport { Card, Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './componente_producto_grande.scss'\r\n\r\n// import { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nexport default function ComponenteProductoGrande(props) {\r\n\tconst { productos } = props;\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-4 col-6\" >\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-oferta-especial color-contenedor-oferta-especial\" \r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-oferta-especial\">\r\n\t\t\t\t\t\t\t<p className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta-especial\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-especial text-center\">\r\n\t\t\t\t\t\t\t\t<h1 >{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-especial d-flex justify-content-center mt-4\">\r\n\t\t\t\t\t\t\t\t<h3 className=\"h5 card-precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<h2 className=\"precio-producto rebajado mt-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"col-lg-4\" >\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-oferta-especial color-contenedor-oferta-especial\" \r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"contenedor-oferta-especial\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t{/* <h5 className=\"shadow\">OFERTA</h5> */}\r\n\t\t\t\t\t\t\t\t\t\t{/* <p>-{agregarPorcentaje(promo.precioPromocion, productos.precio)}%</p> */}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta-especial\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-especial text-center\">\r\n\t\t\t\t\t\t\t\t<h1>{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-especial d-flex justify-content-center mt-4\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"\">${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-especial d-flex justify-content-center mt-4\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 card-precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"precio-producto rebajado mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<div className=\"d-flex flex-row-reverse\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"color-boton\" \r\n\t\t\t\t\t\t\t\t\ticon={< ShoppingCartOutlined\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 25 }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Result, Row } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './ofertas.scss';\r\nimport ComponenteProductoGrande from '../Productos/Card_Grande/componente_producto_grande'\r\n// import ComponenteProductos from '../Productos/componente_productos';\r\nimport CardSecundaria from '../Productos/Card_Secundaria/card_secundaria';\r\n\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction OfertasHome(props) {\r\n\tconst {orientacion} = props;\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProductos();\r\n\t}, []);\r\n\r\n\tasync function obtenerProductos() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${5}&page=${1}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos, index) => {\r\n\t\tif(orientacion == \"derecha\"){\r\n\t\t\tif(index === 4){\r\n\t\t\t\treturn  <ComponenteProductoGrande key={productos._id} productos={productos} />\r\n\t\t\t}else{\r\n\t\t\t\treturn <CardSecundaria key={productos._id} productos={productos}/>\r\n\t\t\t}\r\n\t\t}else if(orientacion == \"izquierda\"){\r\n\t\t\tif(index === 0){\r\n\t\t\t\treturn  <ComponenteProductoGrande key={productos._id} productos={productos} />\r\n\t\t\t}else{\r\n\t\t\t\treturn <CardSecundaria key={productos._id} productos={productos}/>\r\n\t\t\t}\r\n\t\t}else if(orientacion == \"centro\"){\r\n\t\t\tif(index === 2){\r\n\t\t\t\treturn  <ComponenteProductoGrande key={productos._id} productos={productos} />\r\n\t\t\t}else{\r\n\t\t\t\treturn <CardSecundaria key={productos._id} productos={productos}/>\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn <CardSecundaria key={productos._id} productos={productos}/>\r\n\t\t}\r\n\t});\r\n\r\n\tif(productos.length === 0){\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{/* <div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t<h4 className=\"mb-0 font-weight-bold\">¡Encuentra ofertas todos los días!</h4> \r\n\t\t\t\t</div>\r\n\t\t\t</div> */}\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center pb-5\">\r\n\t\t\t\t<Link to=\"/ofertas\" style={{ fontSize: 18 }}>\r\n\t\t\t\t\tVer Todas las ofertas\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(OfertasHome);\r\n","import React from 'react'\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { Button} from 'antd';\r\nimport {UserOutlined} from '@ant-design/icons';\r\nimport './banner.scss'\r\n\r\nexport default function BannerInformativo() {\r\n    return (\r\n        <div className=\"container-fluid container-mini-banner mt-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-lg-8 card-informativa\">\r\n                    <p className=\"mr-5 mt-2 \">\r\n                        Regístrate para una mayor experiencia en nuestro restaurante\r\n                    </p>    \r\n                    <UserOutlined className style={{fontSize: 45}}/>\r\n                  \r\n                </div>\r\n                <div className=\"col-lg-4 card-informativa\">\r\n                    <Link to=\"/perfiles\">\r\n                        <Button \r\n                            className=\" color-boton\"\r\n                            shape=\"round\"\r\n                            size='large'\r\n                            style={{fontSize: 18}}\r\n                        >\r\n                            Registrarse\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport {withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport Banner_Promocionales from './bannerPromocionales';\r\n\r\n\r\n// import aws from '../../../../config/aws';\r\n\r\nfunction Consulta_Banners(props) {\r\n\r\n    const [ banners, setBanners ] = useState([]);\r\n\r\n    useEffect(() => {\r\n\t\tconst obtenerBanner = async () => {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get('/banner/')\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetBanners(res.data);\r\n\t\t\t\t})\r\n                .catch((res) => {});\r\n\t\t};\r\n\t\tobtenerBanner();\r\n\t}, []);\r\n\t\r\n\r\n    \r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n\t\t\t <Banner_Promocionales banner={banners}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Consulta_Banners);\r\n\r\n","import React from 'react'\r\nimport { Tabs, Row } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport OfertasHome from '../ofertasHome';\r\n// import CardsProductos from '../../BannerPromociones/cardsProductos';\r\n// import Productos from '../../Productos/productos'\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction OfertasIzquierda() {\r\n    return (\r\n\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n        <Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n            <div className=\"col-lg-12 mt-3\">\r\n                <OfertasHome orientacion=\"izquierda\"/>\r\n            </div>\r\n        </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(OfertasIzquierda);\r\n","import React from 'react'\r\nimport { Tabs, Row } from 'antd';\r\nimport {  withRouter } from 'react-router-dom';\r\nimport OfertasHome from '../ofertasHome'\r\n\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction  OfertasDerecha() {\r\n    return (\r\n\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n        <Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n            <div className=\"col-lg-12 mt-3\">\r\n                <OfertasHome orientacion=\"derecha\" />\r\n            </div>\r\n        </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter( OfertasDerecha);","import React from 'react'\r\nimport { Tabs, Row } from 'antd';\r\nimport {  withRouter } from 'react-router-dom';\r\nimport OfertasHome from '../ofertasHome'\r\n\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction OfertasCentro() {\r\n    return (\r\n\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n        <Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n            <div className=\"col-lg-12 mt-3\">\r\n                <OfertasHome orientacion=\"centro\" />\r\n            </div>\r\n        </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(OfertasCentro);","import React from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Form, Input, Button, Checkbox } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 12 }\r\n};\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 7, span: 10 }\r\n};\r\n\r\nfunction Registro(props) {\r\n\tconst onFinish = async (values) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/cliente/', values)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\tif (vista) {\r\n\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\tprops.history.push(vista);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"col-12\">\r\n\t\t\t<Form {...layout}  name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n\t\t\t\t<Form.Item label=\"Nombre\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'El nombre es obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Apellido\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'El apellido es obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Correo\">\r\n\t\t\t\t\t<Form.Item name=\"email\" rules={[ { required: true, message: 'El email es obligatorio' } ]} noStyle>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Contraseña\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"contrasena\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'La contraseña es obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Confirmar contraseña\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"repeatContrasena\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'La contraseña es obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"d-flex justify-content-center\"\r\n\t\t\t\t\tname=\"aceptarPoliticas\"\r\n\t\t\t\t\tvaluePropName=\"checked\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvalidator: (_, value) =>\r\n\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t\t\t? Promise.resolve()\r\n\t\t\t\t\t\t\t\t\t: Promise.reject('Debes aceptar las políticas para registrarte')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Checkbox>Acepto las políticas, terminos y condiciones.</Checkbox>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\">\r\n\t\t\t\t\t\tRegistrarse\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Registro);\r\n","import React,{useState} from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { notification, Form, Input, Button, Alert } from 'antd';\r\n\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 14 }\r\n};\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 7, span: 10 }\r\n};\r\n\r\nfunction Login(props) {\r\n\r\n\tconst [mostrarDiv, setMostrarDiv] = useState('d-none');\r\n\tconst [mostrarMensaje, setmostrarMensaje] = useState('d-none');\r\n\r\n\tconst onFinish = async (values) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/cliente/auth', values)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\tif (vista) {\r\n\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\tprops.history.push(vista);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tprops.history.push('/admin');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tif (err.response.status === 404 || err.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t  });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst onRecuperar = async (email) => {\r\n\t\t\tawait clienteAxios.post('/cliente/restablecer/pass',email)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetmostrarMensaje(\"\");\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tif (err.response.status === 404 || err.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t  });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\t}\r\n\r\n\tconst mostrarDivClick = () => {\r\n\t\tsetMostrarDiv(\"\")\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"col-12\">\r\n\t\t\t<Form {...layout} name=\"basic\" className=\"font-descrip\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n\t\t\t\t<Form.Item label=\"Correo\" >\r\n\t\t\t\t\t<Form.Item name=\"email\" rules={[ { required: true, message: 'El email es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Contraseña\" >\r\n\t\t\t\t\t<Form.Item name=\"contrasena\" rules={[ { required: true, message: 'La contraseña es obligatoria!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\" >\r\n\t\t\t\t\t\tContinuar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<p onClick={mostrarDivClick} style={{cursor: 'pointer',color: '#0084ff'}}>¿Has olvidado tu contrasena?</p>\t\t\t\t\r\n\t\t\t</Form>\r\n\t\t\t<div  className={`${mostrarDiv} col-12 mt-2`}>\r\n\t\t\t\t<Form {...layout} name=\"basic\" initialValues={{ remember: true }} onFinish={onRecuperar}>\r\n\t\t\t\t\t<Form.Item label=\"Correo\" >\r\n\t\t\t\t\t\t<Form.Item name=\"emailCliente\" rules={[ { required: true, message: 'El email es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\" >\r\n\t\t\t\t\t\tEnviar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tclassName={`${mostrarMensaje}`}\r\n\t\t\t\t\t\tmessage=\"Correo enviado\"\r\n\t\t\t\t\t\tdescription=\"Se a enviado un correo para actualizar su contraseña\"\r\n\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Login);\r\n","\r\nexport default {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_DATA_BASE_URL,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROYECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n    measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n  };","import React, { useState, useEffect } from 'react';\r\nimport { notification } from 'antd';\r\nimport firebaseConfig from '../../config/firebase';\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\nimport clienteAxios from '../../config/axios';\r\nimport * as firebase from 'firebase/app';\r\n/* import * as firebaseui from 'firebaseui'; */\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n/* var ui = new firebaseui.auth.AuthUI(firebase.auth());\r\nui.disableAutoSignIn(); */\r\n\r\nfunction Firebase() {\r\n\tconst [ user, setUser ] = useState(false);\r\n\r\n\tconst uiConfig = {\r\n\t\tsignInFlow: 'popup',\r\n\t\tsignInOptions: [ firebase.auth.GoogleAuthProvider.PROVIDER_ID ],\r\n\t\tcallbacks: {\r\n\t\t  // Avoid redirects after sign-in.\r\n\t\t  signInSuccessWithAuthResult: () => false\r\n\t\t}\r\n\t};\r\n \r\n\tuseEffect(() => {\r\n\t\tlet valores = {\r\n\t\t\tnombre: '',\r\n\t\t\tapellido: '',\r\n\t\t\temail: '',\r\n\t\t\tcontrasena: '',\r\n\t\t\timagen: ''\r\n\t\t};\r\n\t\tfunction onAuthStateChange() {\r\n\t\t\treturn firebase.auth().onAuthStateChanged(async (user) => {\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\tconst displayname = user.displayName.split(' ');\r\n\t\t\t\t\tvalores = {\r\n\t\t\t\t\t\tnombre: displayname[0],\r\n\t\t\t\t\t\tapellido: displayname[1],\r\n\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\timagen: user.photoURL\r\n\t\t\t\t\t};\r\n\t\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.post('/cliente/auth/firebase/', valores)\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t//Usuario creado correctamente\r\n\t\t\t\t\t\t\tsetUser(!!user);\r\n\t\t\t\t\t\t\tconst token = res.data.token;\r\n\t\t\t\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\t\t\t\tif (vista) {\r\n\t\t\t\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\t\t\t\twindow.location.href = `${vista}`\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\twindow.location.href = '/'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tif(err.response){\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetUser(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tonAuthStateChange();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t{user ? (\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<div>Signed In!</div>\r\n\t\t\t\t</span>\r\n\t\t\t) : (\r\n\t\t\t\t<StyledFirebaseAuth uiCallback={ui => ui.disableAutoSignIn()} uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Firebase;\r\n","import React, { useEffect } from 'react'\r\nimport Registro from '../Registro/registro'\r\nimport Login from '../Login/login'\r\nimport Firebase from '../../../components/Firebase/firebase'\r\nimport { Tabs, Divider } from 'antd'\r\nimport './entrar.scss'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Entrar(props) {\r\n    const token = localStorage.getItem('token')\r\n\r\n    useEffect( () => {\r\n        if(token){\r\n            props.history.push('/')\r\n        }\r\n    })\r\n\r\n    return(\r\n        <div>\r\n            <p className=\"font-descrip text-center mb-4 mt-4\">\r\n                Si aun no tienes cuenta regístrate dando click en <strong>Crear cuenta</strong>\r\n            </p>\r\n            <div className=\"tabs\">\r\n                <Tabs centered className=\" shadow col-12 col-lg-4 bg-white rounded tabs-colors\" defaultActiveKey=\"1\">\r\n                    <TabPane className=\"tab-color\" tab=\"Iniciar Sesión\" key=\"1\">\r\n                        <div className=\"mt-3\">\r\n                            <Login />\r\n                        </div>\r\n                        <Divider />\r\n                        <div>\r\n                            <p className=\"font-descrip\">Accede con tu cuenta de Google o Facebook.</p>\r\n                            <Firebase />\r\n                        </div>\r\n                    </TabPane>\r\n                    <TabPane className=\"tab-color\" tab=\"Crear cuenta\" key=\"2\">\r\n                        <div className=\"mt-3\">\r\n                            <Registro />\r\n                        </div>\r\n                    </TabPane>\r\n                </Tabs>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Entrar)","import React, { createContext, useState } from \"react\"\r\n\r\nexport const CarritoContext = createContext()\r\n\r\nexport const CarritoProvider = ({ children }) => {\r\n    const [ activador, setActivador ] = useState(true);\r\n    const [ validacion, setValidacion ] = useState(false);\r\n\r\n  return (\r\n    <CarritoContext.Provider value={{activador, setActivador, validacion, setValidacion}}>\r\n      {children}\r\n    </CarritoContext.Provider>\r\n  );\r\n};","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarPedidoCarrito(idcliente, token) {\r\n\t/* idcliente, idproducto, categoria, cantidad, talla, precio, total, token */\r\n\tconst res = await clienteAxios\r\n        .get(`/carrito/${idcliente}`, {\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n\t\t})\r\n\t\r\n\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\tif(res.idarticulo.activo === false){\r\n            return [];\r\n        }else if(res.idarticulo.eliminado && res.idarticulo.eliminado === true){\r\n            return [];\r\n        }else{\r\n            return res;\r\n        }\r\n\t});\r\n\r\n\tvar carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\r\n\tvar pedido = [];\r\n\r\n\tcarrito.forEach((carrito) => {\r\n\t\tconst medida = carrito.medida.map((res) => {\r\n\t\t\tif (res.talla) {\r\n\t\t\t\treturn res.talla;\r\n\t\t\t} else if (res.numero) {\r\n\t\t\t\treturn res.numero;\r\n            }\r\n            return null;\r\n        });\r\n\t\tvar precio;\r\n\t\t\r\n        if(!carrito.promocion){\r\n            precio = carrito.idarticulo.precio\r\n        }else{\r\n            precio = carrito.promocion.precioPromocion\r\n        }\r\n\r\n\t\tswitch (carrito.idarticulo.tipoCategoria) {\r\n\t\t\tcase 'Ropa':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\ttalla: medida[0],\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Calzado':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\tnumero: medida[0],\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Otros':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n        }\r\n\t});\r\n\r\n\tvar subtotal = 0;\r\n\tvar total = 0;\r\n\r\n\tcarrito.forEach((res) => {\r\n\t\tif(res.promocion){\r\n\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad\r\n\t\t}else{\r\n\t\t\tsubtotal += res.idarticulo.precio * res.cantidad\r\n\t\t}\r\n\t\ttotal = subtotal;\r\n\t});\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso',\r\n\t\t\t\tcarrito: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { notification, Modal, Select, Avatar, List, Button } from 'antd';\r\n/* import { ShoppingCartOutlined, TagsOutlined, BellOutlined, WhatsAppOutlined } from '@ant-design/icons'; */\r\nimport aws from '../../../../config/aws';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\n/* import DatosCliente from '../../Vista_Producto/subs/datos_cliente';\r\n */\r\nconst { Option } = Select;\r\n\r\nexport default function ApartadoCarrito(props) {\r\n\tconst { cliente, token } = props;\r\n\tconst [ visible, setVisible ] = props.modal;\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ apartadoMultiple, setApartadoMultiple ] = useState([]);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('REGOGIDO');\r\n\r\n\tconst error = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCarrito = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${cliente._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst apartadoMultiple = [];\r\n\t\t\t\tconst apartadoMultipleCompleto = [];\r\n\t\t\t\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\t\t\t\tif (res.idarticulo.activo === false) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t} else if (res.idarticulo.eliminado && res.idarticulo.eliminado === true) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tconst carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\r\n\t\t\t\tcarrito.forEach((carrito) => {\r\n\t\t\t\t\tconst medida = carrito.medida.map((res) => {\r\n\t\t\t\t\t\tif (res.talla) {\r\n\t\t\t\t\t\t\treturn res.talla;\r\n\t\t\t\t\t\t} else if (res.numero) {\r\n\t\t\t\t\t\t\treturn res.numero;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar precio;\r\n\r\n\t\t\t\t\tif (!carrito.promocion) {\r\n\t\t\t\t\t\tprecio = carrito.idarticulo.precio;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tprecio = carrito.promocion.precioPromocion;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tswitch (carrito.idarticulo.tipoCategoria) {\r\n\t\t\t\t\t\tcase 'Ropa':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { talla: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { talla: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Calzado':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { numero: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { numero: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Otros':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar subtotal = 0;\r\n\t\t\t\tvar total = 0;\r\n\r\n\t\t\t\tcarrito.forEach((res) => {\r\n\t\t\t\t\tif (res.promocion) {\r\n\t\t\t\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsubtotal += res.idarticulo.precio * res.cantidad;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttotal = subtotal;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetApartadoMultiple(apartadoMultiple);\r\n\t\t\t\tsetProducto(apartadoMultipleCompleto);\r\n\t\t\t\tsetTotal(total);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst apartarCarrito = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/apartado/multiple',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: cliente._id,\r\n\t\t\t\t\tapartadoMultiple: apartadoMultiple,\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEnvio\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\twindow.location.href = '/pedidos';\r\n\t\t\t\t}, 1000);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\tconst handleOk = () => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetVisible(false);\r\n\t\t\tapartarCarrito();\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (visible) {\r\n\t\t\t\tobtenerCarrito();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ visible ]\r\n\t);\r\n\r\n\tconst articulos = producto.map((res, index) => {\r\n\t\treturn (\r\n\t\t\t<List.Item key={index} className=\"row\">\r\n\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t<Avatar size={64} src={aws + res.producto.imagen} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t<h5>{res.producto.nombre}</h5>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t<h6>Cantidad: {res.cantidad}</h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{res.medida ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t{res.medida.numero ? (\r\n\t\t\t\t\t\t\t\t\t<h6>Talla: {res.medida.numero}</h6>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h6>Talla: {res.medida.talla}</h6>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(res.precio)}</h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</List.Item>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tstyle={{ top: 20 }}\r\n\t\t\ttitle=\"Ordenar para retirar en restaurant\"\r\n\t\t\tvisible={visible}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\tfooter={null}\r\n\t\t\twidth={700}\r\n\t\t>\r\n\t\t\t<List>{articulos}</List>\r\n\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t<h6 className=\"mr-2\">Ordenado por:</h6>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<b>{cliente.nombre}</b>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t<h4>Total: ${formatoMexico(total)}</h4>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-end align-items-center mt-1\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"color-boton color-font-boton\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tstyle={{ width: 170 }}\r\n\t\t\t\t\tonClick={() => handleOk()}\r\n\t\t\t\t>\r\n\t\t\t\t\tOrdenar\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { message } from 'antd';\r\n\r\nexport async function actualizarCantidad(cliente, articulo, categoria, cantidad, medida, token) {\r\n    var datos = {};\r\n\tswitch (categoria) {\r\n\t\tcase 'Otros':\r\n            datos = {\r\n                cantidad: cantidad\r\n            }\r\n\t\t\tbreak;\r\n\t\tcase 'Ropa':\r\n            datos = {\r\n                cantidad: cantidad,\r\n                talla: medida\r\n            }\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n            datos = {\r\n                cantidad: cantidad,\r\n                numero: medida\r\n            }\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.put(`/carrito/${cliente}/articulo/${articulo}`, datos, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n            message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((err) => {\r\n        });\r\n        return true;\r\n}\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification, message } from 'antd';\r\n\r\nexport async function AgregarPedido(idcliente, idproducto, categoria, cantidad, talla, precio, total, token) {\r\n\tvar pedido = [];\r\n\r\n\tconst medida = talla.map((res) => {\r\n\t\tif (res.talla) {\r\n\t\t\treturn res.talla;\r\n\t\t} else if (res.numero) {\r\n\t\t\treturn res.numero;\r\n\t\t}\r\n\t\treturn null;\r\n\t});\r\n\r\n\tswitch (categoria) {\r\n\t\tcase 'Ropa':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\ttalla: medida[0],\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tnumero: medida[0],\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tcase 'Otros':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport async function AgregarApartado(idcliente, idproducto, cantidad, precio, talla, tipoEntrega, token, categoria) {\r\n\tvar apartado = [];\r\n\tconst medida = talla.map((res) => {\r\n\t\tif (res.talla) {\r\n\t\t\treturn res.talla;\r\n\t\t} else if (res.numero) {\r\n\t\t\treturn res.numero;\r\n\t\t}\r\n\t\treturn null\r\n\t});\r\n\tswitch (categoria) {\r\n\t\tcase 'Ropa':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\tmedida: [ { talla: medida[0] } ],\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\tmedida: [ { numero: medida[0] } ],\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'Otros':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(`/apartado/nuevo/${idcliente}`, apartado, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport async function EliminarArticuloCarrito(idcliente, articulo, token) {\r\n\tawait clienteAxios\r\n\t\t.delete(`/carrito/${idcliente}/articulo/${articulo}`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\treturn true;\r\n}\r\n","import React, { useState } from 'react';\r\nimport { notification, Modal, Select, Avatar, List, Button } from 'antd';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport { AgregarApartado } from './services/consultas_individuales';\r\n/* import DatosCliente from '../Vista_Producto/subs/datos_cliente'; */\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function ModalApartado(props) {\r\n\tconst [ visible, setVisible ] = props.visible;\r\n\tconst { carrito, cliente, token } = props;\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('REGOGIDO');\r\n\r\n\tconst handleOk = (e) => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tlet precio;\r\n\t\t\tif (carrito.promocion && carrito.promocion.length !== 0) {\r\n\t\t\t\tprecio = carrito.promocion.precioPromocion;\r\n\t\t\t} else {\r\n\t\t\t\tprecio = carrito.idarticulo.precio;\r\n\t\t\t}\r\n\t\t\tAgregarApartado(\r\n\t\t\t\tcliente._id,\r\n\t\t\t\tcarrito.idarticulo._id,\r\n\t\t\t\tcarrito.cantidad,\r\n\t\t\t\tprecio,\r\n\t\t\t\tcarrito.medida,\r\n\t\t\t\ttipoEnvio,\r\n\t\t\t\ttoken,\r\n\t\t\t\tcarrito.idarticulo.tipoCategoria\r\n\t\t\t);\r\n\t\t\tsetVisible(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tstyle={{ top: 20 }}\r\n\t\t\ttitle=\"Ordenar para retirar en restaurant\"\r\n\t\t\tvisible={visible}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\t/* cancelText=\"Cancelar\"\r\n\t\t\tokText={false}\r\n\t\t\tonOk={false} */\r\n\t\t\tfooter={false}\r\n\t\t\twidth={700}\r\n\t\t>\r\n\t\t\t<List>\r\n\t\t\t\t<List.Item className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t\t<Avatar size={64} src={aws + carrito.idarticulo.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t<h5>{carrito.idarticulo.nombre}</h5>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t<h6>Cantidad: {carrito.cantidad}</h6>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{carrito.medida.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t{carrito.medida.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\tif (res.talla) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Talla: {res.talla}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t} else if (res.numero) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Talla: {res.numero}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(carrito.idarticulo.precio)}</h6>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(carrito.promocion.precioPromocion)}</h6>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t<h6 className=\"mr-2\">Ordenado por:</h6>\r\n\t\t\t\t\t\t\t<p><b>{cliente.nombre}</b></p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</List.Item>\r\n\t\t\t</List>\r\n\r\n\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t<h4>Total: ${formatoMexico(carrito.idarticulo.precio * carrito.cantidad)}</h4>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4>Total: ${formatoMexico(carrito.promocion.precioPromocion * carrito.cantidad)}</h4>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-end align-items-center mt-1\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"color-boton color-font-boton\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tstyle={{ width: 170 }}\r\n\t\t\t\t\tonClick={() => handleOk()}\r\n\t\t\t\t>\r\n\t\t\t\t\tOrdenar\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","\r\nexport function verificarArticulos(carrito) {\r\n\tif (carrito.idarticulo.tallas.length !== 0) {\r\n\t\tconst talla = carrito.idarticulo.tallas.map((tallas) => {\r\n\t\t\tif (carrito.medida && carrito.medida[0].talla === tallas.talla) {\r\n\t\t\t\treturn carrito.medida[0].talla;\r\n\t\t\t}else {\r\n                return null\r\n            }\r\n        });\r\n        return talla.filter((talla) => talla !== null);\r\n\t} else if (carrito.idarticulo.numeros.length !== 0) {\r\n\t\tconst numero = carrito.idarticulo.numeros.map((numeros) => {\r\n\t\t\tif (carrito.medida && carrito.medida[0].numero === numeros.numero) {\r\n\t\t\t\treturn carrito.medida[0].numero\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n        });\r\n        return numero.filter((talla) => talla !== null);\r\n\t}\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './carrito.scss';\r\nimport { List, InputNumber, Button, Select, Form, Tag, Modal } from 'antd';\r\nimport { ShoppingCartOutlined, HomeOutlined,AlertOutlined, ExportOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport { CarritoContext } from './context_carrito/context-carrito';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\nimport { actualizarCantidad } from './services/consultasCarrito';\r\nimport { obtenerSubtotal } from './services/obtenerStock';\r\nimport { AgregarPedido, EliminarArticuloCarrito } from './services/consultas_individuales';\r\nimport ModalApartado from './modal_apartado';\r\nimport aws from '../../../config/aws';\r\nimport { verificarArticulos } from './verificarArticulos';\r\n\r\nconst { Option } = Select;\r\nconst styles = { fontSize: 20 };\r\nconst { confirm } = Modal;\r\n\r\nfunction ListaCarrito(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ medida, setMedida ] = useState([]);\r\n\tconst [ cantidad, setCantidad ] = useState();\r\n\tconst [ disponible, setDisponible ] = useState('');\r\n\tconst { carrito, cliente, token } = props;\r\n\tconst [ medidaDisponible, setMedidaDisponible ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst { activador, setActivador, setValidacion } = useContext(CarritoContext);\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ precio, setPrecio ] = useState(0);\r\n\tconst [ eliminado, setEliminado ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetDisponible('');\r\n\t\t\tsetCantidad(carrito.cantidad);\r\n\t\t\tverificar();\r\n\r\n\t\t\tif (carrito.idarticulo.activo === false) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tsetDisponible('disponibilidad-carrito');\r\n\t\t\t} else if (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\tsetDisponible('disponibilidad-carrito');\r\n\t\t\t\tsetEliminado(true);\r\n\t\t\t}\r\n\r\n\t\t\tif (carrito.promocion) {\r\n\t\t\t\tsetPrecio(carrito.promocion.precioPromocion);\r\n\t\t\t} else {\r\n\t\t\t\tsetPrecio(carrito.idarticulo.precio);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ carrito ]\r\n\t);\r\n\r\n\tfunction verificar() {\r\n\t\tif (carrito.idarticulo.tallas.length !== 0) {\r\n\t\t\tconst talla = carrito.idarticulo.tallas.filter((tallas) => carrito.medida[0].talla === tallas.talla);\r\n\t\t\tconst tallaCantidad = carrito.idarticulo.tallas.filter(\r\n\t\t\t\t(tallas) => carrito.medida[0].talla === tallas.talla && tallas.cantidad !== 0\r\n\t\t\t);\r\n\t\t\tif (talla.length === 0 || tallaCantidad.length === 0) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tif (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\t\tsetValidacion(false);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetValidacion(true);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetMedida([ talla[0].talla, tallaCantidad[0].cantidad ]);\r\n\t\t\t}\r\n\t\t} else if (carrito.idarticulo.numeros.length !== 0) {\r\n\t\t\tconst numero = carrito.idarticulo.numeros.filter((numeros) => carrito.medida[0].numero === numeros.numero);\r\n\t\t\tconst numeroCantidad = carrito.idarticulo.numeros.filter(\r\n\t\t\t\t(numeros) => carrito.medida[0].numero === numeros.numero && numeros.cantidad !== 0\r\n\t\t\t);\r\n\r\n\t\t\tif (numero.length === 0 || numeroCantidad.length === 0) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tif (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\t\tsetValidacion(false);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetValidacion(true);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetMedida([ numero[0].numero, numeroCantidad[0].cantidad ]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction medidaChange(medida) {\r\n\t\tsetCantidad(carrito.cantidad);\r\n\t\tsetMedida(medida);\r\n\t\tsetValidacion(true);\r\n\t\tsetMedidaDisponible('');\r\n\t\tsetValidateStatus('warning');\r\n\t\tsetMedidaDisponible('Guarda los cambios');\r\n\t}\r\n\tfunction cantidadChange(cantidad) {\r\n\t\tsetCantidad(cantidad);\r\n\t\tif (cantidad !== 0) {\r\n\t\t\tsetValidacion(true);\r\n\t\t\tsetValidateStatus('warning');\r\n\t\t\tsetMedidaDisponible('Guarda los cambios');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction actualizar(articulo, categoria) {\r\n\t\tif (actualizarCantidad(cliente._id, articulo, categoria, cantidad, medida[0], token)) {\r\n\t\t\tsetActivador(!activador);\r\n\t\t\tsetValidacion(false);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetMedidaDisponible('');\r\n\t\t}\r\n\t}\r\n\tfunction comprar() {\r\n\t\tAgregarPedido(\r\n\t\t\tcliente._id,\r\n\t\t\tcarrito.idarticulo._id,\r\n\t\t\tcarrito.idarticulo.tipoCategoria,\r\n\t\t\tcarrito.cantidad,\r\n\t\t\tcarrito.medida,\r\n\t\t\tprecio,\r\n\t\t\tcarrito.subtotal,\r\n\t\t\ttoken\r\n\t\t);\r\n\t}\r\n\r\n\tfunction eliminar() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminar articulo?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\tif (EliminarArticuloCarrito(cliente._id, carrito._id, token)) {\r\n\t\t\t\t\tsetActivador(!activador);\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction apartado() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<List.Item className=\"d-block p-4\" key={carrito._id}>\r\n\t\t\t<div className={`row ${disponible}`}>\r\n\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t<div className=\"contenedor-imagen-vista-carrito\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt=\"articulo producto\"\r\n\t\t\t\t\t\t\tclassName=\"imagen-vista-carrito\"\r\n\t\t\t\t\t\t\tsrc={aws + carrito.idarticulo.imagen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-lg-9\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-8\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Link to={`/vista_producto/${carrito.idarticulo._id}`}>\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"font-carrito\">{carrito.idarticulo.nombre}</h3>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"precio-carrito\">${formatoMexico(carrito.idarticulo.precio)}</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-anterior-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(carrito.idarticulo.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-promocion-carrito mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(carrito.promocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-promocion-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\tcarrito.promocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.precio\r\n\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"d-block d-lg-flex\">\r\n\t\t\t\t\t\t\t\t\t<Tag className=\"font-des-car detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\tCategoria: {carrito.idarticulo.categoria}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t{/* <Tag className=\"font-des-car detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\tGénero: {carrito.idarticulo.genero}\r\n\t\t\t\t\t\t\t\t\t</Tag> */}\r\n\t\t\t\t\t\t\t\t\t{carrito.idarticulo.color && carrito.idarticulo.color !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t<Tag className=\"font-des-car detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\t\tColor: {carrito.idarticulo.color}\r\n\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t{carrito.idarticulo.colorHex && carrito.idarticulo.colorHex !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: carrito.idarticulo.colorHex,\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: 30,\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: 30\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{disponible.length ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulo-disponible font-des-car\">Producto no disponible</p>\r\n\t\t\t\t\t\t\t\t) : eliminado === true ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulo-disponible font-des-car\">Este producto ya no existe</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-4\">\r\n\t\t\t\t\t\t\t<div className=\"justify-content-center\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<Form form={form} initialValues={{ cantidad: carrito.cantidad }} className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito col-6 col-lg-12\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\thelp={medidaDisponible}\r\n\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medida[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={cantidadChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={carrito.idarticulo.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={cantidadChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito-talla col-6 col-lg-12\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={verificarArticulos(carrito)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 90 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={medidaChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.tallas.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled value={res.talla}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : carrito.idarticulo.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.numeros.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled value={res.numero}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option>-</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{/* <Form.Item className=\"inputs-carrito\" />\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Subtotal\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 10 }}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito\"\r\n\t\t\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"color-boton-sec color-font-boton font-des-car\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => actualizar(carrito._id, carrito.idarticulo.tipoCategoria)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tModificar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-vista-carrito font-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(obtenerSubtotal(carrito.cantidad, precio))}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{/* <div className=\"float-right\" /> */}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t{disponible.length !== 0 ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"d-block d-lg-inline font-des-car\" onClick={() => eliminar()}>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={styles} />Eliminar producto\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"row d-flex justify-content-center\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-fonts font-des-car \"\r\n\t\t\t\t\t\t\t\tonClick={() => comprar()}\r\n\t\t\t\t\t\t\t\tdisabled={medidaDisponible !== '' ? true : false}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AlertOutlined style={styles} />Ordenar individual\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\ttype=\"link\" \r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-fonts font-des-car\" \r\n\t\t\t\t\t\t\t\tonClick={() => eliminar()}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<DeleteOutlined style={styles} />Eliminar producto\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-fonts font-des-car\"\r\n\t\t\t\t\t\t\t\tonClick={() => apartado()}\r\n\t\t\t\t\t\t\t\tdisabled={medidaDisponible !== '' ? true : false}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<HomeOutlined style={styles} />Recoger individual\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<ModalApartado visible={[ visible, setVisible ]} carrito={carrito} cliente={cliente} token={token} />\r\n\t\t</List.Item>\r\n\t);\r\n}\r\nexport default ListaCarrito;\r\n","\r\nexport function obtenerStockCarrito(carrito){\r\n    var nuevo = carrito.articulos.map((res) => {\r\n        if(res.idarticulo.activo === false){\r\n            return [];\r\n        }else if (res.idarticulo.eliminado && res.idarticulo.eliminado === true){\r\n            return [];\r\n        }else{\r\n            return res;\r\n        }\r\n    });\r\n    return nuevo\r\n}\r\n\r\nexport function obtenerSubtotal(cantidad, precio){\r\n    const subtotal = precio * cantidad\r\n   return subtotal;\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './carrito.scss';\r\nimport { List, Button, message, Result, Space } from 'antd';\r\nimport {  AlertOutlined,HomeOutlined } from '@ant-design/icons';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport { CarritoContext } from './context_carrito/context-carrito';\r\nimport { obtenerStockCarrito } from './services/obtenerStock';\r\nimport { AgregarPedidoCarrito } from './services/pedido_carrito';\r\nimport ApartadoCarrito from './services/apartado_carrito';\r\nimport ListaCarrito from './lista_carrito';\r\nimport Spin from '../../../components/Spin';\r\n\r\nconst styles = { fontSize: 20 };\r\n\r\nfunction MostrarDatosProductos(props) {\r\n\tconst [ carrito, setCarrito ] = useState([]);\r\n\tconst [ cliente, setCliente ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ nuevoCarrito, setNuevoCarrito ] = useState([]);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst { activador, setActivador, validacion } = useContext(CarritoContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\r\n\t//toma del token para el usuario\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerDatosCarrito() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCliente(res.data.cliente);\r\n\t\t\t\tsetCarrito(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else {\r\n\t\t\t\tobtenerDatosCarrito();\r\n\t\t\t\tsetActivador(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ activador ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (carrito.articulos) {\r\n\t\t\t\tvar nuevo = obtenerStockCarrito(carrito);\r\n\t\t\t\tconst result = nuevo.filter((arr) => arr.length !== 0);\r\n\t\t\t\tsetNuevoCarrito(result);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ carrito ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tvar subtotal = 0;\r\n\t\t\tvar total = 0;\r\n\r\n\t\t\tnuevoCarrito.forEach((res) => {\r\n\t\t\t\tif (res.promocion) {\r\n\t\t\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsubtotal += res.idarticulo.precio * res.cantidad;\r\n\t\t\t\t}\r\n\t\t\t\ttotal = subtotal;\r\n\t\t\t\tsetTotal(total);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ nuevoCarrito ]\r\n\t);\r\n\r\n\tfunction crearPedido() {\r\n\t\tif (validacion) {\r\n\t\t\tmessage.error('Aun no se ha modificado la cantidad');\r\n\t\t} else {\r\n\t\t\tAgregarPedidoCarrito(cliente._id, token);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction apartarCarrito() {\r\n\t\tif (validacion) {\r\n\t\t\tmessage.error('Aun no se ha modificado la cantidad');\r\n\t\t} else {\r\n\t\t\tsetVisible(true);\r\n\t\t}\r\n\t}\r\n\r\n\tif (carrito.length === 0 || carrito.articulos.length === 0) {\r\n\t\treturn (\r\n\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t<Result\r\n\t\t\t\t\tclassName=\"mt-5\"\r\n\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\ttitle=\"Aun no tienes articulos en tu carrito\"\r\n\t\t\t\t\textra={<Link to=\"/productos\">¡Empieza a comprar ahora!</Link>}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<h1 className=\"principal navbar-menu-general font-carrito\">Bievenido a tu pedido {cliente.nombre}</h1>\r\n\t\t\t\t<List\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tdataSource={carrito.articulos}\r\n\t\t\t\t\trenderItem={(carrito) => <ListaCarrito carrito={carrito} cliente={cliente} token={token} />}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"row mt-5 justify-content-center p-5\">\r\n\t\t\t\t\t<div className=\"col-lg-5 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-sec-car\" style={{display: 'inline' }}>Cantidad de productos: </p>\r\n\t\t\t\t\t\t\t\t<p className=\"font-sec-car\" style={{ display: 'inline', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{nuevoCarrito.length}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p  className=\"font-sec-car\" style={{ display: 'inline' }}>Total: </p>\r\n\t\t\t\t\t\t\t\t<p  className=\"font-sec-car\" style={{ display: 'inline', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t${total !== 0 ? formatoMexico(total) : 0}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-5 d-flex justify-content-center align-items-center mt-4\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"p-1\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-boton color-font-boton font-des-car \"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250, textAlign: 'center' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => crearPedido()}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<AlertOutlined style={styles} /> Ordenar ahora\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"p-1\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-boton color-font-boton font-des-car\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250, textAlign: 'center' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => apartarCarrito()}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<HomeOutlined style={styles} /> Recoger en restaurante\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<ApartadoCarrito cliente={cliente} token={token} modal={[ visible, setVisible ]} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(MostrarDatosProductos);\r\n","  import React from 'react';\r\nimport aws from '../../../../config/aws';\r\nimport DOMPurify from 'dompurify';\r\nimport { Card } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './card_producto.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nexport default function Card_Producto(props) {\r\n\tconst { productos } = props;\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col-prin col-lg-2 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"border contenedor-card-producto-principal\">\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName=\"contenedor-card-body\"\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"oferta-frente\">\r\n\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-principal\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t\t<p className=\" titulo-producto\">{productos.productoPromocion.nombre}</p>\r\n\t\t\t\t\t\t\t\t{/* <div\r\n\t\t\t\t\t\t\t\t\tclassName=\"font-peque description\"\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.productoPromocion.descripcion)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/* <div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"font-peque precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<h3 className=\"font-prin precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<p className=\"font-peque porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>  */}\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card.Grid>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col-prin col-lg-2 col-6 centrar\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"border contenedor-card-producto-principal\">\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName=\"contenedor-card-body\"\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"oferta-frente\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>-{agregarPorcentaje(promo.precioPromocion, productos.precio)}%</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-principal\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-producto\">{productos.nombre}</p>\r\n\t\t\t\t\t\t\t\t{/* <div\r\n\t\t\t\t\t\t\t\t\tclassName=\"font-peque description \"\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.descripcion)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/* {!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"precio-prin precio-rebaja \">${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-peque precio-producto mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"font-prin precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)} */}\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card.Grid>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result, Row } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './Cards_Normales/card_producto.scss';\r\nimport Card_Producto from './Cards_Normales/card_producto';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction ConsultaProductos(props) {\r\n\tconst { location, history } = props.propiedades;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(40, page);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tasync function obtenerProductos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => {\r\n\t\treturn (<Card_Producto key={productos._id} productos={productos} />);\r\n\t});\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row float-left\">\r\n\t\t\t\t\t<p className=\"font-prin mb-0 text-center\">¡Conoce nuestro Menú!</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{render}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Pagination\r\n\t\t\t\tblogs={productosPaginacion}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 40}\r\n\t\t\t/>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default ConsultaProductos;\r\n","import React from 'react';\r\nimport ConsultaProductos from './consulta_productos';\r\n\r\nfunction Productos(props) {\r\n\treturn (\t\r\n\t\t<ConsultaProductos propiedades={props} />\r\n\t);\r\n}\r\n\r\nexport default Productos;\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport queryString from 'query-string';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nimport { List } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport DOMPurify from 'dompurify';\r\nimport './BlogList.scss';\r\n\r\nexport default function BlogList(props) {\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ blogs, setBlogs ] = useState([]);\r\n\r\n\tfunction getBlogsApi(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/blog?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetBlogs(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error del servidor',\r\n\t\t\t\t\tdescription: 'Paso algo en el servidor, al parecer la conexion esta fallando.'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tgetBlogsApi(10, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div id=\"blog\" className=\"container\">\r\n\t\t\t\t<p className=\"font-prin text-center p-3\">¡Nuestro Blog!</p>\r\n\t\t\t\t<div className=\"container-fluid bg-white shadow-lg\">\r\n\t\t\t\t\t<div id=\"cards\">\r\n\t\t\t\t\t\t<BlogsList2 blogs={blogs} setLoading={setLoading} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Pagination blogs={blogs} location={location} history={history} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction BlogsList2(props) {\r\n\tconst { blogs } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<List\r\n\t\t\t\tclassName=\"p-3\"\r\n\t\t\t\titemLayout=\"vertical\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tdataSource={blogs.docs}\r\n\t\t\t\trenderItem={(blog) => <Blog blog={blog} />}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Blog(props) {\r\n\tconst { blog } = props;\r\n\r\n\treturn (\r\n\t\t<Link to={`/blog/${blog.url}`} className=\"blogList\">\r\n\t\t\t<List.Item\r\n\t\t\t\tclassName=\"blogList__lista list-hover  mb-5\"\r\n\t\t\t\tkey={blog.nombre}\r\n\t\t\t\textra={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-blog-list\">\r\n\t\t\t\t\t\t<img className=\"imagen-blog-list\" alt={blog.nombre} src={aws + blog.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\ttitle={<p className=\"blogList__title titulo-blog\">{blog.nombre}</p>}\r\n\t\t\t\t\tdescription={<p className=\"blogList__author\">Autor: {blog.administrador}</p>}\r\n\t\t\t\t/>\r\n\t\t\t\t{\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={'blogList__content-description m-0'}\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(blog.descripcion) }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p>Leer mas</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</List.Item>\r\n\t\t</Link>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport Spin from '../../../../components/Spin';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\n\r\nimport './ShowBlog.scss';\r\n\r\nexport default function ShowBlog(props) {\r\n\tconst { url } = props;\r\n\tconst [ infoBlog, setInfoBlog ] = useState({});\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tasync function ObtenerBlog() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/blog/${url}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetInfoBlog(res.data.post);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tObtenerBlog();\r\n\t\t},\r\n\t\t[ url ]\r\n\t);\r\n\r\n\t/* var styleDivImagen = {\r\n\t\theight: '400px',\r\n\t\tbackgroundImage: `url(https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${infoBlog.imagen})`,\r\n\t\tbackgroundSize: 'cover cover',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundPosition: '50% 50%'\r\n\t}; */\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"info-blog bg-white shadow\">\r\n\t\t\t\t{/* <div className=\"info-blog__div-imagen\" style={styleDivImagen} /> */}\r\n\t\t\t\t<div className=\"contenedor-imagen-blog-principal\">\r\n\t\t\t\t\t<img className=\"imagen-blog-principal\" alt=\"imagen blog principal\" src={aws+infoBlog.imagen} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"p-5\">\r\n\t\t\t\t\t<h1 className=\"info-blog__titulo m-3\"> {infoBlog.nombre} </h1>\r\n\t\t\t\t\t<div className=\"info-blog__fecha m-3\"> {formatoFecha(infoBlog.createdAt)} </div>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"info-blog__descripcion\"\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: infoBlog.descripcion }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport BlogList from './services/BlogList'\r\nimport ShowBlog from './services/ShowBlog';\r\n\r\nimport {useParams} from 'react-router-dom'\r\n    \r\nexport default function Blog(props) {\r\n\r\n    const {location,history} = props;\r\n    const {url} = useParams();\r\n\r\n\r\n\r\n    return(\r\n        <div>\r\n            {url ? (\r\n                <ShowBlog  url={url} />\r\n            ):(\r\n                <BlogList location={location} history={history} />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Tag, Divider, Card, Result } from 'antd';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBus } from '@fortawesome/free-solid-svg-icons';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Meta } = Card;\r\n\r\nconst DetallesPedido = (props) => {\r\n\tconst { detallePedido } = props;\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles de Orden</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID de Orden: </h6>\r\n\t\t\t\t\t<p className=\"\"> {detallePedido._id} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de Orden:</h6>\r\n\t\t\t\t\t<p className=\"\"> {formatoFecha(detallePedido.createdAt)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">No. de productos:</h6>\r\n\t\t\t\t\t<p className=\"\">x {detallePedido.pedido.length} </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estatus de Orden:</h6>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\tclassName=\"my-2\"\r\n\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\tdetallePedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t) : detallePedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{detallePedido.estado_pedido}\r\n\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t\t\t\t<p className=\"text-danger my-2\">Pedido cancelado</p>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<p className=\"text-success my-2\">Pedido realizado</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-2\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t\t<p className=\"\"> $ {formatoMexico(detallePedido.total)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-2\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Tipo de pago:</h6>\r\n\t\t\t\t\t<p className=\"\"> {detallePedido.tipo_pago} </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Divider className=\"text-center\">Productos de Orden</Divider>\r\n\t\t\t<div className=\"row d-flex justify-content-center\">{detallePedido.pedido.map((producto) => <Producto key={producto._id} producto={producto} />)}</div>\r\n\r\n\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t''\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider className=\"text-center\">Seguimiento de pedido</Divider>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faBus} style={{ fontSize: '50px' }} />}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección de envio:</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`${detallePedido.cliente.direccion[0].calle_numero} Colonia ${detallePedido.cliente\r\n\t\t\t\t\t\t\t\t\t\t.direccion[0].colonia} ${detallePedido.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.ciudad} ${detallePedido.cliente.direccion[0].estado} ${detallePedido.cliente\r\n\t\t\t\t\t\t\t\t\t\t.direccion[0].pais}.`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`Referencia: ${detallePedido.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.entre_calles}. CP: ${detallePedido.cliente.direccion[0].cp}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Código de seguimiento: </span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={`${detallePedido.url}${detallePedido.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t{detallePedido.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos h4 mt-3\">Total: $ {formatoMexico(detallePedido.total)}</h6>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction Producto(props) {\r\n\tconst { producto } = props;\r\n\r\n\treturn (\r\n\t\t<div key={producto.producto._id} className=\"col-lg-4 col-sm-12 mb-3\">\r\n\t\t\t<Card\r\n\t\t\t\t/* hoverable */\r\n\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\tcover={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-pedido\">\r\n\t\t\t\t\t\t<img alt=\"example\" className=\"imagen-detalle-pedido\" src={aws + producto.producto.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\ttitle={producto.producto.nombre}\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h6 className=\"precio-rebaja\">Cantidad de articulos: {producto.cantidad}</h6>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t{producto.talla ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.talla}</h2>\r\n\t\t\t\t\t\t\t\t) : producto.numero ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.numero}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DetallesPedido;\r\n","import React from 'react';\r\nimport { Tag, Divider, Col, Card, Result } from 'antd';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBus } from '@fortawesome/free-solid-svg-icons';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Meta } = Card;\r\n\r\nexport default function detalleApartado(props) {\r\n\tconst { detalleApartado } = props;\r\n\tlet multiple;\r\n\r\n\tif (detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0) {\r\n\t\tmultiple = detalleApartado.apartadoMultiple.map((info) => {\r\n\t\t\tconst producto = detalleApartado.productosMultiple.map((producto) => {\r\n\t\t\t\tif (info.producto === producto._id) {\r\n\t\t\t\t\treturn <ProductosMultiple key={producto._id} producto={producto} info={info} />;\r\n\t\t\t\t}\r\n\t\t\t\treturn (<div key={producto._id} />)\r\n\t\t\t});\r\n\t\t\treturn producto;\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles de orden</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID de Orden: </h6>\r\n\t\t\t\t\t<p className=\"\"> {detalleApartado._id} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de Orden:</h6>\r\n\t\t\t\t\t<p className=\"\"> {formatoFecha(detalleApartado.createdAt)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estatus:</h6>\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\tdetalleApartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detalleApartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'Orden aceptada'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'Orden en proceso'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'Orden enviada'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'Orden entregada'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'Orden cancelada'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Tipo de entrega:</h6>\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\tcolor={detalleApartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Paqueteria:</h6>\r\n\t\t\t\t\t\t<p> {detalleApartado.paqueteria} </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envio:</h6>\r\n\t\t\t\t\t\t<p> {detalleApartado.fecha_envio} </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t<Divider className=\"text-center\">Productos de Orden</Divider>\r\n\r\n\t\t\t{detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0 ? (\r\n\t\t\t\t<div className=\"row d-flex justify-content-center\">{multiple}</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"row d-flex justify-content-center\">\r\n\t\t\t\t\t<Producto producto={detalleApartado} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider className=\"text-center\">Seguimiento de  Orden</Divider>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faBus} style={{ fontSize: '50px' }} />}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección de envio:</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`${detalleApartado.cliente.direccion[0].calle_numero} Colonia ${detalleApartado\r\n\t\t\t\t\t\t\t\t\t\t.cliente.direccion[0].colonia} ${detalleApartado.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.ciudad} ${detalleApartado.cliente.direccion[0].estado} ${detalleApartado\r\n\t\t\t\t\t\t\t\t\t\t.cliente.direccion[0].pais}.`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`Referencia: ${detalleApartado.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.entre_calles}. CP: ${detalleApartado.cliente.direccion[0].cp}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Codigó de seguimiento: </span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={`${detalleApartado.url}${detalleApartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t{detalleApartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t\t<div className=\"mt-3 d-flex justify-content-end\">\r\n\t\t\t\t{detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0 ? (\r\n\t\t\t\t\t<h3>Total: $ {formatoMexico(detalleApartado.total)}</h3>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h3>Total: $ {detalleApartado.precio ? formatoMexico(detalleApartado.precio) : formatoMexico(detalleApartado.producto.precio)}</h3>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Producto({ producto }) {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Col span={4} key={producto.producto._id} className=\"col-lg-12 col-sm-12\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\t/* hoverable */\r\n\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\tbodyStyle={{ paddingLeft: 15, paddingRight: 15 }}\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-detalle-apartado\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"example\"\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-detalle-apartado\"\r\n\t\t\t\t\t\t\t\tsrc={aws + producto.producto.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta\r\n\t\t\t\t\t\ttitle={producto.producto.nombre}\r\n\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t{producto.precio ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">${formatoMexico(producto.precio)}</h2>\r\n\t\t\t\t\t\t\t\t) : producto.promocion && producto.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.promocion[0].precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.producto.precio)}\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{producto.medida && producto.medida.length !== 0 ? producto.medida[0].talla ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.medida[0].talla}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.medida[0].numero}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction ProductosMultiple({ producto, info }) {\r\n\treturn (\r\n\t\t<div key={producto._id} className=\"col-lg-4 col-sm-12\">\r\n\t\t\t<Card\r\n\t\t\t\t/* hoverable */\r\n\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\tbodyStyle={{ paddingLeft: 15, paddingRight: 15 }}\r\n\t\t\t\tcover={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-detalle-apartado\">\r\n\t\t\t\t\t\t<img alt=\"example\" className=\"imagen-detalle-apartado\" src={aws + producto.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\ttitle={producto.nombre}\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">${formatoMexico(info.precio)}</h2>\r\n\t\t\t\t\t\t\t{info.medida ? info.medida.talla ? (\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {info.medida.talla}</h2>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {info.medida.numero}</h2>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { Tag, Button, List, Avatar, Tooltip } from 'antd';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport aws from '../../../config/aws';\r\n\r\nexport default function ApartadoMultiple({ apartado, showModal, setDetalleApartado, setElige, deleteApartado }) {\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={apartado._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top color-boton m-2 w-100\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetElige(true);\r\n\t\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tVer mi pedido\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENVIADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'd-none'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'd-flex justify-content-top align-items-top m-2 w-100'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tghost\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar pedido\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t<span className=\"text-primary\"> x {apartado.apartadoMultiple.length}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(apartado.total)} </span>{' '}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t<Tag className=\"\" color={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envío por paquetería' : 'Recoger a sucursal'}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center centrar-avatar\">\r\n\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\tmaxCount={1}\r\n\t\t\t\t\t\t\tsize={80}\r\n\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{apartado.productosMultiple.map((res) => (\r\n\t\t\t\t\t\t\t\t<Tooltip key={res._id} title={res.nombre} placement=\"top\">\r\n\t\t\t\t\t\t\t\t\t<Avatar src={aws + res.imagen} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-primary\"> x {apartado.apartadoMultiple.length}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(apartado.total)} </span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold m-0\">Fecha de apartado:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(apartado.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' && apartado.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Seguimiento:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{apartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${apartado.url}${apartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSeguír envío\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t¡Hola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{apartado.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tapartado.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu orden esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport DetallesPedido from './detalles';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport './pedidos.scss';\r\nimport DetalleApartado from './detalleApartado';\r\nimport { Modal, Tag, Button, List, Result, Tabs, notification, Avatar, Tooltip } from 'antd';\r\nimport { EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport aws from '../../../config/aws';\r\nimport Spin from '../../../components/Spin';\r\nimport ApartadoMultiple from './apartadoMultiple';\r\nimport detalleApartado from './detalleApartado';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { confirm } = Modal;\r\n\r\nexport default function PedidosUsuario(props) {\r\n\tconst [ pedidos, setPedidos ] = useState([]);\r\n\tconst [ apartados, setApartados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ Elige, setElige ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ showInfo, setshowInfo ] = useState(false);\r\n\tconst [ estado, setEstado ] = useState(false);\r\n\r\n\t//modal del pedido\r\n\tconst [ detallePedido, setDetallePedido ] = useState({});\r\n\tconst [ detalleApartado, setDetalleApartado ] = useState({});\r\n\r\n\tconst showModal = (e) => {\r\n\t\tsetVisible(e);\r\n\t};\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tconst obtenerPedidos = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetPedidos(res.data);\r\n\t\t\t\t\tsetshowInfo(true);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerApartados() {\r\n\t\t/* setLoading(true); */\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/apartado/cliente/apartados/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetApartados(res.data);\r\n\t\t\t\t\tsetshowInfo(true);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else {\r\n\t\t\t\tobtenerPedidos();\r\n\t\t\t\tobtenerApartados();\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tsetPedidos([]);\r\n\t\t\t\tsetshowInfo(false);\r\n\t\t\t\tsetEstado(false);\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ estado, token, props ]\r\n\t);\r\n\r\n\tconst deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error del servidor',\r\n\t\t\t\t\t\t\tdescription: 'Paso algo en el servidor, al parecer la conexion esta fallando.'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<h4 className=\"text-center m-3\">Mis Ordenes</h4>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tcentered\r\n\t\t\t\t\tclassName=\"shadow bg-white rounded tabs-colors\"\r\n\t\t\t\t\tdefaultActiveKey=\"1\"\r\n\t\t\t\t\ttype=\"card\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<TabPane tab=\"Envios a domicilio\" key=\"1\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{showInfo !== true ? (\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Parece que aun no tienes Ordenes\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Ve y realiza tus compras. ¿Que esperas?\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={pedidos}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(pedido) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Pedido\r\n\t\t\t\t\t\t\t\t\t\t\t\tpedido={pedido}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDetallePedido={setDetallePedido}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"Recoger en restaurante\" key=\"2\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{showInfo !== true ? (\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Parece que aun no tienes Ordenes\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Ve y realiza tus compras para poder verlas\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={apartados}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(apartado) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (apartado.apartadoMultiple && apartado.apartadoMultiple.length !== 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ApartadoMultiple\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteApartado={deleteApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Apartado\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteApartado={deleteApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t</Tabs>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"detalle\"\r\n\t\t\t\twidth={900}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={() => {\r\n\t\t\t\t\tshowModal(false);\r\n\t\t\t\t}}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t{Elige === true ? (\r\n\t\t\t\t\t<DetalleApartado detalleApartado={detalleApartado} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<DetallesPedido detallePedido={detallePedido} />\r\n\t\t\t\t)}\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction Pedido(props) {\r\n\tconst { pedido, showModal, setDetallePedido, setElige, detallePedido } = props;\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={pedido._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top color-boton\"\r\n\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetElige(false);\r\n\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\tsetDetallePedido(pedido);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\tVer mi orden\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t<span className=\"text-primary\"> x {pedido.pedido.length}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de pago: </span>\r\n\t\t\t\t\t<span className=\"text-primary\"> {pedido.tipo_pago}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(pedido.total)}</span>{' '}\r\n\t\t\t\t</p>\r\n\t\t\t\t\r\n\t\t\t\t{/* <p className=\"h6\"><span className=\"font-weight-bold\">Pedido el:</span> {formatoFecha(pedido.createdAt)}</p> */}\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Pedido:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tpedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : pedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\" d-flex justify-content-center\" style={{ width: 200 }}>\r\n\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\tmaxCount={1}\r\n\t\t\t\t\t\t\tsize={90}\r\n\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{pedido.pedido.map((res) => (\r\n\t\t\t\t\t\t\t\t<Tooltip key={res.producto._id} title={res.producto.nombre} placement=\"top\">\r\n\t\t\t\t\t\t\t\t\t<Avatar src={aws + res.producto.imagen} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\tProductos: <span className=\"text-primary\"> x {pedido.pedido.length}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estatus:</span>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\t\tpedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t\t) : pedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Total de la compra:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(pedido.total)}</span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de pago: </span> <br/>\r\n\t\t\t\t\t\t\t\t<span > {pedido.tipo_pago}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Fecha de pedido:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(pedido.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* \t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">Pedido no realizado </p>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tComprar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-success\">Pedido realizado</p>\r\n\t\t\t\t\t\t\t\t\t\t{pedido.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Seguimiento: {pedido.codigo_seguimiento} </p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a href={`${pedido.url}${pedido.codigo_seguimiento}`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeguir envio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t¡Hola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{pedido.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tpedido.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n\r\nfunction Apartado({ apartado, showModal, setDetalleApartado, setElige, deleteApartado }) {\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={apartado._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top m-2 w-100 color-boton\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetElige(true);\r\n\t\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tVer mi pedido\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENVIADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'd-none'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'd-flex justify-content-top align-items-top m-2 w-100'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tghost\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar pedido\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Producto:</span>\r\n\t\t\t\t\t<span className=\"ml-1\">{apartado.producto.nombre}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Precio:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\">\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t$ {apartado.precio ? (\r\n\t\t\t\t\t\t\tformatoMexico(apartado.precio)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(apartado.producto.precio)\r\n\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t</span>{' '}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t<Tag className=\"\" color={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envío por paquetería' : 'Recoger a sucursal'}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center centrar-avatar\">\r\n\t\t\t\t\t\t<Avatar src={aws + apartado.producto.imagen} size={80} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Producto:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"\"> {apartado.producto.nombre}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Precio:</span>{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\">\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t${' '}\r\n\t\t\t\t\t\t\t\t\t{apartado.precio ? (\r\n\t\t\t\t\t\t\t\t\t\tformatoMexico(apartado.precio)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tformatoMexico(apartado.producto.precio)\r\n\t\t\t\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold m-0\">Fecha de apartado:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(apartado.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' && apartado.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Seguimiento:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{apartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${apartado.url}${apartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSeguír envío\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t¡Hola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{apartado.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tapartado.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Result, Row } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './ofertas.scss';\r\nimport Card_Producto from '../Productos/Cards_Normales/card_producto'\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction Ofertas(props) {\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(40, page);\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tasync function obtenerProductos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t< Card_Producto key={productos._id} productos={productos} />\r\n\t));\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t<p className=\"font-prin mb-0 text-center\">¡Encuentra ofertas todos los días!</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{render}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(Ofertas);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result, Row } from 'antd';\r\nimport Card_Producto from '../Productos/Cards_Normales/card_producto';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction ResultadoBusqueda(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst url = props.match.params.url;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function obtenerProductosFiltrados() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.get(\r\n\t\t\t\t\t\t`/productos/search?nombre=${url}&categoria=${url}&subcategoria=${url}&genero=${url}&color=${url}&temporada=${url}`\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tobtenerProductosFiltrados();\r\n\t\t},\r\n\t\t[ url ]\r\n\t);\r\n\r\n\tconst render = productos.map((productos) => <Card_Producto key={productos._id} productos={productos} />);\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<h3 className=\"ml-5 mt-4 mb-4 font-prin\">\r\n\t\t\t\t{productos.length} resultados de la busqueda \"{url}\"\r\n\t\t\t</h3>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{render}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default ResultadoBusqueda;\r\n","import React, { useCallback, useEffect, useState, useContext } from 'react';\r\nimport { Form, Input, Divider, Button, Avatar, notification } from 'antd';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport jwt_decode from 'jwt-decode';\r\nimport aws from '../../../../config/aws';\r\nimport './ActualizarUsuario.scss';\r\n\r\nexport default function ActualizarUsuario(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { datosUser, decoded, token, setLoading, setAccion } = props;\r\n\r\n\tconst [ avatar, setAvatar ] = useState(null);\r\n\tconst [ enviarFile, setEnviarFile ] = useState([]);\r\n\tconst [ datosFormulario, setdatosFormulario ] = useState({});\r\n\r\n\tconst [ password, setPassword ] = useState({});\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst mostrarDatosUser = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tif (decoded.imagen) {\r\n\t\t\t\t\tsetAvatar({\r\n\t\t\t\t\t\tpreview: aws+decoded.imagen\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tlet direccion = {};\r\n\t\t\t\tif (datosUser.direccion.length > 0) {\r\n\t\t\t\t\tdireccion = datosUser.direccion[0];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmostrarDatosUser({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t\tsetdatosFormulario({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tasync function enviarDatosUser() {\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tif (password.contrasenaActual) {\r\n\t\t\tif (password.contrasena && password.repeatContrasena) {\r\n\t\t\t\tif (password.contrasena === password.repeatContrasena) {\r\n\t\t\t\t\tformData.append('contrasena', password.contrasena);\r\n\t\t\t\t\tformData.append('repeatContrasena', password.repeatContrasena);\r\n\t\t\t\t\tformData.append('contrasenaActual', password.contrasenaActual);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Las contrasenas no son iguales',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tformData.append('nombre', datosFormulario.nombre);\r\n\t\tformData.append('apellido', datosFormulario.apellido);\r\n\t\tformData.append('email', datosFormulario.email);\r\n\t\tformData.append('telefono', datosFormulario.telefono);\r\n\t\tformData.append('calle_numero', datosFormulario.calle_numero);\r\n\t\tformData.append('entre_calles', datosFormulario.entre_calles);\r\n\t\tformData.append('cp', datosFormulario.cp);\r\n\t\tformData.append('colonia', datosFormulario.colonia);\r\n\t\tformData.append('ciudad', datosFormulario.ciudad);\r\n\t\tformData.append('estado', datosFormulario.estado);\r\n\t\tformData.append('pais', datosFormulario.pais);\r\n\r\n\t\tif (decoded.tipoSesion === 'APIRestAB') {\r\n\t\t\tformData.append('imagen', enviarFile);\r\n\t\t}\r\n\t\tsetAccion(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\tlocalStorage.setItem('token', res.data.token);\r\n\t\t\t\t\t/* window.location.reload(); */\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\tconst decoded = jwt_decode(res.data.token);\r\n\t\t\t\t\tsetAvatar({\r\n\t\t\t\t\t\tpreview: aws+decoded.imagen\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (decoded === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetdatosFormulario({\r\n\t\t\t...datosFormulario,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst datosPassword = (e) => {\r\n\t\tsetPassword({\r\n\t\t\t...password,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Form layout=\"horizontal\" size={'large'} form={form} onFinish={enviarDatosUser}>\r\n\t\t\t\t{decoded.tipoSesion !== 'APIRestAB' ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"upload-user-perfil\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-circle\"\r\n\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\tsrc={decoded.imagenFireBase}\r\n\t\t\t\t\t\t\t\tstyle={{ width: '200px' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<UploadAvatar\r\n\t\t\t\t\t\tavatar={avatar}\r\n\t\t\t\t\t\tsetAvatar={setAvatar}\r\n\t\t\t\t\t\tnombre={decoded.nombre}\r\n\t\t\t\t\t\tsetEnviarFile={setEnviarFile}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Divider style={{ fontSize: 22 }}>Información Personal</Divider>\r\n\r\n\t\t\t\t<h5>Nombre:</h5>\r\n\t\t\t\t<Form.Item name=\"nombre\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Nombre obligatorio' } ]} noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Apellidos:</h5>\r\n\t\t\t\t<Form.Item name=\"apellido\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"apellido\" placeholder=\"Apellidos\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Email:</h5>\r\n\t\t\t\t<Form.Item name=\"email\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Correo electronico obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"email\" placeholder=\"Correo electronico\" disabled />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Telefono:</h5>\r\n\t\t\t\t<Form.Item name=\"telefono\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Telefono obligatorio' } ]} noStyle name=\"telefono\">\r\n\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"+52 3171234567\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Divider className=\"mt-5\" style={{ fontSize: 22 }}>\r\n\t\t\t\t\tDatos domiciliarios\r\n\t\t\t\t</Divider>\r\n\r\n\t\t\t\t<h5>Direccion:</h5>\r\n\t\t\t\t<Form.Item name=\"calle_numero\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"calle_numero\" placeholder=\"Calle y numero de calle\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Referencia:</h5>\r\n\t\t\t\t<Form.Item name=\"entre_calles\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"entre_calles\" placeholder=\"Calles de referencia\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Codigo postal:</h5>\r\n\t\t\t\t<Form.Item name=\"cp\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Codigo postal obligatorio' } ]} noStyle name=\"cp\">\r\n\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Colonia:</h5>\r\n\t\t\t\t<Form.Item name=\"colonia\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Colonia obligatoria' } ]} noStyle name=\"colonia\">\r\n\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Ciudad: </h5>\r\n\t\t\t\t<Form.Item name=\"ciudad\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Localidad obligatoria' } ]} noStyle name=\"ciudad\">\r\n\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Localidad\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Estado:</h5>\r\n\t\t\t\t<Form.Item name=\"estado\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Estado obligatoria' } ]} noStyle name=\"estado\">\r\n\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>País:</h5>\r\n\t\t\t\t<Form.Item name=\"pais\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'País obligatoria' } ]} noStyle name=\"pais\">\r\n\t\t\t\t\t\t<Input name=\"pais\" placeholder=\"País\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t{decoded.tipoSesion === 'FireBase' ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Divider style={{ fontSize: 22 }}>Contraseña</Divider>\r\n\t\t\t\t\t\t<h5>Contraseña Actual:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"contrasenaActual\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"contrasenaActual\" placeholder=\"Contraseña actual\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<h5>Contraseña:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"contrasena\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"contrasena\" placeholder=\"Contraseña\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<h5>Confirmar Contraseña:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"repeatContrasena\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"repeatContrasena\" placeholder=\"Confirmar contraseña\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"d-flex justify-content-center pb-3\">\r\n\t\t\t\t\t<Button htmlType=\"submit\" className=\"color-boton color-font-boton\" size=\"large\" style={{ width: 150, fontSize: 20 }}>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction UploadAvatar(props) {\r\n\tconst { avatar, setAvatar, nombre, setEnviarFile } = props;\r\n\r\n\tconst onDrop = useCallback(\r\n\t\t(acceptedFiles) => {\r\n\t\t\tconst file = acceptedFiles[0];\r\n\t\t\tsetAvatar({ file, preview: URL.createObjectURL(file) });\r\n\t\t\tsetEnviarFile(file);\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ setAvatar ]\r\n\t);\r\n\r\n\tconst { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n\t\taccept: 'image/jpg, image/png, image/jpeg',\r\n\t\tnoKeyboard: true,\r\n\t\tonDrop\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Divider className=\"\" style={{ fontSize: 22 }}>\r\n\t\t\t\tImagen de perfil\r\n\t\t\t</Divider>\r\n\t\t\t<div className=\"upload-user-perfil\" {...getRootProps()}>\r\n\t\t\t\t<input {...getInputProps()} />\r\n\t\t\t\t{isDragActive ? (\r\n\t\t\t\t\t<Avatar size={200} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p className=\"\" style={{ fontSize: 150 }}>\r\n\t\t\t\t\t\t\t{nombre.charAt(0)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t) : avatar ? (\r\n\t\t\t\t\t<Avatar size={200} src={avatar.preview} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p style={{ fontSize: 150 }}>{nombre.charAt(0)}</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Avatar size={200} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p style={{ fontSize: 150 }}>{nombre.charAt(0)}</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport axios from 'axios'\r\n\r\nimport { Form, Input, Button, Result, notification, Alert } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\r\nimport Spin from '../../../../components/Spin';\r\n\r\n\r\nimport '../confirmacion.scss';\r\n\r\nconst consultaCodigos = axios.create({\r\n    baseURL : `https://api-sepomex.hckdrk.mx/query/`\r\n})\r\n\r\nexport default function Traer_datos(props) {\r\n\r\n\tconst {setValue} =  props;\r\n\r\n\tconst { datosUser, decoded, setCurrent, current, setDatosActualizados, token } = props;\r\n\tconst [ datosFormulario, setdatosFormulario ] = useState({});\r\n\r\n\tconst [envioRechadazo, setEnvioRechazado] = useState(\"\");\r\n\tconst [envioTotal, setEnvioTotal] = useState(false);\r\n    const [alertRechazo, setAlertRechazo] = useState(false);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst mostrarDatosUser = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tlet direccion = {};\r\n\t\t\t\tif (datosUser.direccion.length > 0) {\r\n\t\t\t\t\tdireccion = datosUser.direccion[0];\r\n\t\t\t\t}\r\n\t\t\t\tmostrarDatosUser({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t\tsetdatosFormulario({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tasync function envios() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/politicasEnvio/estados/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.map((total) => {\r\n\t\t\t\t\tsetEnvioTotal(total);\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: ''\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tenvios();\r\n\t}, [])\r\n\r\n\tfunction enviarDatosUser() { \r\n\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tformData.append('nombre', datosFormulario.nombre);\r\n\t\tformData.append('apellido', datosFormulario.apellido);\r\n\t\tformData.append('email', datosFormulario.email);\r\n\t\tformData.append('telefono', datosFormulario.telefono);\r\n\t\tformData.append('calle_numero', datosFormulario.calle_numero);\r\n\t\tformData.append('entre_calles', datosFormulario.entre_calles);\r\n\t\tformData.append('cp', datosFormulario.cp);\r\n\t\tformData.append('colonia', datosFormulario.colonia);\r\n\t\tformData.append('ciudad', datosFormulario.ciudad);\r\n\t\tformData.append('estado', datosFormulario.estado);\r\n\t\tformData.append('pais', datosFormulario.pais);\r\n\r\n\t\tsetLoading(true);\r\n\t\tif (envioTotal.todos === true || envioTotal === false) {\r\n\t\t\tclienteAxios\r\n\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosActualizados(datosFormulario);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif(error.response){\r\n\t\t\t\t\tif (error.response.status === 404 || error.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: `${error.response.data.message}`,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Error de conexion',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tconsultaCodigos\r\n\t\t\t.get(`/info_cp/${datosFormulario.cp}`)\r\n\t\t\t.then((res) => {\r\n\t\t\tconst data = res.data[0].response.municipio;\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.get(`/politicasEnvio/estado/municipio/${data}`)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tclienteAxios\r\n\t\t\t\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetDatosActualizados(datosFormulario);\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tif(error.response){\r\n\t\t\t\t\t\t\t\tif (error.response.status === 404 || error.response.status === 500) {\r\n\t\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\t\t\tdescription: `${error.response.data.message}`,\r\n\t\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\t\t\tdescription: 'Error de conexion',\r\n\t\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t\t\t\t'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetEnvioRechazado(err.response.data.message);\r\n\t\t\t\t\t\tsetAlertRechazo(true);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: 'El codigo postal insertado no existe'\r\n\t\t\t\t});\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\tif (decoded === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetdatosFormulario({\r\n\t\t\t...datosFormulario,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"shadow-lg bg-white rounded\">\r\n\t\t\t\t<Form className=\"mt-5\" layout=\"horizontal\" size={'middle'} form={form} onFinish={enviarDatosUser}>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\tclassName=\"m-0\"\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faUser} style={{ fontSize: '100px' }} />}\r\n\t\t\t\t\t\textra={\r\n\t\t\t\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Nombre:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"nombre\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Nombre obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Apellidos:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"apellido\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"apellido\" placeholder=\"Apellidos\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Teléfono:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"telefono\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Telefono obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"+52 3171234567\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"calle_numero\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Calle y numero de calle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Referencia:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"entre_calles\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"entre_calles\" placeholder=\"Calles de referencia\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Código postal:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"cp\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Codigo postal obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cp\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Colonia:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"colonia\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Colonia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"colonia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Ciudad:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"ciudad\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Localidad obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Localidad\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Estado:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"estado\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Estado obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"estado\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">País:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"pais\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'País obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"pais\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"pais\" placeholder=\"País\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t {\r\n                    alertRechazo === true ? (\r\n                        <Alert\r\n                            className=\"mt-2 text-center\"\r\n                            message=\"Lo sentimos\"\r\n                            description={envioRechadazo}\r\n                            type=\"error\"\r\n                            showIcon\r\n                        />\r\n                    ) : (\r\n                        <div />\r\n                    )\r\n                \t}\r\n\t\t\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center p-3\">\r\n\t\t\t\t\t\t<Button className=\"color-boton\" htmlType=\"submit\" size=\"large\">\r\n\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n\tCardNumberElement,\r\n\tCardCvcElement,\r\n\tCardExpiryElement,\r\n\tElements,\r\n\tuseElements,\r\n\tuseStripe\r\n} from '@stripe/react-stripe-js';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\n\r\nimport { Form, Button, notification } from 'antd';\r\n\r\nimport './Animacion_Tarjeta.scss';\r\n\r\nimport img_visa from '../img/logos/visa.png';\r\nimport img_mastercard from '../img/logos/mastercard.png';\r\nimport chip_tarjeta from '../img/chip-tarjeta.png';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nexport default function Verificacion_Tarjeta(props) {\r\n    const {setIdPago,prev,setCurrent,current} = props;\r\n    const stripePromise = loadStripe(process.env.REACT_APP_STRIPE_LLAVE);\r\n    return (\r\n        <div>\r\n            <Elements stripe={stripePromise}>\r\n                <CheckoutForm prev={prev} setCurrent={setCurrent} current={current} setIdPago={setIdPago} />\r\n            </Elements>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CheckoutForm = (props) => {\r\n\tconst { prev, setCurrent, current, setIdPago } = props;\r\n\tconst stripe = useStripe();\r\n\tconst elements = useElements();\r\n\r\n\tconst [ name, setName ] = useState('');\r\n\tconst [ postal, setPostal ] = useState('');\r\n\t/* \tconst [ loading, setLoading ] = useState(false); */\r\n\r\n\tconst [ typeCard, setTypeCard ] = useState('visa');\r\n\tconst [ numbrerCard, setNumbrerCard ] = useState('');\r\n\tconst [ dateCard1, setDateCard1 ] = useState('');\r\n\tconst [ dateCard2, setDateCard2 ] = useState('');\r\n\tconst [ activeCard, setActiveCard ] = useState('');\r\n\tconst [ controlClick, setcontrolClick ] = useState(false);\r\n\tconst [ cvvCard, setCvvCard ] = useState('---');\r\n\r\n\tuseEffect(() => {\r\n\t\tsetTypeCard('visa');\r\n\t\tsetNumbrerCard('');\r\n\t\tsetActiveCard('');\r\n\t}, []);\r\n\r\n\tconst rotartarjeta = () => {\r\n\t\tif (!controlClick) {\r\n\t\t\tsetActiveCard('active');\r\n\t\t\tsetcontrolClick(true);\r\n\t\t} else {\r\n\t\t\tsetActiveCard('');\r\n\t\t\tsetcontrolClick(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst cardOnChage = (e) => {\r\n\t\tsetActiveCard('');\r\n\t\tif (e.brand === 'visa') {\r\n\t\t\tsetTypeCard('visa');\r\n\t\t} else {\r\n\t\t\tsetTypeCard('mastercard');\r\n\t\t}\r\n\t\tif (!e.complete) {\r\n\t\t\tsetNumbrerCard('#### ### - incomplet');\r\n\t\t} else {\r\n\t\t\tsetNumbrerCard('#### #### #### ####');\r\n\t\t}\r\n\t};\r\n\r\n\tconst cardDateOnChange = (e) => {\r\n\t\tsetActiveCard('');\r\n\t\tif (e.complete) {\r\n\t\t\tsetDateCard2('AA');\r\n\t\t} else {\r\n\t\t\tsetDateCard1('MM');\r\n\t\t}\r\n\t};\r\n\r\n\tconst cvvChange = (e) => {\r\n\t\tsetActiveCard('active');\r\n\t\tif (e.complete) {\r\n\t\t\tsetCvvCard('###');\r\n\t\t} else {\r\n\t\t\tsetCvvCard('##-');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSubmit = async () => {\r\n\t\tif (!stripe || !elements) {\r\n\t\t\t// Stripe.js has not loaded yet. Make sure to disable\r\n\t\t\t// form submission until Stripe.js has loaded.\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst cardElement = elements.getElement(CardNumberElement);\r\n\r\n\t\tconst payload = await stripe.createPaymentMethod({\r\n\t\t\ttype: 'card',\r\n\t\t\tcard: cardElement,\r\n\t\t\tbilling_details: {\r\n\t\t\t\tname,\r\n\t\t\t\taddress: {\r\n\t\t\t\t\tpostal_code: postal\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (payload.error) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Parece que hubo un error con tu tarjeta.'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetIdPago(payload.paymentMethod);\r\n\t\t\tsetCurrent(current + 1);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={!stripe}>\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t<div className=\"contenedor \">\r\n\t\t\t\t\t<section\r\n\t\t\t\t\t\tclassName={`tarjeta ${activeCard} d-none d-md-none d-lg-block`}\r\n\t\t\t\t\t\tid=\"tarjeta\"\r\n\t\t\t\t\t\tonClick={rotartarjeta}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"delantera\">\r\n\t\t\t\t\t\t\t<div className=\"logo-marca\" id=\"logo-marca\">\r\n\t\t\t\t\t\t\t\t<img src={typeCard === 'visa' ? img_visa : img_mastercard} alt=\"\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<img src={chip_tarjeta} className=\"chip\" alt=\"\" />\r\n\t\t\t\t\t\t\t<div className=\"datos\">\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"numero\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">Número Tarjeta</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"numero\"> {numbrerCard} </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"flexbox\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"nombre\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"label\">Nombre Tarjeta</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"nombre\"> {name} </p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"expiracion\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"label\">Expiración</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"expiracion\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"mes\"> {dateCard1} </span> {dateCard1 ? '/' : ''}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"year\"> {dateCard2} </span>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"trasera w-100\">\r\n\t\t\t\t\t\t\t<div className=\"barra-magnetica\" />\r\n\t\t\t\t\t\t\t<div className=\"datos\">\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"firma\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">Firma</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"firma\">\r\n\t\t\t\t\t\t\t\t\t\t<p>{name}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"ccv\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">CCV</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ccv\"> {cvvCard} </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</section>\r\n\r\n\t\t\t\t\t<Form onFinish={handleSubmit} className=\"active mt-5\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cardNumber\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tNúmero Tarjeta\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardNumberElement\r\n\t\t\t\t\t\t\t\t\tid=\"cardNumber\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => cardOnChage(e)}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '18px',\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#424770',\r\n\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.025em',\r\n\t\t\t\t\t\t\t\t\t\t'::placeholder': {\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#aab7c4'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"name\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tNombre\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Nombre del propietario\"\r\n\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetName(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetActiveCard('');\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row mt-3\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"expiry\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tExpiración\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardExpiryElement\r\n\t\t\t\t\t\t\t\t\tid=\"expiry\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => cardDateOnChange(e)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cvc\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tCVC\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardCvcElement\r\n\t\t\t\t\t\t\t\t\tid=\"cvc\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tcvvChange(e);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('active')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"postal\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tCódigo postal\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"postal\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"12345\"\r\n\t\t\t\t\t\t\t\t\tvalue={postal}\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetPostal(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetActiveCard('');\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tonClick={prev}\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tdisabled={!stripe}\r\n\t\t\t\t\t\t\t\tclassName=\"m-1 color-boton\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button htmlType=\"submit\" size=\"large\" disabled={!stripe} className=\"m-1 color-boton\">\r\n\t\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n","/* eslint-disable jsx-a11y/alt-text */\r\nimport React from 'react';\r\nimport { List } from 'antd';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\nimport '../confirmacion.scss';\r\n\r\nexport default function Traer_pedido(props) {\r\n\tconst { datosPedido, pedidoCompleto, datosEnvio } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* <h1 className=\"text-center\">Tu pedido:</h1> */}\r\n\t\t\t<div className=\"d-flex justify-content-end text-right px-4 mr-2 mt-3 info-pedido\">\r\n\t\t\t\t<div className=\"__subs\">\r\n\t\t\t\t\t{datosEnvio.descuento ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"h6 font-weight-bold\">Descuento de: $ {datosEnvio.descuento}</p> */}\r\n\t\t\t\t\t\t\t{/* <p className=\"text-success h6 font-weight-bold\">El descuento si aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"text-danger h6 font-weight-bold\">El descuento no aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"text-danger h6 font-weight-bold\">El descuento no aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{datosEnvio.costoEnvio ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold d-inline\">\r\n\t\t\t\t\t\t\t\tCosto envío:{' '}\r\n\t\t\t\t\t\t\t\t{/* <p className=\"d-inline\" style={{ textDecoration: 'line-through' }}>\r\n\t\t\t\t\t\t\t\t\t$ {datosEnvio.costoEnvio}\r\n\t\t\t\t\t\t\t\t</p> */}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold text-success d-inline\">Envío gratis </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">Costo envío: $ {datosEnvio.costoEnvio} </p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<p className=\"mt-4 h4 font-weight-bold\">\r\n\t\t\t\t\t\tTotal: ${' '}\r\n\t\t\t\t\t\t{datosEnvio.descuento ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio - datosEnvio.descuento)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<List\r\n\t\t\t\t\tclassName=\"p-3 info-pedido\"\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tdataSource={datosPedido}\r\n\t\t\t\t\trenderItem={(producto) => <Productos pedido={producto} />}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Productos(props) {\r\n\tconst { pedido } = props;\r\n\treturn (\r\n\t\t<List.Item className=\"c0\">\r\n\t\t\t<div className=\"row c1\">\r\n\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\tsrc={aws+pedido.producto.imagen}\r\n\t\t\t\t\t\t\t\theight=\"80\"\r\n\t\t\t\t\t\t\t\twidth=\"80\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle={<p className=\"__nombres\">{pedido.producto.nombre}</p>}\r\n\t\t\t\t\t\tdescription={<p className=\"__categ\">{pedido.producto.categoria}</p>}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\" col-lg-3\">\r\n\t\t\t\t\t<p className=\"__tupedido\">Cantidad: {pedido.cantidad}</p>\r\n\r\n\t\t\t\t\t{pedido.producto.tipoCategoria === 'calzado' ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Medida: {pedido.numero}</p>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Color: {pedido.producto.color}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{pedido.producto.tipoCategoria === 'ropa' ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Talla: {pedido.talla}</p>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Color: {pedido.producto.color}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\" col-lg-2\">\r\n\t\t\t\t\t<p style={{ fontSize: '20px', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t${formatoMexico(pedido.cantidad * pedido.precio)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport Traer_pedido from './traer_pedido';\r\nimport { Button, notification } from 'antd';\r\nimport { AlertOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCcVisa, faCcMastercard } from '@fortawesome/free-brands-svg-icons';\r\nimport { faTruck } from '@fortawesome/free-solid-svg-icons';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nimport './Confirnacion_Final.scss';\r\n\r\nexport default function Confirmacion_Final(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst {\r\n\t\tdatosPedido,\r\n\t\tidPago,\r\n\t\tpedidoCompleto,\r\n\t\ttoken,\r\n\t\thistory,\r\n\t\tdatosActualizados,\r\n\t\tpagoTarjeta,\r\n\t\tcurrent,\r\n\t\tsetCurrent\r\n\t} = props;\r\n\tconst [ direccion, setDireccion ] = useState({});\r\n\tconst [ datosEnvio, setDatosEnvio ] = useState({});\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDireccion(datosActualizados);\r\n\t\ttraerCostosEnvio();\r\n\t\tsetLoading(true);\r\n\t}, []);\r\n\r\n\tconst traerCostosEnvio = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosEnvio(res.data);\r\n\t\t\t\tif (res.data.descuento) {\r\n\t\t\t\t\tif (pedidoCompleto.total >= res.data.promocionEnvio) {\r\n\t\t\t\t\t\tsetTotal(\r\n\t\t\t\t\t\t\tparseFloat(pedidoCompleto.total) +\r\n\t\t\t\t\t\t\t\tparseFloat(res.data.costoEnvio) -\r\n\t\t\t\t\t\t\t\tparseFloat(res.data.descuento)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetTotal(parseFloat(pedidoCompleto.total) + parseFloat(res.data.costoEnvio));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTotal(parseFloat(pedidoCompleto.total) + parseFloat(res.data.costoEnvio));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {});\r\n\t};\r\n\r\n\tconst crearPagoEnEfectivo = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\ttotal\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/pedido/total/${pedidoCompleto._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(async (res) => {\r\n\t\t\t\tlet centavo = Math.round(100 * parseFloat(total));\r\n\t\t\t\tconst newPedido = pedidoCompleto;\r\n\t\t\t\tnewPedido.total = total;\r\n\t\t\t\tconst datosPago = {\r\n\t\t\t\t\tpedidoCompleto: newPedido\r\n\t\t\t\t};\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.post('/pedidos/entrega/realizado', datosPago, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\thistory.push(`/success/${pedidoCompleto._id}`);\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tconsole.log(error.response);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif (error.response) {\r\n\t\t\t\t\t\t\thistory.push(`/error/${pedidoCompleto._id}/${error.response.data.message}`);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\thistory.push(`/error/${pedidoCompleto._id}`);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst crearPago = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\ttotal\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/pedido/total/${pedidoCompleto._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(async (res) => {\r\n\t\t\t\tlet centavo = Math.round(100 * parseFloat(total));\r\n\t\t\t\tconst newPedido = pedidoCompleto;\r\n\t\t\t\tnewPedido.total = total;\r\n\t\t\t\tconst datosPago = {\r\n\t\t\t\t\tsesionStripe: idPago,\r\n\t\t\t\t\tpedidoCompleto: newPedido,\r\n\t\t\t\t\tamount: centavo\r\n\t\t\t\t};\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.post('/pago/', datosPago, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\thistory.push(`/success/${pedidoCompleto._id}`);\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif (error.response) {\r\n\t\t\t\t\t\t\thistory.push(`/error/${pedidoCompleto._id}/${error.response.data.err.code}`);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\thistory.push(`/error/${pedidoCompleto._id}`);\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<h3 className=\"font-weight-bold\">Resumen de compra</h3>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"shadow-lg bg-white rounded confirmacion_final\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-6 info-domicilio\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-direccion-conf shadow-sm\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"h4 font-weight-bold\">Dirección de envío</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row m-0\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-none text-center icono-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faTruck}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '50px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-9 col-sm-12 m-sm-2 contenido-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.calle_numero}, {direccion.entre_calles}, {direccion.colonia},{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.ciudad}, {direccion.estado}, {direccion.pais}, CP{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.cp}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"shadow-sm contenedor-info-pago\">\r\n\t\t\t\t\t\t\t\t<p className=\"h4 font-weight-bold\">Información de pago</p>\r\n\t\t\t\t\t\t\t\t{pagoTarjeta ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"row my-3 mx-0\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-12 text-center icono-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={'visa'}\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={idPago.card.brand === 'visa' ? faCcVisa : faCcMastercard}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '50px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-7 m-2 contenido-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo tarjeta:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{idPago.card.funding}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tarjeta:</span> *********{idPago.card.last4}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Expira:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{idPago.card.exp_month}/{idPago.card.exp_year}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"m-3\">\r\n\t\t\t\t\t\t\t\t\t\t<h6>*Pago en efectivo</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<Traer_pedido\r\n\t\t\t\t\t\t\tsetTotal={setTotal}\r\n\t\t\t\t\t\t\tdatosEnvio={datosEnvio}\r\n\t\t\t\t\t\t\tdatosPedido={datosPedido}\r\n\t\t\t\t\t\t\tpedidoCompleto={pedidoCompleto}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t{!pagoTarjeta ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName=\"color-boton my-5\"\r\n\t\t\t\t\t\t\tstyle={{ width: 200, textAlign: 'center' }}\r\n\t\t\t\t\t\t\tonClick={() => setCurrent(current - 2)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tclassName=\"ml-3 color-boton d-flex justify-content-center align-items-center my-5\"\r\n\t\t\t\t\t\tstyle={{ width: 200, textAlign: 'center' }}\r\n\t\t\t\t\t\tonClick={() => (pagoTarjeta ? crearPago() : crearPagoEnEfectivo())}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<AlertOutlined  style={{ fontSize: 20 }} /> Odenar ahora\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Button, Radio } from 'antd';\r\nimport { CreditCardOutlined, DollarCircleOutlined } from '@ant-design/icons';\r\n\r\nexport default function TipoPago({ prev, current, setCurrent, pagoTarjeta, setPagoTarjeta }) {\r\n\t\r\n    const elegirTipoPago = (e) => setPagoTarjeta(e.target.value);\r\n\r\n    const onNext = () => {\r\n        if(pagoTarjeta){\r\n            setCurrent(current +1);\r\n        }else{\r\n            setCurrent(current +2);\r\n        }\r\n    }\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"text-center my-5\">\r\n                <h4>Elige el tipo de pago</h4>\r\n            </div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n                <div>\r\n                    <Radio.Group onChange={elegirTipoPago} value={pagoTarjeta}>\r\n                        <Radio className=\"d-flex justify-content-center align-items-center my-4\" value={false}>\r\n                            <h5>Pago en efectivo</h5>\r\n                        </Radio>\r\n                        {/* <Radio className=\"d-flex justify-content-center align-items-center my-4\" value={true}>\r\n                            <h5>Pago con tarjeta</h5>\r\n                        </Radio> */}\r\n                    </Radio.Group>\r\n                </div>\r\n            </div>\r\n\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Button htmlType=\"submit\" onClick={prev} size=\"large\" className=\"m-1 color-boton\">\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button htmlType=\"submit\" size=\"large\" className=\"m-1 color-boton\" onClick={onNext}>\r\n\t\t\t\t\tSiguiente\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect } from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nimport { useParams } from 'react-router-dom';\r\nimport { Steps } from 'antd';\r\n\r\nimport Traer_datos from './services/traer_datos';\r\nimport Verificacion_tarjeta from './services/Verificacion_Tarjeta';\r\nimport Confirmacion_Final from './services/Confirmacion_Final';\r\nimport Spin from '../../../components/Spin';\r\n\r\nimport './confirmacion.scss';\r\nimport TipoPago from './services/tipo_pago';\r\n\r\nconst { Step } = Steps;\r\n\r\nexport default function Confirmacion_compra(props) {\r\n\tconst { history } = props;\r\n\r\n\tconst { url } = useParams();\r\n\tconst [ datosUser, setDatosUser ] = useState(null);\r\n\t/* const [ disabled, setDisabled ] = useState(true); */\r\n\tconst [ datosPedido, setPedido ] = useState([]);\r\n\tconst [ pedidoCompleto, setPedidoCompleto ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ datosActualizados, setDatosActualizados ] = useState([]);\r\n\tconst [ idPago, setIdPago ] = useState([]);\r\n\t/*     const [ disabledPrev, setDisabledPrev ] = useState(false); */\r\n\tconst [ pagoTarjeta, setPagoTarjeta ] = useState(false);\r\n\r\n\t/// Declaracion de variables para los pasos\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\t//Obtener token de localStorage\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t//Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t/* const next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t}; */\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif (token === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${url}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data.cliente);\r\n\t\t\t\tsetPedido(res.data.pedido);\r\n\t\t\t\tsetPedidoCompleto(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\tsetLoading(false);\r\n\t}\r\n\r\n\tconst steps = [\r\n\t\t{\r\n\t\t\ttitle: 'Datos de envío',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Traer_datos\r\n\t\t\t\t\t\tdatosUser={datosUser}\r\n\t\t\t\t\t\tdecoded={decoded}\r\n\t\t\t\t\t\tsetCurrent={setCurrent}\r\n\t\t\t\t\t\tcurrent={current}\r\n\t\t\t\t\t\tsetDatosActualizados={setDatosActualizados}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Tipo de pago',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<TipoPago prev={prev} current={current} setCurrent={setCurrent} pagoTarjeta={pagoTarjeta} setPagoTarjeta={setPagoTarjeta} />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Datos de compra',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Verificacion_tarjeta setIdPago={setIdPago} prev={prev} setCurrent={setCurrent} current={current} />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Comprar',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Confirmacion_Final\r\n\t\t\t\t\t\tidPago={idPago}\r\n\t\t\t\t\t\tdatosPedido={datosPedido}\r\n\t\t\t\t\t\tpedidoCompleto={pedidoCompleto}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\tdatosActualizados={datosActualizados}\r\n\t\t\t\t\t\tpagoTarjeta={pagoTarjeta}\r\n\t\t\t\t\t\tcurrent={current}\r\n\t\t\t\t\t\tsetCurrent={setCurrent}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (!token) {\r\n\t\t\t\tprops.history.push('/');\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tobtenerDatosUser();\r\n\r\n\t\t\tsetAccion(false);\r\n\t\t\t/* setDisabled(false); */\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ accion ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"\">\r\n\t\t\t<div className=\"container prinpales p-3 mt-5\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-3\">\r\n\t\t\t\t\t\t<div style={{ width: '80%' }}>\r\n\t\t\t\t\t\t\t<Steps className=\"steps-colors\"  current={current}>\r\n\t\t\t\t\t\t\t\t{steps.map((item) => <Step key={item.title} title={item.title} />)}\r\n\t\t\t\t\t\t\t</Steps>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"steps-content\">\r\n\t\t\t\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t\t\t\t{steps[current].content}\r\n\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*                     <div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n                        {current > 0 && (\r\n                            <Button style={{ margin: '0 8px' }} onClick={prev} disabled={disabledPrev}>\r\n                                Atras\r\n                            </Button>\r\n                        )}\r\n                        {current === steps.length - 1 && (\r\n                            <Button\r\n                                type=\"primary\"\r\n                                onClick={() => {\r\n                                    notification.success({\r\n                                        message: 'su producto ha sido creado!',\r\n                                        duration: 2\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        window.location.reload();\r\n                                    }, 2000);\r\n                                }}\r\n                            >\r\n                                Comprar\r\n                            </Button>\r\n                        )}\r\n                        {current < steps.length - 1 && (\r\n                            <Button type=\"primary\" onClick={next} disabled={disabled}>\r\n                                Siguiente \r\n                            </Button>\r\n                        )}\r\n                    </div> */}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport clienteAxios from '../../../config/axios';\r\nimport {notification} from 'antd'\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction Politicas() {\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [politicas, setPoliticas] = useState([]);\r\n\r\n    function peticionPoliticas(){\r\n\t\tclienteAxios.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n                setLoading(false);\r\n                // if (res.data[0].politicas !== \"\") {\r\n                setPoliticas(res.data[0]);\r\n                console.log(res.data[0]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n                if(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        peticionPoliticas();\r\n    }, []);\r\n    \r\n\r\n\r\n    return(\r\n        <Spin spinning={loading} >\r\n            <div className=\"container\">\r\n                { politicas.politicas && politicas.politicas !== \"\" ? (\r\n                    <div id=\"privacidad\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Privacidad</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de privacidad.\r\n                        </p>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicas}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )\r\n                }\r\n                {\r\n                  politicas.politicasVentas !== \"\" && politicas.politicasVentas? (\r\n                    <div id=\"ventas\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Ventas</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de  Ventas\r\n                        </p>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicasVentas}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )  \r\n                }\r\n                {\r\n                  politicas.politicasDescuentos !== \"\" && politicas.politicasDescuentos ? (\r\n                    <div id=\"descuento\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Descuentos</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de  Descuentos\r\n                        </p>\r\n                        \r\n                        <div  style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicasDescuentos}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )  \r\n                }\r\n                {\r\n                  politicas.politicasDevolucion !== \"\" && politicas.politicasDevolucion ? (\r\n                    <div id=\"devolucion\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Devolucion</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de  Devolucion\r\n                        </p>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicasDevolucion}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )  \r\n                }\r\n                {\r\n                  politicas.politicasEnvios !== \"\" && politicas.politicasEnvios ? (\r\n                    <div id=\"envios\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Envios</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de  Envios\r\n                        </p>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicasEnvios}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )  \r\n                }\r\n                           \r\n            </div> \r\n        </Spin>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Politicas;","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport '../vistas.scss';\r\nimport { Card, Col } from 'antd';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction'\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction Scroll(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst producto = props.productos;\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos/search?nombre=${producto.nombre}&categoria=${producto.categoria}&subcategoria=${producto.subCategoria}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t}, [producto]);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<Col key={productos._id} className=\"d-inline-flex mr-2 contenedor-card-tamaño\">\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${productos._id}`)}\r\n\t\t\t\t\t\tbodyStyle={{ padding: 10, backgroundColor: '#F7F7F7' }}\r\n\t\t\t\t\t\tstyle={{ maxHeight: '100%', width: '100%', cursor: 'pointer' }}\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{ height: 220 }}>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws+productos.imagen}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"font-secun\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t<h2 className=\"font-prin precio-rebaja\">${formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"font-secun\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-peque precio-producto d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-prin precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t</Col>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<p className=\"font-prin titulos-vista-productos producto-descripcion mb-3\">Quienes vieron este producto también compraron</p>\r\n\t\t\t\t<div className=\"contenedor-scroller\">\r\n\t\t\t\t\t{render}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Scroll;\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarPedido(\r\n\tidcliente,\r\n\tproducto,\r\n\tsugerencia,\r\n\tcategoriaProducto,\r\n\tcategoriaSugerencia,\r\n\tcantidadProducto,\r\n\tcantidadSugerencia,\r\n\tmedidaProducto,\r\n\tmedidaSugerencia,\r\n\tprecioProducto,\r\n\tprecioSugerencia,\r\n\ttotal,\r\n\ttoken\r\n) {\r\n\tvar pedido = [];\r\n\tif (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Ropa') {\r\n\t\t// ambas tallas\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Calzado') {\r\n\t\t// talla producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tnumero: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Otros') {\r\n\t\t// talla producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Calzado') {\r\n\t\t// numero producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Ropa') {\r\n\t\t// numero producto y talla sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Otros') {\r\n\t\t// numero producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Otros') {\r\n\t\t// sin medida producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Ropa') {\r\n\t\t// sin medida producto y talla sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Calzado') {\r\n\t\t// sin medida producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tnumero: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso'\r\n\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tif(err.response){\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport clienteAxios from \"../../../config/axios\";\r\n\r\nimport { notification, Tooltip, Tag } from \"antd\";\r\n\r\nexport default function Estados_disponibles() {\r\n  const [dataEstados, setDataEstados] = useState([]);\r\n\r\n  const traerDatos = async () => {\r\n    clienteAxios\r\n      .get(`/politicasEnvio/estados/`)\r\n      .then((res) => {\r\n        setDataEstados(res.data);\r\n      })\r\n      .catch((err) => {\r\n        notification.error({\r\n          message: \"Error del servidor\",\r\n          description:\r\n            \"Paso algo en el servidor, al parecer la conexion esta fallando.\",\r\n        });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    traerDatos();\r\n  }, []);\r\n\r\n\r\n  const municipios = [];\r\n\r\n  return (\r\n    <div className=\"mt-2 p-4\">\r\n      <div className=\"text-center\">\r\n        <h3 className=\"font-secun\">Tenemos envios a:</h3>\r\n        {\r\n          dataEstados.map((estados) => {\r\n            estados.municipios.map((municipio) => {\r\n              municipios.push(municipio.municipio + \"       -       \");\r\n            });\r\n\r\n            if (estados.todos || dataEstados.length === 0) {\r\n              \r\n            }else{\r\n              return(\r\n                <Tooltip\r\n                  placement=\"left\"\r\n                  key={estados._id}\r\n                  title={municipios}\r\n                >\r\n                  <Tag\r\n                    className=\"mt-2 tags-color font-vista-prod\"\r\n                    visible={true}\r\n                    key={estados._id}\r\n                  >\r\n                    {estados.estado}\r\n                  </Tag>\r\n                </Tooltip>\r\n                )\r\n            }\r\n          })\r\n      } \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { notification, Button, Select, Card, Form, InputNumber, Modal, Alert } from 'antd';\r\nimport { IssuesCloseOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport { AgregarPedido } from './servicesSugerencia';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\nimport Estados_disponibles from '../../Consulta_covertura/estados_disponibles'\r\n\r\nconst { Option } = Select;\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst Sugerencia = (props) => {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst idproducto = props.producto;\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t///PRODUCTO\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ productoPromocion, setProductoPromocion ] = useState([]);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ medida, setMedida ] = useState([]);\r\n\tconst [ cantidadFinalProducto, setCantidadFinalProducto ] = useState(1);\r\n\tconst [ disponibilidad, setDisponibilidad ] = useState('');\r\n\r\n\tconst [dataEstados, setDataEstados] = useState([]);\r\n\r\n\tconst traerDatos = async () => {\r\n\t  clienteAxios\r\n\t\t.get(`/politicasEnvio/estados/`)\r\n\t\t.then((res) => {\r\n\t\t\tres.data.map((todos)=>{\r\n\t\t\t\tsetDataEstados(todos);\r\n\t\t\t})\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t});\r\n\t};\r\n\r\n\tfunction selectTallaProducto(value) {\r\n\t\tsetMedida(value);\r\n\t}\r\n\tfunction obtenerCantidadProducto(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > producto.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinalProducto(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadMedidaProducto(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > medida[1]) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinalProducto(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\t///SUGERENCIA\r\n\tconst [ sugerencia, setSugerencia ] = useState([]);\r\n\tconst [ sugerenciaPromocion, setSugerenciaPromocion ] = useState([]);\r\n\tconst [ validateStatusSug, setValidateStatusSug ] = useState('validating');\r\n\tconst [ medidaSugerencia, setMedidaSugerencia ] = useState([]);\r\n\tconst [ cantidadFinalSugerencia, setCantidadFinalSugerencia ] = useState(1);\r\n\tconst [ disponibilidadSugerencia, setDisponibilidadSugerencia ] = useState('');\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\r\n\tfunction selectTallaSugerencia(value) {\r\n\t\tsetMedidaSugerencia(value);\r\n\t}\r\n\tfunction obtenerCantidadSugerencia(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > producto.cantidad) {\r\n\t\t\tsetValidateStatusSug('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatusSug('validating');\r\n\t\t\tsetCantidadFinalSugerencia(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadMedidaSugerencia(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > medidaSugerencia[1]) {\r\n\t\t\tsetValidateStatusSug('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatusSug('validating');\r\n\t\t\tsetCantidadFinalSugerencia(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerSugerencia();\r\n\t\ttraerDatos();\r\n\t}, []);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTotal();\r\n\t\t\tobtenerDisponibilidad();\r\n\t\t},\r\n\t\t[ obtenerSugerencia ]\r\n\t);\r\n\tfunction obtenerTotal() {\r\n\t\tif (sugerencia.length !== 0) {\r\n\t\t\tif (productoPromocion.length !== 0 && sugerenciaPromocion.length !== 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproductoPromocion.precioPromocion * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerenciaPromocion.precioPromocion * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length !== 0 && sugerenciaPromocion.length === 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproductoPromocion.precioPromocion * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerencia.precio * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length === 0 && sugerenciaPromocion.length !== 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproducto.precio * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerenciaPromocion.precioPromocion * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length === 0 && sugerenciaPromocion.length === 0) {\r\n\t\t\t\tsetTotal(producto.precio * cantidadFinalProducto + sugerencia.precio * cantidadFinalSugerencia);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction obtenerDisponibilidad() {\r\n\t\t///disponibilidad Productos\r\n\t\tif (producto && producto.activo === false) {\r\n\t\t\tsetDisponibilidad('Producto no disponible');\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\r\n\t\t//// Disponibilidad Sugerencias\r\n\t\tif (sugerencia && sugerencia.activo === false) {\r\n\t\t\tsetDisponibilidadSugerencia('Producto no disponible');\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerSugerencia() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/sugerencia/${idproducto}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data.producto);\r\n\t\t\t\tif (res.data.sugerencias) {\r\n\t\t\t\t\tres.data.sugerencias.forEach((element) => setSugerencia(element.producto));\r\n\t\t\t\t\tif (res.data.promocionProducto.length !== 0 && res.data.promocionSugerencia.length === 0) {\r\n\t\t\t\t\t\tres.data.promocionProducto.forEach((element) => setProductoPromocion(element));\r\n\t\t\t\t\t} else if (res.data.promocionSugerencia.length !== 0 && res.data.promocionProducto.length === 0) {\r\n\t\t\t\t\t\tres.data.promocionSugerencia.forEach((element) => setSugerenciaPromocion(element));\r\n\t\t\t\t\t} else if (res.data.promocionProducto.length !== 0 && res.data.promocionSugerencia.length !== 0) {\r\n\t\t\t\t\t\tres.data.promocionProducto.forEach((element) => setProductoPromocion(element));\r\n\t\t\t\t\t\tres.data.promocionSugerencia.forEach((element) => setSugerenciaPromocion(element));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function Pedido() {\r\n\t\t////AGREGAR PEDIDO\r\n\r\n\t\tlet productoPrecio;\r\n\t\tlet sugerenciaPrecio;\r\n\r\n\t\tif(productoPromocion.length !== 0){\r\n\t\t\tproductoPrecio = productoPromocion.precioPromocion;\r\n\t\t}else{\r\n\t\t\tproductoPrecio = producto.precio;\r\n\t\t}\r\n\r\n\t\tif(sugerenciaPromocion.length !== 0){\r\n\t\t\tsugerenciaPrecio = sugerenciaPromocion.precioPromocion;\r\n\t\t}else{\r\n\t\t\tsugerenciaPrecio = sugerencia.precio;\r\n\t\t}\r\n\t\t\r\n\t\tAgregarPedido(\r\n\t\t\tdecoded._id,\r\n\t\t\tproducto._id,\r\n\t\t\tsugerencia._id,\r\n\t\t\tproducto.tipoCategoria,\r\n\t\t\tsugerencia.tipoCategoria,\r\n\t\t\tcantidadFinalProducto,\r\n\t\t\tcantidadFinalSugerencia,\r\n\t\t\tmedida[0],\r\n\t\t\tmedidaSugerencia[0],\r\n\t\t\tproductoPrecio,\r\n\t\t\tsugerenciaPrecio,\r\n\t\t\ttotal,\r\n\t\t\ttoken\r\n\t\t);\r\n\t}\r\n\r\n\tfunction showConfirm() {\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem(\"vistas\", `/vista_producto/${producto._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!medida[0] || !medidaSugerencia[0]) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconfirm({\r\n\t\t\t\t\ttitle: 'Comprar los siguientes articulos:',\r\n\t\t\t\t\ticon: <IssuesCloseOutlined />,\r\n\t\t\t\t\tokText: 'Continuar con la compra',\r\n\t\t\t\t\tcontent: (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p>{producto.nombre}</p>\r\n\t\t\t\t\t\t\t<p>{sugerencia.nombre}</p>\r\n\t\t\t\t\t\t\t<p>Precio total: ${formatoMexico(total.toFixed(2))} + envio</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\tPedido();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div >\r\n\t\t\t\t{\r\n\t\t\t\t\tdataEstados.todos !== true ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Estados_disponibles />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t):(\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row mw-100 mt-3\">\r\n\t\t\t\t{!producto || !sugerencia ? (\r\n\t\t\t\t\t<div />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t<p className=\"my-3 text-center producto-descripcion font-prin\">\r\n\t\t\t\t\t\t\t¡Llévalos juntos!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"row\" style={{ justifyContent: 'center' }}>\r\n\t\t\t\t\t\t\t<div className=\"d-lg-flex d-sm-block px-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws+producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\tproducto.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTallaProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{producto.tallas && producto.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.tallas.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : producto.numeros && producto.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.numeros.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form initialValues={{ cantidad: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{producto.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.tipoCategoria !== 'Otros' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedida.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque\">Solo hay {medida[1]} disponibles</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-descrip\">Cantidad</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medida[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadMedidaProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medida.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={<p className=\"font-peque\" >Solo hay {producto.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={producto.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${producto._id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={producto.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{productoPromocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-prin titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\" font-peque titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-descrip titulo-precio precio-rebaja mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(productoPromocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-peque titulo-porcentaje-sugerencia porcentaje-descuento d-inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproductoPromocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.precio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"disponibilidad\">{disponibilidad}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-lg-flex justify-content-center align-items-center d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"display-1 text-center mx-4\">+</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws+sugerencia.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\tsugerencia.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTallaSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerencia.tallas && sugerencia.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.tallas.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : sugerencia.numeros && sugerencia.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.numeros.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form initialValues={{ cantidad: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerencia.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatusSug}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.tipoCategoria !== 'Otros' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedidaSugerencia.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque\">Solo hay {medidaSugerencia[1]} disponibles</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-descrip\">Cantidad</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medidaSugerencia[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadMedidaSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medidaSugerencia.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={<p className=\"font-peque\">Solo hay {sugerencia.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={sugerencia.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${sugerencia._id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={sugerencia.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{productoPromocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-prin titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\" font-peque titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-descrip titulo-precio precio-rebaja mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(productoPromocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-peque titulo-porcentaje-sugerencia porcentaje-descuento d-inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproductoPromocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.precio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"disponibilidad\">{disponibilidad}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-block\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"producto-descripcion font-prin\">\r\n\t\t\t\t\t\t\t\t\t\tPrecio total: ${formatoMexico(total.toFixed(2))}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4\">\r\n\t\t\t\t\t\t\t\t\t{decoded && decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\tdescription=\"Como Administrador tienes desabilitadas las opciones de comprar, apartar y agregar al carrito\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-block m-1 color-boton color-font-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => showConfirm()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tComprar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Sugerencia);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport ReactImageMagnify from 'react-image-magnify';\r\nimport 'react-image-gallery/styles/scss/image-gallery.scss';\r\nimport 'react-image-gallery/styles/css/image-gallery.css';\r\nimport './galeria_custom.scss';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nfunction Galeria(props) {\r\n\tconst [ count, setCount ] = useState(0);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst idproducto = props.id;\r\n\tconst [ galeria, setGaleria ] = useState([]);\r\n\tconst [ imagen, setImagen ] = useState([\r\n\t\t{\r\n\t\t\toriginal: '',\r\n\t\t\tthumbnail: ''\r\n\t\t}\r\n\t]);\r\n\r\n\tconst [ imagenZoom, setImagenZoom ] = useState();\r\n\r\n\tfunction onLoad(imagen) {\r\n\t\tif(imagen.target.src){\r\n\t\t\tvar url = imagen.target.src.split('.com/');// se hace asi porque al poner la variable con la url saltaban warnings del src estaba undefind\r\n\t\t\tsetImagenZoom(url[1]);\r\n\t\t}\r\n\t}\r\n\r\n\tconst galery = {\r\n\t\tshowPlayButton: false,\r\n\t\tshowNav: false,\r\n\t\tshowFullscreenButton: false,\r\n\t\trenderItem: myRenderItem,\r\n\t\tonThumbnailClick: onLoad,\r\n\t\tdisableKeyDown: true\r\n\t};\r\n\r\n\tif (count < galeria.length) {\r\n\t\tsetCount(count + 1);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function obtenerImagen() {\r\n\t\t\t\tawait clienteAxios.get(`/productos/${idproducto}`).then((res) => {\r\n\t\t\t\t\tsetImagenZoom(res.data.imagen);\r\n\t\t\t\t\tsetImagen([\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toriginal: aws+res.data.imagen,\r\n\t\t\t\t\t\t\tthumbnail: aws+res.data.imagen\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tasync function obtenerGaleria() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.get(`/galeria/${idproducto}`)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tobtenerImagen();\r\n\t\t\tobtenerGaleria();\r\n\t\t},\r\n\t\t[ idproducto ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tgaleria.forEach((res) => {\r\n\t\t\t\treturn imagen.push({\r\n\t\t\t\t\toriginal: aws+res.url,\r\n\t\t\t\t\tthumbnail: aws+res.url\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ count, galeria, imagen ]\r\n\t);\r\n\r\n\tconst [ zoomHeight, setZoomHeight ] = useState('');\r\n\tconst [ zoomWidth, setZoomWidth ] = useState('');\r\n\tvar img = new Image();\r\n\timg.onload = function() {\r\n\tsetZoomWidth(img.naturalWidth);\r\n\tsetZoomHeight(img.naturalHeight);\r\n\t}\r\n\timg.src = aws+imagenZoom;\r\n\r\n\tconst propiedadesImageMagnify= {\r\n\t\tsmallImage: {\r\n\t\t\talt: 'imagen-producto',\r\n\t\t\tsrc: aws+imagenZoom,\r\n\t\t\tisFluidWidth: true\r\n\t\t},\r\n\t\tlargeImage: {\r\n\t\t\t// src: aws+imagenZoom,\r\n\t\t\t// width: zoomWidth*1.6,\r\n\t\t\t// height: zoomHeight*1.6\r\n\t\t},\r\n\t\tenlargedImagePortalId: 'zoom-render'\r\n\t}\r\n\r\n\tfunction myRenderItem() {\r\n\t\treturn (\r\n\t\t\t<ReactImageMagnify\r\n\t\t\t\t// imageClassName=\"image-gallery-image\"\r\n\t\t\t\t// enlargedImageContainerClassName=\"image-gallery-image-large-container\"\r\n\t\t\t\t// enlargedImageClassName=\"image-gallery-image-large\"\r\n\t\t\t\t// className=\"imagen-gallery-container\"\r\n\t\t\t\t{...propiedadesImageMagnify}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<ImageGallery items={imagen} {...galery} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Galeria;\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarCarrito(idcliente, idproducto, cantidad, talla, numero, token) {\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t`/carrito/nuevo/${idcliente}`,\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tarticulos: [\r\n\t\t\t\t\t{ idarticulo: idproducto, cantidad: cantidad, medida: [ { talla: talla, numero: numero } ] }\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\treturn notification.success({\r\n\t\t\t\tmessage: 'Se añadio un articulo a tu carrito',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tif(err.response){\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\treturn true;\r\n}\r\n\r\nexport async function AgregarApartado(idcliente, idproducto, cantidad, precio, talla, numero, tipoEntrega, token) {\r\n\tif (talla) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio,\r\n\t\t\t\t\tmedida: [ { talla: talla } ],\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: \"Pedido apartado.\",\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio,\r\n\t\t\t\t\tmedida: [ { numero: numero } ],\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla && !numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio,\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\nexport async function AgregarPedido(idcliente, idproducto, cantidad, talla, numero, precio, total, token) {\r\n\tif (!numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\ttalla: talla,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\tnumero: numero,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla && !numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { InputNumber, Button, Form, Badge, Divider, notification, Modal, Select, Alert, List, Avatar } from 'antd';\r\nimport { AlertOutlined, CoffeeOutlined, HomeOutlined, WhatsAppOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { AgregarCarrito, AgregarApartado, AgregarPedido } from './services';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\n/* import DatosCliente from './datos_cliente'; */\r\nimport clienteAxios from '../../../../config/axios';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst formItemLayout = {\r\n\tlabelCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 8 }\r\n\t},\r\n\twrapperCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 16 }\r\n\t}\r\n};\r\nconst { Option } = Select;\r\n\r\nfunction TallasCantidades(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst productos = props.producto;\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\t/* \tconst [ cantidad, setCantidad ] = useState(); */\r\n\tconst [ promocion, setPromocion ] = useState('');\r\n\tconst [ tallas, setTallas ] = useState([]);\r\n\tconst [ numeros, setNumeros ] = useState([]);\r\n\tconst [ render, setRender ] = useState([]);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ cantidadFinal, setCantidadFinal ] = useState(1);\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('REGOGIDO');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\t/* \tconst [ datosUser, setDatosUser ] = useState([]); */\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\tvar total = 0;\r\n\tvar precio = 0;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerTienda() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((element) => setTienda(element));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\t/* async function obtenerDatosUser() {\r\n\t\tif (!decoded) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t} */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (token) {\r\n\t\t\t/* obtenerDatosUser(); */\r\n\t\t\tobtenerTienda();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (productos.promocion && productos.promocion.length) {\r\n\t\t\t\tproductos.promocion.forEach((res) => setPromocion(res.precioPromocion));\r\n\t\t\t}\r\n\t\t\tif (productos.tipoCategoria === 'Calzado') {\r\n\t\t\t\tsetCategoria('calzado');\r\n\t\t\t\tsetRender(\r\n\t\t\t\t\tproductos.numeros.map((numeros) => {\r\n\t\t\t\t\t\treturn numeros.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t<Badge key={numeros._id} count={numeros.cantidad}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"talla-vista-producto d-inline-block\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setNumeros(numeros)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tkey={numeros._id}\r\n\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\t\t\t\t//style={{ backgroundColor: '#F5F5F5', color: '#7D7D7D' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"dashed\" disabled className=\"talla-vista-producto d-inline-block\">\r\n\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else if (productos.tipoCategoria === 'Ropa') {\r\n\t\t\t\tsetCategoria('ropa');\r\n\t\t\t\tsetRender(\r\n\t\t\t\t\tproductos.tallas.map((tallas) => {\r\n\t\t\t\t\t\treturn tallas.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t<Badge key={tallas._id} count={tallas.cantidad}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"talla-vista-producto d-inline-block\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setTallas(tallas)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tkey={tallas._id}\r\n\t\t\t\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: '#F5F5F5', color: '#7D7D7D' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"dashed\" disabled className=\"talla-vista-producto d-inline-block\">\r\n\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else if (productos.tipoCategoria === 'Otros') {\r\n\t\t\t\tsetCategoria('otros');\r\n\t\t\t}\r\n\t\t\tif (productos && productos.activo === false) {\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ productos ]\r\n\t);\r\n\r\n\tfunction obtenerCantidad(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > productos.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadNumero(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > numeros.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadTalla(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > tallas.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\tconst showModal = () => {\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (categoria === 'ropa' && !tallas.talla) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else if (categoria === 'calzado' && !numeros.numero) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetVisible(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOk = () => {\r\n\t\tsetVisible(false);\r\n\t\tApartado();\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction modalMensaje() {\r\n\t\tModal.success({\r\n\t\t\ticon: '',\r\n\t\t\tclosable: true,\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<p style={{ fontSize: 18 }}>¡Tu orden a sido recibida!</p>\r\n\t\t\t\t\t{tienda.length !== 0 && tienda.telefono ? (\r\n\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t<p style={{ fontSize: 18 }}>Si tienes dudas o algún problema te puedes comunicar al</p>\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center font-weight-bold\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<WhatsAppOutlined style={{ color: '#25d366' }} />\r\n\t\t\t\t\t\t\t\t{tienda.telefono}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 color-boton\"\r\n\t\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\t\tonClick={() => (window.location.href = '/pedidos')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVer mis pedidos\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t\tokButtonProps: {className: \"color-boton\"}\r\n\t\t});\r\n\t}\r\n\r\n\tasync function Carrito() {\r\n\t\t////AGREGAR CARRITO\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (categoria === 'calzado') {\r\n\t\t\t\tif (!numeros.numero) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst talla = '';\r\n\t\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, talla, numeros.numero, token)) {\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'ropa') {\r\n\t\t\t\tif (!tallas.talla) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numero = '';\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, tallas.talla, numero, token)) {\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'otros') {\r\n\t\t\t\tconst talla = '';\r\n\t\t\t\tconst numero = '';\r\n\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, talla, numero, token)) {\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync function Apartado() {\r\n\t\tlet precio;\r\n\t\tif (productos.promocion.length !== 0) {\r\n\t\t\tprecio = productos.promocion[0].precioPromocion;\r\n\t\t} else {\r\n\t\t\tprecio = productos.precio;\r\n\t\t}\r\n\t\t////AGREGAR APARTADO\r\n\t\tsetLoading(true);\r\n\t\tif (categoria === 'calzado') {\r\n\t\t\tconst talla = '';\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, talla, numeros.numero, tipoEnvio, token);\r\n\t\t\tsetLoading(false);\r\n\t\t\tmodalMensaje();\r\n\t\t} else if (categoria === 'ropa') {\r\n\t\t\tconst numero = '';\r\n\t\t\tsetLoading(false);\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, tallas.talla, numero, tipoEnvio, token);\r\n\t\t\tmodalMensaje();\r\n\t\t} else if (categoria === 'otros') {\r\n\t\t\tconst talla = '';\r\n\t\t\tconst numero = '';\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, talla, numero, tipoEnvio, token);\r\n\t\t\tsetLoading(false);\r\n\t\t\tmodalMensaje();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function Pedido() {\r\n\t\t////AGREGAR PEDIDO\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (categoria === 'calzado') {\r\n\t\t\t\tif (!numeros.numero) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst talla = '';\r\n\t\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tAgregarPedido(\r\n\t\t\t\t\t\tdecoded._id,\r\n\t\t\t\t\t\tproductos._id,\r\n\t\t\t\t\t\tcantidadFinal,\r\n\t\t\t\t\t\ttalla,\r\n\t\t\t\t\t\tnumeros.numero,\r\n\t\t\t\t\t\tprecio,\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttoken\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'ropa') {\r\n\t\t\t\tif (!tallas.talla) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numero = '';\r\n\t\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tAgregarPedido(\r\n\t\t\t\t\t\tdecoded._id,\r\n\t\t\t\t\t\tproductos._id,\r\n\t\t\t\t\t\tcantidadFinal,\r\n\t\t\t\t\t\ttallas.talla,\r\n\t\t\t\t\t\tnumero,\r\n\t\t\t\t\t\tprecio,\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttoken\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'otros') {\r\n\t\t\t\tconst talla = '';\r\n\t\t\t\tconst numero = '';\r\n\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t}\r\n\t\t\t\tAgregarPedido(decoded._id, productos._id, cantidadFinal, talla, numero, precio, total, token);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-p-seleccion-compra\">\r\n\t\t\t\t<div className=\"contenedor-p-seleccion-compra mb-4\">\r\n\t\t\t\t\t{disabled ? (\r\n\t\t\t\t\t\t<p className=\"font-vista-prod disponibilidad-p mb-3\">\r\n\t\t\t\t\t\t\tEn este momento no hay combos disponibles\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t// <p className=\"font-vista-prod mb-3\">¡Articulos disponibles!</p>\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{categoria !== 'otros' ? <p className=\"mb-3 font-vista-prod font-weight-bold\">Tallas:</p> : <p />}\r\n\t\t\t\t\t<div>{render}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Form initialValues={{ cantidad: 1 }} {...formItemLayout}>\r\n\t\t\t\t\t{categoria !== 'otros' ? (\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\tclassName=\"font-vista-prod\"\r\n\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\tcategoria === 'ropa' && tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-vista-prod\">Solo hay {tallas.cantidad} disponibles</p>\r\n\t\t\t\t\t\t\t\t) : categoria === 'calzado' && numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-vista-prod\">Solo hay {numeros.cantidad} disponibles</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p>Elige una talla</p>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={categoria === 'ropa' ? tallas.cantidad : numeros.cantidad}\r\n\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\tonChange={categoria === 'ropa' ? obtenerCantidadTalla : obtenerCantidadNumero}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 70 }}\r\n\t\t\t\t\t\t\t\tdisabled={tallas.length !== 0 || numeros.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"font-vista-prod\"\r\n\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\thelp={<p>Solo hay {productos.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={productos.cantidad}\r\n\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\tonChange={obtenerCantidad}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form>\r\n\r\n\t\t\t\t<Divider />\r\n\t\t\t\t{decoded && decoded.rol === true ? (\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tclassName=\"font-peque\"\r\n\t\t\t\t\t\tdescription=\"Como Administrador tienes desabilitadas las opciones de comprar, apartar y agregar al carrito\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"contenedor-button-vista\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center size-button-vista color-boton font-boton-vista\"\r\n\t\t\t\t\t\t\t\t\t//type=\"primary\"\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => Pedido()}\r\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CoffeeOutlined  style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\t\tOrdenar ahora\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 d-flex justify-content-center align-items-center size-button-vista color-boton-sec font-boton-vista\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tonClick={() => showModal()}\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<HomeOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tRecoger en sucursal\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 d-flex justify-content-center align-items-center size-button-vista color-boton-sec font-boton-vista\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\tonClick={() => Carrito()}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AlertOutlined  style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tAgregar a orden\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Ordenar para retirar en restaurant\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\t/* onOk={handleOk} */\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t/* cancelText=\"Cancelar\" */\r\n\t\t\t\t/* okText=\"Apartar ahora\" */\r\n\t\t\t\tfooter={null}\r\n\t\t\t\twidth={700}\r\n\t\t\t>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<List.Item className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t\t\t<Avatar size={64} src={aws + productos.imagen} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t\t<h5 className=\"font-secun\">{productos.nombre}</h5>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"font-vista-prod\">Cantidad: {cantidadFinal}</h6>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"font-vista-prod\">Talla: {numeros.numero}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"font-vista-prod\">Talla: {tallas.talla}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t{productos.length !== 0 ? productos.promocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(productos.precio)}</h6>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tproductos.promocion.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Precio: ${formatoMexico(res.precioPromocion)}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t <div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"mr-2\">Ordenado por:</h6>\r\n\t\t\t\t\t\t\t\t<p><b>{decoded ? decoded.nombre : null}</b></p>\r\n\t\t\t\t\t\t\t </div> \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</List.Item>\r\n\t\t\t\t</List>\r\n\t\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t\t{productos.length !== 0 ? productos.promocion.length === 0 ? (\r\n\t\t\t\t\t\t<h4>Total: ${formatoMexico(cantidadFinal * productos.precio)}</h4>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tproductos.promocion.map((res) => {\r\n\t\t\t\t\t\t\treturn <h4 key={res._id}>Total: ${formatoMexico(cantidadFinal * res.precioPromocion)}</h4>;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex justify-content-end align-items-center mt-1\">\r\n\t\t\t\t\t<Button className=\"color-boton color-font-boton\" size=\"large\" style={{ width: 170 }} onClick={() => handleOk()}>\r\n\t\t\t\t\t\tOrdenar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(TallasCantidades);\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport './info-tienda.scss';\r\nimport Geolocalizacion from '../../../../pages/users/geolocalizacion';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst InfoTienda = (props) => {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerTienda();\r\n\t}, []);\r\n\r\n\tasync function obtenerTienda() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((element) => setTienda(element));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (tienda.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-info-tienda\">\r\n\t\t\t\t<p className=\"titulos-vista-productos text-center font-secun\">Encuentra nuestro restaurante</p>\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<div className=\"contenedor-imagen-info\">\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-info-tienda\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"logo-tienda\"\r\n\t\t\t\t\t\t\t\tsrc={aws+tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-info-tienda\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* <Avatar size={64} src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${tienda.imagenLogo}`} /> */}\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<p className=\"font-weight-bold font-prin\" >\r\n\t\t\t\t\t\t\t{tienda.nombre}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{tienda.length !== 0 ? (\r\n\t\t\t\t\ttienda.direccion.map((direccion) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={direccion._id} className=\"container\">\r\n\t\t\t\t\t\t\t\t<p className=\"font-descrip\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Dirección:</span> {direccion.calle_numero}, Col.{' '}\r\n\t\t\t\t\t\t\t\t\t{direccion.colonia}, {direccion.ciudad}, {direccion.cp}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"font-descrip\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Teléfono:</span> {tienda.telefono}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p />\r\n\t\t\t\t)}\r\n\t\t\t\t{tienda.diasHorariosEmpresas !== '' && tienda.diasHorariosEmpresas !== \"undefined\" ? (\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<p className=\"font-descrip\">\r\n\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Horarios de Atención:</span>\r\n\t\t\t\t\t\t\t<p dangerouslySetInnerHTML={{__html: tienda.diasHorariosEmpresas}}/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p />\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{/* {tienda.length !== 0 ? (\r\n\t\t\t\t\ttienda.ubicacion.map((ubicacion) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={ubicacion._id}>\r\n\t\t\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\t\t\theight=\"50vh\"\r\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\t\tcenter={[ ubicacion.lat, ubicacion.lng ]}\r\n\t\t\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\t\t\tzoom={16}\r\n\t\t\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\t\t\tnombreMarcador=\"AB soluciones Empresariales\"\r\n\t\t\t\t\t\t\t\t\ttituloheader={false}\r\n\t\t\t\t\t\t\t\t\tdraggable={false}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p />\r\n\t\t\t\t)} */}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default withRouter(InfoTienda);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport clienteAxios from \"../../../config/axios\";\r\n\r\nimport { notification} from \"antd\";\r\nimport { CheckCircleFilled } from '@ant-design/icons';\r\nimport '../../../scss/styleEspinoza.scss'\r\n\r\nexport default function Envio_General() {\r\n  const [dataEstados, setDataEstados] = useState([]);\r\n\r\n  const traerDatos = async () => {\r\n    clienteAxios\r\n      .get(`/politicasEnvio/estados/`)\r\n      .then((res) => {\r\n        setDataEstados(res.data);\r\n      })\r\n      .catch((err) => {\r\n        notification.error({\r\n          message: \"Error del servidor\",\r\n          description:\r\n            \"Paso algo en el servidor, al parecer la conexion esta fallando.\",\r\n        });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    traerDatos();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div >\r\n        {dataEstados.map((estado) => {\r\n          if (estado.todos) {\r\n            return (\r\n              <p className=\"envio-texto font-vista-prod\">\r\n                <CheckCircleFilled style={{ fontSize: 20, marginRight: 10 }} /> \r\n                  <spam >Tenemos envios a toda la republica Mexicana</spam>\r\n              </p>\r\n            );\r\n          } else {\r\n              return null;\r\n          }\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Divider, Row, Col, Tag, Alert, notification, Result, Button } from 'antd';\r\nimport { CreditCardOutlined } from '@ant-design/icons';\r\nimport Scroll from './subs/scroll';\r\nimport Sugerencia from './subs/sugerencia';\r\nimport Galeria from './Galeria_tienda/galeria';\r\nimport TallasCantidades from './subs/cantidades_y_tallas';\r\nimport InfoTienda from './Info_tienda/info-tienda';\r\nimport Envio_General from '../Consulta_covertura/envio_general';\r\nimport 'antd/dist/antd.css';\r\nimport './vistas.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport DOMPurify from 'dompurify';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTruck } from '@fortawesome/free-solid-svg-icons';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction VistaProductos(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ readMore, setReadMore ] = useState('read-less');\r\n\tconst producto = props.match.params.url;\r\n\tconst [ costoEnvio, setCostoEnvio ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProducto();\r\n\t\tobtenerPoliticasEnvio();\r\n\t\twindow.scrollTo(0, 0);\r\n\t}, []);\r\n\r\n\tasync function obtenerPoliticasEnvio() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCostoEnvio(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerProducto() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${producto}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (!res.data) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetProductos([]);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tres.data.promocion.forEach((res) => setPromocion(res));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst OnClickReadMore = () => {\r\n\t\tif (readMore === 'read-less') {\r\n\t\t\tsetReadMore('read-more');\r\n\t\t} else {\r\n\t\t\tsetReadMore('read-less');\r\n\t\t}\r\n\t};\r\n\r\n\tif (loading === false && productos.length === 0) {\r\n\t\treturn (\r\n\t\t\t<Result\r\n\t\t\t\tstatus=\"404\"\r\n\t\t\t\ttitle=\"404\"\r\n\t\t\t\tsubTitle=\"Lo sentimos, este producto ya no existe.\"\r\n\t\t\t\textra={<Button className=\"color-boton\" type=\"primary\" onClick={() => props.history.push('/')}>Pagina principal</Button>}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container mt-5 shadow caracteristicas \">\r\n\t\t\t\t<div className=\"row mt-5\">\r\n\t\t\t\t\t<div className=\"col-lg-8 imagen-gallery-vista zoom\">\r\n\t\t\t\t\t\t<div id=\"zoom-render\" />\r\n\t\t\t\t\t\t<div className=\"mb-5\">\r\n\t\t\t\t\t\t\t<Galeria id={producto} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"descripcion-lg\">\r\n\t\t\t\t\t\t\t<p className=\"font-secun producto-descripcion\">Descripción</p>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={readMore}\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{readMore === 'read-less' ? (\r\n\t\t\t\t\t\t\t\t<p className=\"font-vista-prod texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\tVer más...\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className=\"font-vista-prod texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\tVer menos\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t{/* ### Componenete de Sugerencia */}\r\n\t\t\t\t\t\t<div className=\"descripcion-lg\">\r\n\t\t\t\t\t\t\t<Sugerencia producto={producto} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 border-left\">\r\n\t\t\t\t\t\t<p className=\"titulo-principal font-prin\">{productos.nombre}</p>\r\n\t\t\t\t\t\t{promocion.length === 0 ? (\r\n\t\t\t\t\t\t\t<p className=\"precio-prin titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t$ {formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto font-descrip\">\r\n\t\t\t\t\t\t\t\t\t$ {formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-precio precio-rebaja d-inline mr-3 precio-prin\">\r\n\t\t\t\t\t\t\t\t\t$ {formatoMexico(promocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-porcentaje porcentaje-descuento d-inline mr-2 font-descrip\">\r\n\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promocion.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{costoEnvio ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"envio-texto font-vista-prod\">\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTruck} style={{ fontSize: 15, marginRight: 10 }} />{' '}\r\n\t\t\t\t\t\t\t\t\t<span>Costo del envío:</span> <span>${costoEnvio.costoEnvio}</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<Envio_General className=\"mt-3\" />\r\n\t\t\t\t\t\t\t\t{costoEnvio.promocionEnvio ?  costoEnvio.descuento !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-3 font-vista-prod\"\r\n\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\tcostoEnvio.descuento !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>¡En compras arriba de ${costoEnvio.promocionEnvio} el envío será GRATIS!</p>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>¡En compras arriba de $${costoEnvio.promocionEnvio}, el envío será GRATIS!</p>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{productos.genero === 'Ninguno' && !productos.color && !productos.colorHex ? (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t{productos.genero === 'Ninguno' ? (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-vista-prod\" style={{ fontWeight: \"bold\", marginBottom: 10 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGénero:\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tag className=\"font-vista-prod color-tags\" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t{productos.genero}\r\n\t\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{!productos.color && !productos.colorHex ? (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-vista-prod\" style={{ marginBottom: 5 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<spam style={{fontWeight: \"bold\"}} >Color:</spam> {productos.color}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-circle ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 30, width: 30, backgroundColor: productos.colorHex }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<TallasCantidades producto={productos} /> {/* Componente tallas */}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<p className=\"font-vista-prod mb-3 formas-pago\" >\r\n\t\t\t\t\t\t\t<CreditCardOutlined style={{ fontSize: 25 }} className=\"mr-2\" />\r\n\t\t\t\t\t\t\tFormas de Pago\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"contenedor-img-tarjetas\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"tarjetas de credito\"\r\n\t\t\t\t\t\t\t\tclassName=\"img-tarjetas\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://www.paymentmedia.com/gallery/5b927b5d6fc472000px-Mastercard-logo.svg.jpg\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"tarjetas de credito\"\r\n\t\t\t\t\t\t\t\tclassName=\"img-tarjetas\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://logos-marcas.com/wp-content/uploads/2020/04/Visa-Logo.png\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<div className=\"descripcion-sm\">\r\n\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t<p className=\"font-secun text-center\">Descripcion:</p>\r\n\t\t\t\t\t\t\t<div style={{textAlign: 'justify' }} className=\"px-3\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={readMore}\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{readMore === 'read-less' ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-secun texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\t\tVer más...\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-secun texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\t\tVer menos\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<InfoTienda />\r\n\t\t\t\t\t\t{/* Componente informacion de la tienda */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"descripcion-sm\">\r\n\t\t\t\t\t\t<Sugerencia producto={producto} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* ### Componenete de productos similares */}\r\n\t\t\t\t<Row className=\"mt-5\">\r\n\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t<Scroll productos={productos} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(VistaProductos);\r\n","import React, { Fragment, useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../config/axios';\r\nimport { notification, Row, Breadcrumb, Button } from 'antd';\r\nimport Card_Producto from '../../pages/users/Productos/Cards_Normales/card_producto'\r\nimport Spin from '../Spin';\r\nimport './busqueda_categorias.scss';\r\nimport { MenuContext } from '../../context/carritoContext';\r\n\r\nfunction BusquedaCategorias(props) {\r\n\tconst categoria = props.match.params.categoria;\r\n\tconst subcategoria = props.match.params.subcategoria;\r\n\tconst temporada = props.match.params.temporada;\r\n\tconst genero = props.match.params.genero;\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ resultado, setResultado ] = useState([]);\r\n\tconst { reloadFilter, setReloadFilter } = useContext(MenuContext);\r\n\tconst [ todosProductos, setTodosProductos ] = useState(false);\r\n\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, temporada, genero) => {\r\n\t\tlet cat = categoria;\r\n\t\tlet sub = subcategoria;\r\n\t\tlet temp = temporada;\r\n\t\tlet gen = genero;\r\n\r\n\t\tif (categoria === 'null') {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === 'null') {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === 'null' || genero === 'Todos') {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\t\tif(temporada === 'null'){\r\n\t\t\ttemp = '';\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}&temporada=${temp}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetResultado(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTodosProductos(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerTodos = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/sinPaginacion`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetResultado(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetReloadFilter(!reloadFilter);\r\n\t\tobtenerTodos();\r\n\t\tsetTodosProductos(true);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tlimpiarFiltros();\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, temporada, genero);\r\n\t\t},\r\n\t\t[ props ]\r\n\t);\r\n\r\n\tconst result = resultado.map((productos) => <Card_Producto key={productos._id} productos={productos} />);\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t<div className=\"my-4 mx-3\">\r\n\t\t\t\t\t<h3 className=\"d-inline mr-3 font-prin\">{resultado.length} resultados en el menu: </h3>\r\n\t\t\t\t\t{todosProductos ? (\r\n\t\t\t\t\t\t<h3  className=\"d-inline font-prin\">Todos los productos</h3>\r\n\t\t\t\t\t): (\r\n\t\t\t\t\t\t<Breadcrumb separator=\">\" className=\"d-inline font-prin\">\r\n\t\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font\">{categoria !== 'null' ? categoria : null}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font\">{subcategoria !== 'null' ? subcategoria : null}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font\">{temporada !== 'null' ? temporada : null}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font\">{genero !== 'null' ? genero : null}</Breadcrumb.Item>\r\n\t\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button type=\"primary\" size=\"large\" className=\"mt-3 color-boton\" onClick={limpiarFiltros}>\r\n\t\t\t\t\t\t\tLimpiar filtros\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t\t{result}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Spin>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nexport default BusquedaCategorias;\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"404\"\r\n        subTitle=\"Ups, Parece que esta pagina no existe.\"\r\n      />\r\n    )\r\n}","import React,{useState,useEffect} from 'react';\r\nimport { notification, Form, Input, Button,Alert  } from 'antd';\r\nimport {useParams} from 'react-router-dom';\r\nimport clienteAxios from '../../config/axios';\r\nimport './Recuperacion_pass.scss';\r\n\r\n\r\nconst layout = {\r\n    labelCol: { span: 6 },\r\n    wrapperCol: { span: 14 }\r\n};\r\n\r\nexport default function Recuperar_pass(props) {\r\n\r\n/*     const {location,history} = props; */\r\n    const {idRecuperacion} = useParams();\r\n\r\n    const [mostrarError, setmostrarError] = useState(\"d-none\");\r\n    const [acceso, setAcceso] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setAcceso(false);\r\n        const cambiarEstadoPass = async () => {\r\n            await clienteAxios.put(`/cliente/restablecer/pass/${idRecuperacion}`)\r\n            .then((res) => {\r\n                setAcceso(false);\r\n            })\r\n            .catch((err) => {\r\n                setAcceso(true);\r\n            })\r\n        }\r\n        cambiarEstadoPass();\r\n    }, [])\r\n\r\n    const onFinish = async (values) => {\r\n        const {password,confirmPassword} = values;\r\n        if(password !== confirmPassword){\r\n            setmostrarError(\"\");\r\n        }else{\r\n            const datos = {\r\n                password,\r\n                confirmPassword,\r\n                idRecuperacion,\r\n            }\r\n            await clienteAxios.put('/cliente/reset/pass/',datos)\r\n            .then((res) => {\r\n                const token = res.data.token;\r\n                localStorage.setItem('token', token);\r\n            })\r\n            .catch((err) => {\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: 'Hubo un error',\r\n                    duration: 2\r\n                });\r\n            })\r\n            props.history.push('/');\r\n        }\r\n    }\r\n\r\n    if(acceso){\r\n        props.history.push('/');\r\n    }\r\n    \r\n\r\n    return (\r\n        <FormResetPass onFinish={onFinish} mostrarError={mostrarError} />\r\n    )\r\n}\r\n\r\n\r\nfunction FormResetPass(props){\r\n    const { onFinish,mostrarError} = props;\r\n    return(\r\n        <div className=\"centrar-div\">\r\n            <div className=\"div-resetPass shadow col-12 col-lg-4 bg-white rounded\">\r\n                <p className=\"text-center my-4\">Recuperacion de contraseña</p>\r\n                <Form {...layout}  name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n                    <Form.Item label=\"Contraseña\" >\r\n                        <Form.Item name=\"password\" rules={[ { required: true, message: 'Rellenar los campos' } ]} noStyle >\r\n                            <Input.Password />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Confirmar contraseña\" >\r\n                        <Form.Item name=\"confirmPassword\" rules={[ { required: true, message: 'Rellenar los campos' } ]} noStyle >\r\n                            <Input.Password />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n                    <Alert\r\n                        className={`my-4 ${mostrarError}`}\r\n                        message=\"Contraseña distintas\"\r\n                        description=\"Las contraseñas son distintas, favor de poner la misma\"\r\n                        type=\"error\"\r\n                    />\r\n                    <Form.Item className=\"d-flex justify-content-center align-items-center text-center\" >\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\">\r\n                            Continuar\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","//layout\r\nimport LayoutAdmin from '../components/Layout_admin/LayoutAdmin'\r\nimport LayoutBasic from '../components/Layout/Layout'\r\n\r\n//Admin pages\r\nimport AdminHome from '../pages/admin/Principal/principal'\r\nimport RegistrarProductos from '../pages/admin/Productos/productos'\r\nimport Pedidos from '../pages/admin/Pedidos/pedidos'\r\nimport Promociones from '../pages/admin/Promociones/promociones_principal'\r\nimport SistemaApartado from '../pages/admin/Apartado/apartado'\r\nimport Inventario from '../pages/admin/Inventario/inventario'\r\nimport Sugerencias from '../pages/admin/Sugerencias/sugerencias'\r\nimport Carousel from '../pages/admin/Carousel/carousel'\r\nimport Publicidad from '../pages/admin/Publicidad/publicidad'\r\nimport BlogAdmin from '../pages/admin/Blog/blog'\r\nimport Clientes from '../pages/admin/Clientes/clientes'\r\nimport RegistroPublicidad from '../pages/admin/Publicidad/services/registro'\r\n\r\n//Users pages\r\nimport Home from '../pages/users/home'\r\nimport Entrar from '../pages/users//Inicio_sesion/entrar'\r\nimport QuienesSomos from '../pages/users/Quienes_somos/quienes_somos';\r\nimport ShoppingCart from '../pages/users/Carrito/shopping_cart'\r\nimport Productos from '../pages/users/Productos/productos'\r\nimport Blog from '../pages/users/Blogs/blog';\r\nimport PedidosUsuario from '../pages/users/Pedidos/pedidos'\r\nimport Ofertas from '../pages/users/Ofertas/ofertas'\r\nimport ResultadoBusqueda from '../pages/users/Resultado_Busqueda/resultado_busqueda'\r\nimport Perfiles from '../pages/users/Perfiles/perfiles'\r\nimport Confirmacion_compra from '../pages/users/Confirmacion_compra/confirmacion_compra'\r\n\r\n\r\n\r\nimport Politicas from '../pages/users/Politicas/politicas'\r\n//Secondary Component\r\nimport VistaProducto from '../pages/users/Vista_Producto/vista_producto'\r\nimport BusquedaCategorias from '../components/BusquedaCategorias/busqueda_categorias';\r\n\r\n//other\r\nimport Error404 from '../pages/users/error404'\r\nimport Error500 from '../pages/users/error500'\r\nimport Search404 from '../pages/users/Resultado_Busqueda/404'\r\nimport Success from '../pages/users/Success/success';\r\nimport ErrorPago from '../pages/users/Success/error';\r\n\r\nimport Recuperar_pass from '../components/Recuperar_pass/Recuperar_pass';\r\n\r\n\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/admin',\r\n\t\tcomponent: LayoutAdmin,\r\n\t\texact: false,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin',\r\n\t\t\t\tcomponent: AdminHome,\r\n\t\t\t\texact: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/productos',\r\n\t\t\t\tcomponent: RegistrarProductos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/pedidos',\r\n\t\t\t\tcomponent: Pedidos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/promociones',\r\n\t\t\t\tcomponent: Promociones,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/sistema_apartado',\r\n\t\t\t\tcomponent: SistemaApartado,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/inventario',\r\n\t\t\t\tcomponent: Inventario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/inventario/:tipoCategoria',\r\n\t\t\t\tcomponent: Inventario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/blog',\r\n\t\t\t\tcomponent: BlogAdmin,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/sugerencias',\r\n\t\t\t\tcomponent: Sugerencias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/carousel',\r\n\t\t\t\tcomponent: Carousel,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/publicidad',\r\n\t\t\t\tcomponent: Publicidad,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/clientes',\r\n\t\t\t\tcomponent: Clientes,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/banner/:accion/:idBanner',\r\n\t\t\t\tcomponent: RegistroPublicidad,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcomponent: Error404\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: '/resetPass/:idRecuperacion',\r\n\t\tcomponent: Recuperar_pass,\r\n\t\texact: false\r\n\t},\r\n\t{\r\n\t\tpath: '/',\r\n\t\tcomponent: LayoutBasic,\r\n\t\texact: false,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/',\r\n\t\t\t\tcomponent: Home,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/entrar',\r\n\t\t\t\tcomponent: Entrar,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/quienes_somos',\r\n\t\t\t\tcomponent: QuienesSomos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/shopping_cart',\r\n\t\t\t\tcomponent: ShoppingCart,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/productos',\r\n\t\t\t\tcomponent: Productos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/blog',\r\n\t\t\t\tcomponent: Blog,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/blog/:url',\r\n\t\t\t\tcomponent: Blog,\r\n\t\t\t\texact: true\r\n            },\r\n            {\r\n\t\t\t\tpath: '/pedidos',\r\n\t\t\t\tcomponent: PedidosUsuario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/ofertas',\r\n\t\t\t\tcomponent: Ofertas,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/productos',\r\n\t\t\t\tcomponent: Productos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/vista_producto/:url',\r\n\t\t\t\tcomponent: VistaProducto,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/politicas/',\r\n\t\t\t\tcomponent: Politicas,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/searching/:url',\r\n\t\t\t\tcomponent: ResultadoBusqueda,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/searching/',\r\n\t\t\t\tcomponent: Search404,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categorias/:categoria',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categorias/:categoria/:subcategoria',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:categoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:categoria/:subcategoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/filtros/:temporada/:categoria/:subcategoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/perfiles/',\r\n\t\t\t\tcomponent: Perfiles,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/confirmacion_compra/:url',\r\n\t\t\t\tcomponent: Confirmacion_compra,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/error500/',\r\n\t\t\t\tcomponent: Error500,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/success/:id',\r\n\t\t\t\tcomponent: Success,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/error/:id/:error',\r\n\t\t\t\tcomponent: ErrorPago,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcomponent: Error404\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n];\r\n\r\nexport default routes;\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React from 'react';\r\nimport Carousel from './Carusel_ofertas/carousel';\r\n/* import ConsultaProductos from './Productos/consulta_productos'; */\r\nimport Ofertas from './Ofertas/ofertasHome';\r\nimport BannerInformativo from './Datos_tienda/banner_informativo'\r\nimport Consulta_Banners from './BannerPromociones/consultaBanners';\r\nimport Banner_Promocionales from './BannerPromociones/bannerPromocionales';\r\nimport Datos_tienda from './Datos_tienda/datos_tienda';\r\nimport OfertasIzquierda from './Ofertas/OfertasHome/ofertasIzquierda';\r\nimport OfertasDerecha from './Ofertas/OfertasHome/ofertasDerecha';\r\nimport OfertasCentro from './Ofertas/OfertasHome/ofertasCentro';\r\n\r\nimport './home.scss'\r\n\r\nexport default function Home(props) {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Carousel />\r\n\t\t\t{/* <div className=\"contenedor-home-background\">\r\n\t\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t\t<div className=\"text-center textos-home col-lg-4 col-12\">\r\n\t\t\t\t\t\t\t<h2 className=\"mb-0\">REALIZA TU PAGO EN LÍNEA</h2>\r\n\t\t\t\t\t\t\t<p>ACEPTAMOS PAGOS CON TARJETA</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-center textos-home divider-home-banner col-lg-4 col-12 \">\r\n\t\t\t\t\t\t\t<h2 className=\"mb-0\">ENVÍO GRATUITO</h2>\r\n\t\t\t\t\t\t\t<p>EN PEDIDOS MAYORES A $1500.00</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-center textos-home col-lg-4 col-12\">\r\n\t\t\t\t\t\t\t<h2 className=\"mb-0\">APARTA TU PRODUCTO FAVORITO</h2>\r\n\t\t\t\t\t\t\t<p>PUEDES APARTAR TU PEDIDO Y PASAR POR EL</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> */}\r\n\t\t\t{/* <Ofertas /> */}\r\n\t\t\t<Consulta_Banners/>\r\n\t\t\t{/* <ConsultaProductos propiedades={props} /> */}\r\n            {/* <Datos_tienda /> */}\r\n\t\t\t{/* <OfertasIzquierda /> */}\r\n\t\t\t{/* <OfertasDerecha /> */}\r\n\t\t\t{/* <OfertasCentro /> */}\r\n\t\t\t<BannerInformativo />\r\n\t\t\t\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport Spin from '../../../components/Spin';\r\n\r\nexport default function QuienesSomos() {\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [imagenCorp, setImagenCorp] = useState([]);\r\n\r\n    function peticionImagenCoorporativa(){\r\n        clienteAxios.get('/tienda/')\r\n            .then((res) => {\r\n                setLoading(false)\r\n                if (res.data[0].politicas !== \"\") {\r\n                    setImagenCorp(res.data[0].imagenCorp)\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                if(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n            });\r\n    }\r\n    \r\n    useEffect(() => {\r\n        peticionImagenCoorporativa();\r\n        setLoading(true)\r\n    }, [])\r\n\r\n    return (\r\n        <Spin spinning={loading}>\r\n            <div className=\"container bg-white shadow mb-5\">\r\n                <div style={{lineHeight: \"35px\",color:\"black\"}} dangerouslySetInnerHTML={{__html: imagenCorp}} className='mt-5 px-4' />\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport MostrarDatosProductos from './MostrarDatosCarrito';\r\nimport { CarritoProvider } from './context_carrito/context-carrito';\r\n\r\nexport default function ShoppingCart() {\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<div style={{ background: 'white' }} className=\"shadow\">\r\n\t\t\t\t<CarritoProvider>\r\n\t\t\t\t\t<MostrarDatosProductos />\r\n\t\t\t\t</CarritoProvider>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"Escribe el nombre del producto que deseas buscar\"\r\n      />\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport ActualizarUsuario from './service/ActualizarUsuario';\r\nimport Spin from '../../../components/Spin';\r\n\r\nexport default function Perfiles(props) {\r\n\tconst [ datosUser, setDatosUser ] = useState(null);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\r\n\t//Obtener token de localStorage\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t//Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t//Verificar el JWT\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== false) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif (token === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tsetLoading(false);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tobtenerDatosUser();\r\n\t\t\tsetAccion(false);\r\n\t\t},\r\n\t\t[ accion ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container col-lg-6\">\r\n\t\t\t\t<h1 className=\"mt-5 text-center font-prin\">Bienvenido a tu perfil</h1>\r\n\t\t\t\t<div className=\"mt-3 px-5 mx-auto\" style={{ background: 'white', left: '50%' }}>\r\n\t\t\t\t\t<ActualizarUsuario\r\n\t\t\t\t\t\tdatosUser={datosUser}\r\n\t\t\t\t\t\tdecoded={decoded}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tsetAccion={setAccion}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error500 () {\r\n    return (\r\n        <Result\r\n        status=\"500\"\r\n        title=\"Error del servidor\"\r\n        subTitle=\"Ups, Parece que hubo un error con el servidor.\"\r\n      />\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Result, Button, notification, Divider } from 'antd';\r\nimport { Avatar } from 'antd';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport './success.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport aws from '../../../config/aws';\r\nimport Spin from '../../../components/Spin';\r\n\r\nexport default function Success(props) {\r\n\tconst pedidoID = props.match.params.id;\r\n\tconst [ pedido, setPedido ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst obtenerPedido = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${pedidoID}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif(res.data.length === 0){\r\n\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t}\r\n\t\t\t\tsetPedido(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/');\r\n\t\t} else {\r\n\t\t\tobtenerPedido();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tif (pedido.pedido) {\r\n\t\tvar avatar_productos = pedido.pedido.map((pedido) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Avatar\r\n\t\t\t\t\tsize={75}\r\n\t\t\t\t\tkey={pedido._id}\r\n\t\t\t\t\tsrc={aws+pedido.producto.imagen}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t});\r\n\t\tvar nombre_productos = pedido.pedido.map((pedido) => {\r\n\t\t\treturn <p key={pedido._id}>{pedido.producto.nombre}</p>;\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"contenedor-bgcolor-success\">\r\n\t\t\t<div className=\"contenedor-success m-5 shadow-lg\">\r\n\t\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\tclassName=\"result-pago\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"swal2-icon swal2-success swal2-animate-success-icon\"\r\n\t\t\t\t\t\t\t\tstyle={{ display: 'flex' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"swal2-success-circular-line-left\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: 'rgb(255, 255, 255)' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-success-line-tip\" />\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-success-line-long\" />\r\n\t\t\t\t\t\t\t\t<div className=\"swal2-success-ring\" />\r\n\t\t\t\t\t\t\t\t<div className=\"swal2-success-fix\" style={{ backgroundColor: 'rgb(255, 255, 255)' }} />\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"swal2-success-circular-line-right\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: 'rgb(255, 255, 255)' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle=\"Pago realizado exitosamente\"\r\n\t\t\t\t\t\tsubTitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tEl ID del pedido es <strong> {pedido._id}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<Divider>Detalles del pedido</Divider>\r\n\t\t\t\t\t\t\t\t<div className=\"m-2\">{avatar_productos}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t\t\t<h6>Productos:</h6>\r\n\t\t\t\t\t\t\t\t\t<div>{nombre_productos}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t<h5>Total del pedido:</h5>\r\n\t\t\t\t\t\t\t\t\t<h4>${formatoMexico(pedido.total)}</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\textra={[\r\n\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" className=\"mb-3 color-boton\">\r\n\t\t\t\t\t\t\t\t\tIr a Pagina principal\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Result, Button } from 'antd';\r\nimport './success.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function ErrorPago(props) {\r\n\tconst pedidoID = props.match.params.id;\r\n\tconst error = props.match.params.error;\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/');\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"contenedor-bgcolor-error\">\r\n\t\t\t<div className=\"contenedor-error m-5 shadow-lg\">\r\n\t\t\t\t<Result\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t<div className=\"swal2-icon swal2-error swal2-animate-error-icon\" style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t\t<span className=\"swal2-x-mark\">\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-x-mark-line-left\" />\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-x-mark-line-right\" />\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttitle=\"Tu pago no ha sido aprovado\"\r\n\t\t\t\t\tsubTitle={error}\r\n\t\t\t\t\textra={[\r\n\t\t\t\t\t\t<Link key=\"principal\" to=\"/\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" className=\"color-boton\">\r\n\t\t\t\t\t\t\t\tIr a pagina principal\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n{/* <Link key=\"reintentar\" to={`/confirmacion_compra/${pedidoID}`}>\r\n\t<Button type=\"primary\" ghost className=\"mb-3 color-boton-sec\">\r\n\t\tReintentar\r\n\t</Button>\r\n</Link>; */}\r\n","import React from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'antd/dist/antd.css';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport routes from './config/routes';\r\nimport { Helmet } from 'react-helmet';\r\nimport './scss/styleKryspi.scss';\r\nimport { MenuProvider } from './context/carritoContext';\r\n\r\nexport default function App() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<meta charSet=\"utf-8\" />\r\n\t\t\t\t<title>Krispy Chiken</title>\r\n\t\t\t</Helmet>\r\n\t\t\t<MenuProvider>\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Switch>{routes.map((route, index) => <RoutesWithSubRoutes key={index} {...route} />)}</Switch>\r\n\t\t\t\t</Router>\r\n\t\t\t</MenuProvider>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction RoutesWithSubRoutes(route) {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\tpath={route.path}\r\n\t\t\texact={route.exact}\r\n\t\t\trender={(props) => <route.component routes={route.routes} {...props} />}\r\n\t\t/>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css'\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/especial2.c53fde15.png\";","module.exports = __webpack_public_path__ + \"static/media/especial3.9fee3add.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo3.64c04b06.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo1.e4c091d3.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo5.dfa26b4b.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo6.5b57f8ec.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo2.39e535fe.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo4.815bd584.png\";","module.exports = __webpack_public_path__ + \"static/media/especial1.5c60fb7f.png\";","module.exports = __webpack_public_path__ + \"static/media/visa.d2eb00b7.png\";","module.exports = __webpack_public_path__ + \"static/media/mastercard.ae0915fe.png\";","module.exports = __webpack_public_path__ + \"static/media/chip-tarjeta.6611645b.png\";"],"sourceRoot":""}