{"version":3,"sources":["components/Navegacion_Admin/Sidebar.js","context/admincontext.js","components/Layout_admin/LayoutAdmin.js","context/carritoContext.js","config/aws.js","components/Categorias/Categorias.js","components/Navegacion/RightMenu.js","components/Categorias/Categorias_Responsive.js","components/Navegacion/NavegacionResponsive.js","components/Navegacion/Navegacion.js","components/Footer/Footer.js","config/axios.js","components/Spin.js","pages/admin/Principal/services/RegistroTienda/politicas_envio.js","pages/admin/Principal/services/RegistroTienda/registroPoliticas.js","config/tokenEstados.js","pages/admin/Principal/services/RegistroTienda/cobertura_envios.js","pages/admin/Principal/services/RegistroTienda/horarios.js","pages/admin/Principal/services/RegistroTienda/RegistroTienda.js","pages/admin/Principal/services/RegistroTienda/MostrarRegistroTienda.js","pages/admin/Principal/principal.js","pages/admin/contexts/ProductoContext.js","pages/admin/Productos/services/registrar_galeria.js","pages/admin/Productos/services/registrar_talla.js","pages/admin/Productos/services/registrar_numero.js","pages/admin/Productos/services/registrar_producto.js","pages/admin/Productos/services/actualizar_galeria.js","pages/admin/Productos/services/actualizar_talla.js","pages/admin/Productos/services/actualizar_numero.js","pages/admin/Productos/services/actualizar_producto.js","components/Pagination/pagination.js","config/reuserFunction.js","pages/admin/Productos/productos.js","pages/admin/Pedidos/detalles_pedido.js","pages/admin/Pedidos/estado_pedido.js","pages/admin/Pedidos/pedidos.js","pages/admin/Promociones/promos_normales/services/registrar_promocion.js","pages/admin/Promociones/promos_normales/services/actualizar_promocion.js","pages/admin/Promociones/promos_normales/promociones.js","pages/admin/Promociones/promos_masivas/registrar_promocion_masiva.js","pages/admin/Promociones/promos_masivas/promo_masiva.js","pages/admin/Promociones/promociones_principal.js","pages/admin/Apartado/services/MostrarDatosTargeta.js","pages/admin/Apartado/services/DetalleApartado.js","pages/admin/Apartado/services/MostrarDatosMultiplesTarjeta.js","pages/admin/Apartado/apartado.js","components/excel.js","pages/admin/Inventario/tablas_inventarios/inventario_otros.js","pages/admin/Inventario/tablas_inventarios/inventario_tallas.js","pages/admin/Inventario/tablas_inventarios/inventario_numeros.js","pages/admin/Inventario/inventario.js","pages/admin/Sugerencias/services/sugerencia.js","pages/admin/Sugerencias/sugerencias.js","pages/admin/Carousel/services/carousel.js","pages/admin/Carousel/carousel.js","pages/admin/Publicidad/services/tipoBanner.js","pages/admin/Publicidad/publicidad.js","pages/admin/Blog/services/blogList.js","pages/admin/contexts/BlogContext.js","pages/admin/Blog/services/ActualizarBlog.js","pages/admin/Blog/services/RegistrarBlog.js","pages/admin/Blog/blog.js","pages/admin/Clientes/consutaExcel.js","pages/admin/Clientes/clientes.js","pages/users/BannerPromociones/BannerOrientacion/imagenBanner.js","pages/users/Productos/Card_Secundaria/card_secundaria.js","pages/users/Productos/Cards_Normales/card_producto_frente.js","pages/users/BannerPromociones/cardsProductos.js","pages/users/BannerPromociones/BannerOrientacion/banner_orientacion.js","pages/users/BannerPromociones/BannerLargo/BannerLargo.js","pages/users/BannerPromociones/BannerCuadrados/bannerDoble.js","pages/users/BannerPromociones/BannerCuadrados/bannerTriple.js","pages/users/BannerPromociones/bannerPromocionales.js","pages/admin/Publicidad/services/previewBanner.js","pages/admin/Publicidad/services/registro.js","pages/users/Carusel_ofertas/carousel.js","pages/users/BannerPromociones/consultaBanners.js","pages/users/Registro/registro.js","pages/users/Login/login.js","config/firebase.js","components/Firebase/firebase.js","pages/users/Inicio_sesion/entrar.js","pages/users/Carrito/context_carrito/context-carrito.js","pages/users/Carrito/services/pedido_carrito.js","pages/users/Carrito/services/apartado_carrito.js","pages/users/Carrito/services/consultasCarrito.js","pages/users/Carrito/services/consultas_individuales.js","pages/users/Carrito/modal_apartado.js","pages/users/Carrito/verificarArticulos.js","pages/users/Carrito/lista_carrito.js","pages/users/Carrito/services/obtenerStock.js","pages/users/Carrito/MostrarDatosCarrito.js","pages/users/Productos/Cards_Normales/card_producto.js","pages/users/Productos/consulta_productos.js","pages/users/Productos/productos.js","pages/users/Blogs/services/BlogList.js","pages/users/Blogs/services/ShowBlog.js","pages/users/Blogs/blog.js","pages/users/Pedidos/detalles.js","pages/users/Pedidos/detalleApartado.js","pages/users/Pedidos/apartadoMultiple.js","pages/users/Pedidos/pedidos.js","pages/users/Ofertas/ofertas.js","pages/users/Resultado_Busqueda/resultado_busqueda.js","pages/users/Perfiles/service/ActualizarUsuario.js","pages/users/Confirmacion_compra/services/traer_datos.js","pages/users/Confirmacion_compra/services/Verificacion_Tarjeta.js","pages/users/Confirmacion_compra/services/traer_pedido.js","pages/users/Confirmacion_compra/services/Confirmacion_Final.js","pages/users/Confirmacion_compra/services/tipo_pago.js","pages/users/Confirmacion_compra/confirmacion_compra.js","pages/users/Politicas/politicas.js","pages/users/Vista_Producto/subs/scroll.js","pages/users/Vista_Producto/subs/servicesSugerencia.js","pages/users/Vista_Producto/subs/sugerencia.js","pages/users/Vista_Producto/Galeria_tienda/galeria.js","pages/users/Vista_Producto/subs/services.js","pages/users/Vista_Producto/subs/cantidades_y_tallas.js","pages/users/Vista_Producto/Info_tienda/info-tienda.js","pages/users/Vista_Producto/vista_producto.js","components/BusquedaCategorias/busqueda_categorias.js","pages/users/error404.js","components/Recuperar_pass/Recuperar_pass.js","config/routes.js","components/Layout/Layout.js","pages/users/home.js","pages/users/Quienes_somos/quienes_somos.js","pages/users/Carrito/shopping_cart.js","pages/users/Resultado_Busqueda/404.js","pages/users/Perfiles/perfiles.js","pages/users/error500.js","pages/users/Success/success.js","pages/users/Success/error.js","App.js","index.js","pages/admin/Publicidad/imagenes/especial2.png","pages/admin/Publicidad/imagenes/especial3.png","pages/admin/Publicidad/imagenes/estilo3.png","pages/admin/Publicidad/imagenes/estilo1.png","pages/admin/Publicidad/imagenes/estilo5.png","pages/admin/Publicidad/imagenes/estilo6.png","pages/admin/Publicidad/imagenes/estilo2.png","pages/admin/Publicidad/imagenes/estilo4.png","pages/admin/Publicidad/imagenes/especial1.png","components/Layout/Mantenimiento.png","pages/users/Confirmacion_compra/img/logos/visa.png","pages/users/Confirmacion_compra/img/logos/mastercard.png","pages/users/Confirmacion_compra/img/chip-tarjeta.png"],"names":["Sider","Layout","token","localStorage","getItem","rol","JSON","parse","atob","split","e","parseJwt","withRouter","props","style","height","breakpoint","collapsedWidth","onBreakpoint","broken","onCollapse","collapsed","type","className","theme","mode","defaultSelectedKeys","window","location","pathname","Item","key","icon","FundOutlined","to","TeamOutlined","AppstoreAddOutlined","FormOutlined","TagOutlined","ShoppingCartOutlined","PercentageOutlined","NotificationOutlined","PictureOutlined","EditOutlined","HomeOutlined","PoweroffOutlined","onClick","removeItem","history","push","danger","BannerContext","createContext","BannerProvider","children","useState","actualizarDatos","setActualizarDatos","reload","setReload","Provider","value","LoadRoutes","routes","map","route","index","path","exact","component","MenuContext","MenuProvider","active","setActive","loading","setLoading","reloadFilter","setReloadFilter","datosContx","setDatosContx","navPrimary","text","background","hoverText","navSecondary","bodyPage","card","footer","colores","setColores","aws","process","SubMenu","Menu","useContext","categoriaSeleccionada","setCategoriaSeleccionada","subcategoriaSeleccionada","setSubcategoriaSeleccionada","temporadaSeleccionada","setTemporadaSeleccionada","generoSeleccionado","setGeneroSeleccionado","useEffect","limpiarFiltros","classes","makeStyles","backgroundColor","color","hover","divider","borderRight","useStyles","navbar","filtroNav","genero","categorias_nav","categoria","title","onTitleClick","subcCategoria","sub","_id","length","triggerSubMenuAction","RightMenu","decoded","jwt_decode","Jwt","ofertas","tienda","imagen","imagenFireBase","size","src","nombre","charAt","SettingOutlined","firebase","signOut","setTimeout","LogoutOutlined","padding","margin","width","border","NavegacionResponsive","openSearch","setOpenSearch","borderBottom","visible","setVisible","MenuOutlined","fontSize","imagenLogo","alt","inlineindent","ShoppingOutlined","auth","count","carritoCantidad","placement","closable","onClose","Search","Input","Header","tip","UserOutlined","placeholder","borderRadius","onSearch","CloseCircleOutlined","Footer","clienteAxios","axios","create","baseURL","Spinner","spinning","PoliticasEnvio","setCurrent","current","next","datosNegocio","setDatosNegocio","reloadInfo","setReloadInfo","disabled","setDisabled","datos","setDatos","control","setControl","idTienda","setIdTienda","Form","useForm","form","a","get","headers","Authorization","then","res","data","setFieldsValue","costoEnvio","promocionEnvio","descuento","catch","err","response","notification","error","message","description","duration","post","idAdministrador","success","put","obtenerDatos","showIcon","onFinish","label","onChange","target","name","wrapperCol","span","offset","help","suffix","htmlType","PlusCircleOutlined","Registro_Politicas","undefined","politicas","politicasVentas","politicasEnvios","politicasDescuentos","politicasDevolucion","console","log","valuePropName","noStyle","init","menubar","plugins","toolbar","onEditorChange","content","editor","EditableContext","React","EditableRow","EditableCell","editable","dataIndex","record","handleSave","restProps","editing","setEditing","inputRef","useRef","focus","toggleEdit","save","validateFields","values","childNode","ref","onPressEnter","onBlur","nativeEvent","inputType","maxLength","paddingRight","HorariosAdmin","disable","setDisable","dia","horaInicio","horaFinal","close","dataSource","setDataSource","columns","render","_","checked","checkedChildren","unCheckedChildren","onChangeCloseDay","components","body","row","cell","newData","findIndex","item","splice","enviarDatos","horario","columnas","col","onCell","rowClassName","bordered","pagination","marginBottom","RegistroTienda","steps","Step","Steps","upload","setUpload","files","setFiles","setImagen","linkFace","linkInsta","linkTweeter","telefono","calle_numero","direccion","cp","colonia","ciudad","estado","imagenCorp","propss","listType","beforeUpload","file","reader","FileReader","readAsDataURL","onload","thumbUrl","result","onRemove","SendForm","formData","FormData","append","info","UploadOutlined","labelCol","rules","required","status","AlertTienda","action","setAction","face","setFace","insta","setInsta","twitter","setTwitter","politicasEnvio","setPoliticasEnvio","drawnerClose","obtenerPoliticasEnvio","useCallback","screen","bodyStyle","paddingBottom","textAlign","href","rel","FacebookFilled","InstagramFilled","TwitterCircleFilled","horarioInicial","horarioFinal","image","EyeOutlined","Helmet","charSet","ProductoContext","IdProductoContext","confirm","Modal","RegistrarGaleria","productoContext","galeria","setGaleria","subirBD","obtenerBD","imagenes","eliminarBD","idimagen","delete","prev","setPrev","url","ExclamationCircleOutlined","okText","okType","cancelText","onOk","DeleteOutlined","RegistrarTalla","disabledForm","disabledButtons","productos","setProductos","talla","cantidad","datosForm","subirTalla","resul","tallas","find","element","obtenerTalla","resetFields","eliminarTalla","idtalla","minWidth","gutter","RegistrarNumero","numero","subirNumero","numeros","obtenerNumero","eliminarNumero","idnumero","Option","Select","layout","String","prototype","capitalize","this","toUpperCase","slice","formRef","setCloseDraw","closeDraw","setEditor","disabledPrev","setDisabledPrev","disabledform","setDisabledForm","disabledformProductos","setDisabledFormProductos","loadingCombo","setLoadingCombo","reloadProductos","setItem","buttonCat","setButtonCat","categoriasBD","setCategoriasBD","categoriasDefault","setCategoriasDefault","subcategoriasDefault","setSubcategoriasDefault","subCategoriasBD","setSubCategoriasBD","subCategoria","setSubCategoria","displayColorPicker","setDisplayColorPicker","setColor","valueSelect","setValueSelect","valueSelectSubCat","setValueSelectSubCat","temporadasBD","setTemporadasBD","styles","reactCSS","default","swatch","boxShadow","display","cursor","popover","position","zIndex","cover","top","right","bottom","left","setSelect","obtenerCategorias","obtenerTemporadasBD","obtenerSubcategorias","codigo","precio","select","setGenero","tipoCategoria","setTipoCategoria","productoID","setProductoID","temporada","userStored","addItemSubCategoria","onSubCategoriaChange","setTemporada","valueSelectTemporada","setValueSelectTemporada","temporadaDefault","setTemporadaDefault","onTemporadaChange","addItemTemporada","Group","Button","dropdownRender","menu","onFinishFailed","errorFields","forEach","errors","initialValues","flexWrap","flex","PlusOutlined","min","step","compact","hex","existeGaleria","setExisteGaleria","idImagen","setIdImagen","antprops","propsActualizar","actualizarBD","formdata","ActualizarTalla","idTalla","setIdTalla","showZero","idTallas","ActualizarNumero","idNumero","setIdNumero","rellenarCampos","TabPane","Tabs","ActualizarProducto","valueSelectCat","setValueSelectCat","itemCat","setItemCat","descripcion","colorHex","obtenerValores","onCategoriaChange","addItemCategoria","subirDatos","defaultActiveKey","tab","blogs","limite","currentPage","parseInt","page","defaultCurrent","total","totalDocs","newPage","onChangePage","defaultPageSize","verificarDiasLaborales","numero_dia","Date","getDay","filter","hora","formatoMexico","number","parseFloat","toFixed","toString","replace","formatoFecha","fecha","toLocaleDateString","weekday","year","month","day","formatoHora","toLocaleTimeString","hour12","agregarPorcentaje","precio_descuento","precio_producto","Math","round","gridStyle","queryString","search","productosRender","setProductosRender","accion","setAccion","reloadData","setReloadData","visibleButton","setVisibleButton","eventoCloseConfirm","obtenerProductosFiltrados","busqueda","obtenerProductos","posts","limit","docs","Grid","hoverable","maxHeight","actions","idproducto","promocion","promo","precioPromocion","forceRender","justify","enterButton","RollbackOutlined","maxWidth","subTitle","DetallesPedido","pedido","datosDetalle","createdAt","fecha_envio","tipo_pago","estado_pedido","pagado","cliente","email","entre_calles","producto","toLowerCase","TextArea","EstadoPedido","handleCancelEstado","IDpedido","datosPedido","setPedido","pedidoID","entregado","setEntregado","obtenerPedido","cambiarEstado","mensaje_admin","paqueteria","codigo_seguimiento","orientation","overlay","DownOutlined","rows","Meta","Card","pedidos","setPedidos","pedidosPaginacion","setPedidosPaginacion","estadoVisible","setEstadoVisible","detallePedido","setDetallePedido","obtenerPedidos","obtenerPedidosFiltrados","filtro","ContainerOutlined","defaultValue","onCancel","demo","overflow","RegistrarPromocion","setContent","setData","hasMore","setHasMore","setPage","setTotalDocs","loadingList","setLoadingList","loadingSelect","setLoadingSelect","setProducto","setPromocion","setPrecioPromocion","disabledSumit","setDisabledSumit","validateStatus","setValidateStatus","inputValue","setInputValue","categoriasDB","setCategoriasDB","setCategoria","subcategoriasDB","setSubcategoriasDB","subcategoria","setSubcategoria","generosDB","setGenerosDB","obtenerGeneros","nextPage","callback","propsUpload","formDataImagen","subirImagen","promocionBase","imagenPromocion","subirPromocion","obtenerFiltrosDivididos","cat","gen","ClearOutlined","initialLoad","pageStart","loadMore","concat","useWindow","threshold","renderItem","avatar","max","tipFormatter","porcentaje","marks","0","50","100","prefix","ActualizarPromocion","obtenerPromocion","obtenerCampo","antDprops","antDpropsActualizar","actualizarImagen","productoPromocion","eliminarImagen","actualizarPromocion","tooltipVisible","setSearch","productosFiltrados","setProductosFiltrados","includes","idProducto","showDeleteConfirm","eliminarPromocion","RegistroPromocionMasiva","dataPromocion","setDataPromocion","actualizar","setActualizar","promoMasiva","showDrawer","limpiar","setSelectedRowKeys","setPromocionMasiva","checks","listaBD","limpiarChecks","promocionMasiva","selectedRowKeys","hasSelected","rowSelection","listaIDs","getCheckboxProps","idPromocionMasiva","onSelect","selected","selectedRows","onSelectAll","checkearChecks","porsentajePromocionMasiva","listaPromosActuales","listaPromosData","listaPromociones","marginRight","marginLeft","rowKey","maxCount","maxStyle","PromoMasivaPrincipal","setPromo","obtenerPromosMasivas","eliminarPromocionMasiva","idPromoMasiva","itemLayout","actualizarActive","productosPromoMasiva","MostrarDatosTargeta","setDetalleApartado","showModal","apartado","setEstado","id","apellido","tipoEntrega","Text","Typography","DetalleApartado","multiple","detalleApartado","selectEstado","setSelectEstado","setpromocion","datosEnvio","setdatosEnvio","apartadoMultiple","productosMultiple","ProductosMultiple","monstrarInformacionBlog","mensajeUser","guardarEstadoApartado","pais","medida","MostrarDatosMultipleTargeta","apartados","setApartados","apartadoPaginacion","setApartadoPaginacion","setFilter","GetDataFromExcelJusTInput","hojas","setHojas","fileList","setFileList","uploading","setUploading","propsUlpload","readAsArrayBuffer","onloadend","Uint8Array","workbook","XLSX","SheetNames","sheetName","XL_row_object","sheet_to_row_object_array","Sheets","setCantidad","idSeleccionado","setIdSeleccionado","obtenerValor","actualizarCantidad","warning","overflowCount","MinusOutlined","scroll","x","idTallaSeleccionada","setIdTallaSeleccionada","setTalla","obtenerTallas","idNumeroSeleccionada","setIdNumeroSeleccionada","setNumero","categorias","setCategorias","match","params","otros","tabs","searchBar","tabBarExtraContent","Sugerencia","sugerencia","setSugerencia","productoSugerido","setProductoSugerido","modalVisible","setModalVisible","obtenerProducto","obtenerSugerencia","obtenerTodosProductos","sugerencias","crearSugerencia","actualizarSugerencia","eliminarSugerencia","CloseOutlined","CheckOutlined","productosPaginacion","setProductosPaginacion","visibleReload","setVisibleReload","CarouselImages","imagenPreview","setImagenPreview","nombreImagen","setNombreImagen","antdProps","crearCarousel","obtenerNombreImagen","modalCrearVisible","setModalCrearVisible","obtenerCarouseles","carouselID","carousel","centered","Panel","Collapse","loadingBackDrop","setLoadingBackDrop","crearBannerBD","estilo","publicado","ghost","showArrow","header","ImagenEstilo1","ImagenEstilo3","ImagenEstilo5","ImagenEstilo6","CollapseBanners","banner","publicarBanner","banners","orientacion","ImagenEstilo4","ImagenEstilo2","elementos","i","array","borderColor","ImagenEspecial1","ImagenEspecial2","ImagenEspecial3","imagenBanner","tipo","vincular","CheckSquareOutlined","CloseSquareOutlined","mostrarTitulo","mostrarProductos","blogList","setReloadBlog","setInfoBlog","deleteBlog","blog","Blog","administrador","BlogContext","ActualizarBlog","blogContext","urlGuion","obtenerUrl","trim","RegistrarBlog","blogData","setBlogData","processPost","hide","setBlogs","reloadBlog","infoBlog","getBlogsApi","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","consulta","setConsulta","obtenerConsulta","clientes","filename","Clientes","setClientes","clientesPaginados","setClientesPaginados","obtenerClientes","obtenerClientesFiltrados","Imagen_Banner","link","imagenLocal","CardSecundaria","Card_Producto_Frente","class","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","CardsProductos","Banner_Orientacion","subBanner","Element","BgElement","Banner_Promocionales","PreviewBanner","previewImage","array_banner","getBase64","Promise","resolve","reject","onerror","carrucel","prefixCls","backgroundImage","autoPlay","delay","tailLayout","vista","remember","Password","validator","mostrarDiv","setMostrarDiv","mostrarMensaje","setmostrarMensaje","onRecuperar","apiKey","authDomain","databaseURL","REACT_APP_FIREBASE_DATA_BASE_URL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseConfig","Firebase","user","setUser","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","valores","contrasena","onAuthStateChanged","displayname","displayName","uid","photoURL","uiCallback","ui","disableAutoSignIn","firebaseAuth","CarritoContext","CarritoProvider","activador","setActivador","validacion","setValidacion","idcliente","nuevo","articulos","idarticulo","activo","eliminado","carrito","arr","subtotal","ApartadoCarrito","modal","setApartadoMultiple","setTotal","tipoEnvio","obtenerCarrito","apartadoMultipleCompleto","apartarCarrito","articulo","ModalApartado","handleOk","AgregarApartado","verificarArticulos","ListaCarrito","setMedida","disponible","setDisponible","medidaDisponible","setMedidaDisponible","setPrecio","setEliminado","laboral","setLaboral","cantidadChange","comprar","AgregarPedido","eliminar","EliminarArticuloCarrito","tallaCantidad","numeroCantidad","verificar","obtenerSubtotal","AlertOutlined","setCarrito","setCliente","nuevoCarrito","setNuevoCarrito","crearPedido","AgregarPedidoCarrito","obtenerDatosCarrito","obtenerStockCarrito","extra","fontWeight","Card_Producto","ConsultaProductos","propiedades","Productos","BlogList","BlogsList2","ShowBlog","ObtenerBlog","useParams","Producto","faBus","paddingLeft","ApartadoMultiple","setElige","deleteApartado","Pedido","Apartado","scrollTo","ResultadoBusqueda","ActualizarUsuario","datosUser","setAvatar","enviarFile","setEnviarFile","datosFormulario","setdatosFormulario","password","setPassword","contrasenaActual","repeatContrasena","tipoSesion","preview","datosPassword","UploadAvatar","onDrop","acceptedFiles","URL","createObjectURL","useDropzone","accept","noKeyboard","getRootProps","getInputProps","isDragActive","Traer_datos","setValue","setDatosActualizados","envioRechadazo","setEnvioTotal","alertRechazo","envios","faUser","Verificacion_Tarjeta","setIdPago","stripePromise","loadStripe","stripe","CheckoutForm","useStripe","elements","useElements","setName","postal","setPostal","typeCard","setTypeCard","numbrerCard","setNumbrerCard","dateCard1","setDateCard1","dateCard2","setDateCard2","activeCard","setActiveCard","controlClick","setcontrolClick","cvvCard","setCvvCard","handleSubmit","cardElement","getElement","CardNumberElement","createPaymentMethod","billing_details","address","postal_code","payload","paymentMethod","img_visa","img_mastercard","chip_tarjeta","htmlFor","brand","complete","cardOnChage","letterSpacing","onFocus","cardDateOnChange","cvvChange","Traer_pedido","pedidoCompleto","Confirmacion_Final","idPago","datosActualizados","pagoTarjeta","setDireccion","setDatosEnvio","traerCostosEnvio","crearPagoEnEfectivo","newPedido","datosPago","crearPago","centavo","sesionStripe","amount","code","faTruck","faCcVisa","faCcMastercard","funding","last4","exp_month","exp_year","TipoPago","setPagoTarjeta","Politicas","setPoliticas","lineHeight","Scroll","categoriaProducto","categoriaSugerencia","cantidadProducto","cantidadSugerencia","medidaProducto","medidaSugerencia","precioProducto","precioSugerencia","setProductoPromocion","cantidadFinalProducto","setCantidadFinalProducto","disponibilidad","setDisponibilidad","setDataEstados","traerDatos","todos","sugerenciaPromocion","setSugerenciaPromocion","validateStatusSug","setValidateStatusSug","setMedidaSugerencia","cantidadFinalSugerencia","setCantidadFinalSugerencia","setDisponibilidadSugerencia","promocionProducto","promocionSugerencia","productoPrecio","sugerenciaPrecio","showConfirm","IssuesCloseOutlined","obtenerDisponibilidad","justifyContent","Galeria","setCount","original","thumbnail","imagenZoom","setImagenZoom","galery","showPlayButton","showNav","showFullscreenButton","ReactImageMagnify","propiedadesImageMagnify","onThumbnailClick","disableKeyDown","obtenerImagen","obtenerGaleria","setZoomHeight","setZoomWidth","img","Image","naturalWidth","naturalHeight","smallImage","isFluidWidth","largeImage","enlargedImagePortalId","items","AgregarCarrito","formItemLayout","xs","sm","setTallas","setNumeros","setRender","cantidadFinal","setCantidadFinal","setTienda","obtenerTienda","modalMensaje","WhatsAppOutlined","okButtonProps","CoffeeOutlined","Carrito","readMore","setReadMore","setCostoEnvio","OnClickReadMore","CreditCardOutlined","BusquedaCategorias","resultado","setResultado","todosProductos","setTodosProductos","temp","obtenerTodos","separator","Error404","FormResetPass","mostrarError","Content","minHeight","AdminHome","RegistrarProductos","Pedidos","SistemaApartado","Inventario","BlogAdmin","Sugerencias","Carousel","bannerBD","setBannerBD","bannerSeleccionado","setBannerSeleccionado","obtenerBannersBD","eliminarBanner","renderBanners","idBanner","generosBD","setGenerosBD","bannerRender","setBannerRender","disabledCheck","setDisabledCheck","disabledReg3","setDisabledReg3","saveAndPublish","setSaveAndPublish","openPreview","setOpenPreview","setPreviewImage","previewTitle","setPreviewTitle","limpiarCampos","uploadProps","onPreview","originFileObj","substring","lastIndexOf","obtenerOrientacion","obtenerChecks","temporadas","generos","llenarCampos","obtenerBannerBD","obtenerTemporadas","options","hideRequiredMark","marginTop","idRecuperacion","setmostrarError","acceso","setAcceso","cambiarEstadoPass","confirmPassword","alignItems","MantenimientoImg","Entrar","setImagenCorp","Elige","showInfo","setshowInfo","obtenerApartados","Ofertas","VistaProducto","setDatosUser","obtenerDatosUser","setPedidoCompleto","avatar_productos","nombre_productos","App","nombreTienda","setNombreTienda","obtenerInformacionTienda","colorPage","RoutesWithSubRoutes","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.05c1f764.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Layout, Menu, Button } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './sidebar.scss';\r\nimport {\r\n\tFundOutlined,\r\n\tAppstoreAddOutlined,\r\n\tFormOutlined,\r\n\tPoweroffOutlined,\r\n\tTagOutlined,\r\n\tShoppingCartOutlined,\r\n\tNotificationOutlined,\r\n\tPercentageOutlined,\r\n\tPictureOutlined,\r\n\tEditOutlined,\r\n\tHomeOutlined,\r\n\tTeamOutlined\r\n} from '@ant-design/icons';\r\n\r\nconst { Sider } = Layout;\r\nconst token = localStorage.getItem('token');\r\nconst rol = parseJwt(token);\r\n\r\nfunction parseJwt(token) {\r\n\ttry {\r\n\t\treturn JSON.parse(atob(token.split('.')[1]));\r\n\t} catch (e) {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nconst Sidebar = (props) => {\r\n\treturn (\r\n\t\t<Sider\r\n\t\t\tstyle={{ height: '100vh' }}\r\n\t\t\tbreakpoint=\"lg\"\r\n\t\t\tcollapsedWidth=\"0\"\r\n\t\t\tonBreakpoint={(broken) => {\r\n\t\t\t\t/* console.log(broken); */\r\n\t\t\t}}\r\n\t\t\tonCollapse={(collapsed, type) => {\r\n\t\t\t\t/* console.log(collapsed, type); */\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"ml-1\">\r\n\t\t\t\t\t<h6 className=\"text-white\">Bienvenido</h6>\r\n\t\t\t\t\t{token ? <h5 className=\"text-white\">{rol['nombre']}</h5> : <div />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[ window.location.pathname ]}>\r\n\t\t\t\t<Menu.Item key=\"/admin\" icon={<FundOutlined />}>\r\n\t\t\t\t\tPanel principal<Link to=\"/admin\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/clientes\" icon={<TeamOutlined />}>\r\n\t\t\t\t\tClientes<Link to=\"/admin/clientes\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/productos\" icon={<AppstoreAddOutlined />}>\r\n\t\t\t\t\tProductos<Link to=\"/admin/productos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/inventario\" icon={<FormOutlined />}>\r\n\t\t\t\t\tInventario<Link to=\"/admin/inventario\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/sistema_apartado\" icon={<TagOutlined />}>\r\n\t\t\t\t\tSistema de Apartado<Link to=\"/admin/sistema_apartado\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/pedidos\" icon={<ShoppingCartOutlined />}>\r\n\t\t\t\t\tPedidos Pendientes<Link to=\"/admin/pedidos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/promociones\" icon={<PercentageOutlined />}>\r\n\t\t\t\t\tPromociones<Link to=\"/admin/promociones\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/sugerencias\" icon={<NotificationOutlined />}>\r\n\t\t\t\t\tSugerencias de compra<Link to=\"/admin/sugerencias\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/carousel\" icon={<PictureOutlined />}>\r\n\t\t\t\t\tBanner principal<Link to=\"/admin/carousel\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/publicidad\" icon={<PictureOutlined />}>\r\n\t\t\t\t\tPublicidad<Link to=\"/admin/publicidad\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/blog\" icon={<EditOutlined />}>\r\n\t\t\t\t\tBlog<Link to=\"/admin/blog\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item icon={<HomeOutlined />}>\r\n\t\t\t\t\tPagina principal<Link to=\"/\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item icon={<PoweroffOutlined />}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCerrar Sesión\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t</Menu>\r\n\t\t</Sider>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Sidebar);\r\n","import React, { createContext, useState } from \"react\"\r\n\r\nexport const BannerContext = createContext()\r\n\r\nexport const BannerProvider = ({ children }) => {\r\n  const [actualizarDatos, setActualizarDatos] = useState(false);\r\n  const [reload, setReload] = useState(true);\r\n  return (\r\n    <BannerContext.Provider value={{ actualizarDatos, setActualizarDatos, reload, setReload}}>\r\n      {children}\r\n    </BannerContext.Provider>\r\n  );\r\n};","import React, { Fragment } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Sidebar from '../Navegacion_Admin/Sidebar';\r\nimport { Layout, Breadcrumb } from 'antd';\r\nimport './layoutAdmin.scss';\r\nimport { BannerProvider } from '../../context/admincontext';\r\n\r\nexport default function LayoutAdmin(props) {\r\n\tconst { routes } = props;\r\n\tconst { Header, Content } = Layout;\r\n\tconst path = window.location.pathname.split('/');\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Layout>\r\n\t\t\t\t<Sidebar />\r\n\t\t\t\t<Layout className=\"site-layout\">\r\n\t\t\t\t\t<Header className=\"breadcrumb-head site-layout-background bg-white\" style={{ padding: 0 }}>\r\n\t\t\t\t\t\t<Breadcrumb style={{ margin: '16px 16px' }}>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item>{path[1]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item>{path[2]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item>{path[3]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t\t</Header>\r\n\t\t\t\t\t<BannerProvider>\r\n\t\t\t\t\t\t<Content style={{ margin: '24px 16px 0' }}>\r\n\t\t\t\t\t\t\t<div className=\"site-layout-background bg-white\" style={{ padding: 24, minHeight: 360 }}>\r\n\t\t\t\t\t\t\t\t<LoadRoutes routes={routes} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t</BannerProvider>\r\n\t\t\t\t</Layout>\r\n\t\t\t</Layout>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nfunction LoadRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route key={index} path={route.path} exact={route.exact} component={route.component} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React, { createContext, useState } from \"react\"\r\n\r\nexport const MenuContext = createContext()\r\n\r\nexport const MenuProvider = ({ children }) => {\r\n  const [active, setActive] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  const [reloadFilter, setReloadFilter] = useState(true);\r\n  const [ datosContx, setDatosContx ] = useState([]);\r\n  const [ colores, setColores ] = useState({\r\n    navPrimary: {\r\n      text: '#000000',\r\n      background: '#FFFFFF',\r\n      hoverText: '#e28000',\r\n    },\r\n    navSecondary: {\r\n      text: '#000000',\r\n      background: '#000000',\r\n      hoverText: '#ffc340',\r\n    },\r\n    bodyPage: {\r\n      text: '#000000',\r\n      background: '#F5F5F5',\r\n      hoverText: '#000000',\r\n      card: {\r\n        text: '#000000',\r\n        background: '#ffffff'\r\n      }\r\n    },\r\n    footer: {\r\n      text: '#ffffff',\r\n      background: '#3D3D3D',\r\n    }\r\n  });\r\n\r\n  return (\r\n    <MenuContext.Provider value={{active,setActive, loading, setLoading, reloadFilter, setReloadFilter, datosContx, setDatosContx, colores, setColores}}>\r\n      {children}\r\n    </MenuContext.Provider>\r\n  );\r\n};","import 'dotenv';\r\n\r\nconst aws = process.env.REACT_APP_AWS;\r\n\r\nexport default aws","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Divider, Layout, Menu } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './categorias.scss';\r\nimport './preloading.scss';\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst Categorias = (props) => {\r\n\tconst { reloadFilter, datosContx, colores } = useContext(MenuContext);\r\n\r\n\tconst [ categoriaSeleccionada, setCategoriaSeleccionada, ] = useState(null);\r\n\tconst [ subcategoriaSeleccionada, setSubcategoriaSeleccionada, ] = useState(null);\r\n\tconst [ temporadaSeleccionada, setTemporadaSeleccionada, ] = useState(null);\r\n\tconst [ generoSeleccionado, setGeneroSeleccionado ] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tlimpiarFiltros();\r\n\t}, [ reloadFilter ])\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoriaSeleccionada(null)\r\n\t\tsetSubcategoriaSeleccionada(null)\r\n\t\tsetTemporadaSeleccionada(null)\r\n\t\tsetGeneroSeleccionado(null)\r\n\t}\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.navPrimary.background,\r\n\t\t\tcolor: colores.navPrimary.text,\r\n\t\t},\r\n\t\thover: {\r\n\t\t\t'& > .ant-menu-submenu-title:hover': {\r\n\t\t\t\tcolor: `${colores.navPrimary.hoverText}!important`,\r\n\t\t\t},\r\n\t\t\t'& > .ant-menu-submenu-title': {\r\n\t\t\t\tcolor: `${colores.navPrimary.text}!important`,\r\n\t\t\t}\r\n\t\t},\r\n\t\tdivider: {\r\n\t\t\tborderRight: `3px solid ${colores.navPrimary.text}`,\r\n\t\t}\r\n\t});\r\n\tconst classes = useStyles();\r\n\t\r\n\tif (!datosContx.navbar || !datosContx.navbar.filtroNav || !datosContx.navbar.genero) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\n\tconst categorias_nav = datosContx.navbar.filtroNav.map((categoria, index) => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t<SubMenu\r\n\t\t\t\tkey={categoria.categoria}\r\n\t\t\t\ttitle={categoria.categoria}\r\n\t\t\t\tclassName={\"submenu-categoria nav-font-color-categorias container-subcategorias-nav size-submenu-cat font-cates \" + classes.background + ' ' + classes.hover}\r\n\t\t\t\tonTitleClick={(e) => {\r\n\t\t\t\t\tif(e.key === categoria.categoria){\r\n\t\t\t\t\t\tprops.history.push(`/filtros/${temporadaSeleccionada}/${categoria.categoria}/${subcategoriaSeleccionada}/${generoSeleccionado}`);\r\n\t\t\t\t\t\tsetCategoriaSeleccionada(categoria.categoria);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}}\r\n\r\n\t\t\t>\r\n\r\n\t\t\t\t{categoria.subcCategoria.map((sub) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\tclassName=\"font-subcates \"\r\n\t\t\t\t\t\t\tkey={sub._id}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tprops.history.push(`/filtros/${temporadaSeleccionada}/${categoriaSeleccionada}/${sub._id}/${generoSeleccionado}`);\r\n\t\t\t\t\t\t\t\tsetSubcategoriaSeleccionada(sub._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{sub._id}\r\n\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</SubMenu>\r\n\t\t\t{\r\n\t\t\t\tdatosContx.navbar.filtroNav.length -1 !== index? (\r\n\t\t\t\t\t<><Divider className={\"divisor \" + classes.divider} type=\"vertical\"/></>\r\n\t\t\t\t):(\r\n\t\t\t\t\tnull\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t</>\r\n\r\n\t\t);\r\n\t});\r\n\t/* const temporadas_nav = temporadas.map((temporada, index) => {\r\n\t\tif(temporada._id){\r\n\t\t\treturn (\r\n\t\t\t\t<Menu.Item\r\n\t\t\t\t\tclassName=\"nav-font-color-categorias font-cates\"\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tprops.history.push(`/filtros/${temporada._id}/${categoriaSeleccionada}/${subcategoriaSeleccionada}/${generoSeleccionado}`);\r\n\t\t\t\t\t\tsetTemporadaSeleccionada(temporada._id);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{temporada._id}\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn\r\n\t}); */\r\n\r\n\t/* const categorias_generos = generos.map((generos) => {\r\n\t\treturn (\r\n\t\t\t<Menu.Item\r\n\t\t\t\tclassName=\"font-cates\"\r\n\t\t\t\tkey={generos._id}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tprops.history.push(`/filtros/${temporadaSeleccionada}/${categoriaSeleccionada}/${subcategoriaSeleccionada}/${generos._id}`);\r\n\t\t\t\t\tsetGeneroSeleccionado(generos._id)\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t>\r\n\t\t\t\t{generos._id}\r\n\t\t\t</Menu.Item>\r\n\t\t);\r\n\t}); */\r\n\r\n\treturn (\r\n\t\t<Layout className={\"container-subcategorias-nav d-lg-inline size-layout-cat \" + classes.background}>\r\n\t\t\t{/* <Spin className=\"ml-5 d-inline spin-nav-categorias\" spinning={loading} />  */}\r\n\t\t\t<Menu\r\n\t\t\t\tclassName={\"categorias-navbar d-inline size-menu-cat font-cates \" + classes.background }\r\n\t\t\t\ttheme=\"light\"\r\n\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\ttriggerSubMenuAction=\"click\"\r\n\t\t\t>\r\n\t\t\t\t{categorias_nav}\r\n\t\t\t</Menu>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Categorias);\r\n","import React from 'react';\r\nimport { Menu, Avatar } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport * as firebase from 'firebase/app';\r\nimport './navegacion.scss';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport { LogoutOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport aws from '../../config/aws';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nfunction RightMenu(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\tconst { ofertas, tienda } = props;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Menu defaultSelectedKeys={[ window.location.pathname ]} className=\"navbar-menu-draw font-foot\">\r\n\t\t\t<Menu.Item key=\"/\" className=\" nav-font-color\">\r\n\t\t\t\tInicio<Link to=\"/\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"/productos\" className=\" nav-font-color\">\r\n\t\t\t\tMenu<Link to=\"/productos\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t{ofertas.length ? (\r\n\t\t\t\t<Menu.Item key=\"/ofertas\" className=\" nav-font-color\">\r\n\t\t\t\t\tOfertas<Link to=\"/ofertas\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\t\t\t<Menu.Item key=\"/blog\" className=\" nav-font-color\">\r\n\t\t\t\tBlog<Link to=\"/blog\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t{/* {tienda.length === 0 ? (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item key=\"/quienes_somos\" className=\" nav-font-color\">\r\n\t\t\t\t\tQuiénes somos<Link to=\"/quienes_somos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t)} */}\r\n\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item key=\"/pedidos\" className=\" nav-font-color\">\r\n\t\t\t\t\tMis ordenes<Link to=\"/pedidos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t)}\r\n\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t<SubMenu\r\n\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t!decoded.imagen && !decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t) : decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" src={decoded.imagenFireBase} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tsrc={aws+decoded.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item className=\" nav-border-color\">\r\n\t\t\t\t\t\t<SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t) : decoded && decoded['rol'] === true ? (\r\n\t\t\t\t<SubMenu\r\n\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t!decoded.imagen ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tsrc={aws+decoded.imagen}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item className=\" nav-border-color\">\r\n\t\t\t\t\t\t<SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\r\n\t\t\t{token === '' || token === null ? (\r\n\t\t\t\t<Menu.Item className=\" nav-font-color\">\r\n\t\t\t\t\tEntrar<Link to=\"/entrar\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\t\t</Menu>\r\n\t);\r\n}\r\n\r\nexport default RightMenu;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Divider, Layout, Menu } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './categorias.scss';\r\nimport './preloading.scss';\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst CategoriasResponsive = (props) => {\r\n\tconst { reloadFilter, datosContx, colores } = useContext(MenuContext);\r\n\r\n\tconst [ categoriaSeleccionada, setCategoriaSeleccionada, ] = useState(null);\r\n\tconst [ subcategoriaSeleccionada, setSubcategoriaSeleccionada, ] = useState(null);\r\n\tconst [ temporadaSeleccionada, setTemporadaSeleccionada, ] = useState(null);\r\n\tconst [ generoSeleccionado, setGeneroSeleccionado ] = useState(null);\r\n\tconst [openKeys, setOpenKeys] = useState(['sub1']);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tlimpiarFiltros();\r\n\t}, [ reloadFilter ])\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoriaSeleccionada(null)\r\n\t\tsetSubcategoriaSeleccionada(null)\r\n\t\tsetTemporadaSeleccionada(null)\r\n\t\tsetGeneroSeleccionado(null)\r\n\t}\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.navPrimary.background,\r\n\t\t\tcolor: colores.navPrimary.text,\r\n\t\t},\r\n\t\thover: {\r\n\t\t\t'& > .ant-menu-submenu-title:hover': {\r\n\t\t\t\tcolor: `${colores.navPrimary.hoverText}!important`,\r\n\t\t\t},\r\n\t\t\t'& > .ant-menu-submenu-title': {\r\n\t\t\t\tcolor: `${colores.navPrimary.text}!important`,\r\n\t\t\t}\r\n\t\t},\r\n\t\tdivider: {\r\n\t\t\tborderRight: `3px solid ${colores.navPrimary.text}`,\r\n\t\t}\r\n\t});\r\n\tconst classes = useStyles();\r\n\t\r\n\tif (!datosContx.navbar || !datosContx.navbar.filtroNav || !datosContx.navbar.genero) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tfunction handleClick(e) {\r\n\t\tconsole.log('click', e);\r\n\t  }\r\n\tconst categorias_nav = datosContx.navbar.filtroNav.map((categoria, index) => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t<Menu.Item\r\n\t\t\t \t// mode=\"vertical\"\r\n\t\t\t\tkey={categoria.categoria}\r\n\t\t\t\ttitle={categoria.categoria}\r\n\t\t\t\tclassName={\"submenu-categoria nav-font-color-categorias container-subcategorias-nav size-submenu-cat font-cates d-flex flex-wrap\" + classes.background + ' ' + classes.hover}\r\n\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\tif(e.key === categoria.categoria){\r\n\t\t\t\t\t\tprops.history.push(`/filtros/${temporadaSeleccionada}/${categoria.categoria}/${subcategoriaSeleccionada}/${generoSeleccionado}`);\r\n\t\t\t\t\t\tsetCategoriaSeleccionada(categoria.categoria);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}}\r\n\r\n\t\t\t>\r\n\t\t\t\t{categoria.categoria}\r\n\t\t\t\t{/* {categoria.subcCategoria.map((sub) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\tclassName=\"font-subcates d-flex flex-wrap\"\r\n\t\t\t\t\t\t\tkey={sub._id}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tprops.history.push(`/filtros/${temporadaSeleccionada}/${categoriaSeleccionada}/${sub._id}/${generoSeleccionado}`);\r\n\t\t\t\t\t\t\t\tsetSubcategoriaSeleccionada(sub._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{sub._id}\r\n\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t);\r\n\t\t\t\t})} */}\r\n\t\t\t</Menu.Item>\r\n\t\t\t{/* {\r\n\t\t\t\tdatosContx.navbar.filtroNav.length -1 !== index? (\r\n\t\t\t\t\t<><Divider className={\"divisor \" + classes.divider} type=\"vertical\"/></>\r\n\t\t\t\t):(\r\n\t\t\t\t\tnull\r\n\t\t\t\t)\r\n\t\t\t} */}\r\n\t\t\t</>\r\n\r\n\t\t);\r\n\t});\r\n\t/* const temporadas_nav = temporadas.map((temporada, index) => {\r\n\t\tif(temporada._id){\r\n\t\t\treturn (\r\n\t\t\t\t<Menu.Item\r\n\t\t\t\t\tclassName=\"nav-font-color-categorias font-cates\"\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tprops.history.push(`/filtros/${temporada._id}/${categoriaSeleccionada}/${subcategoriaSeleccionada}/${generoSeleccionado}`);\r\n\t\t\t\t\t\tsetTemporadaSeleccionada(temporada._id);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{temporada._id}\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn\r\n\t}); */\r\n\r\n\t/* const categorias_generos = generos.map((generos) => {\r\n\t\treturn (\r\n\t\t\t<Menu.Item\r\n\t\t\t\tclassName=\"font-cates\"\r\n\t\t\t\tkey={generos._id}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tprops.history.push(`/filtros/${temporadaSeleccionada}/${categoriaSeleccionada}/${subcategoriaSeleccionada}/${generos._id}`);\r\n\t\t\t\t\tsetGeneroSeleccionado(generos._id)\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t>\r\n\t\t\t\t{generos._id}\r\n\t\t\t</Menu.Item>\r\n\t\t);\r\n\t}); */\r\n\r\n\t\r\n\treturn (\r\n\t\t<Layout className={\"d-flex justify-content-center align-items-center container-subcategorias-nav size-layout-cat \" + classes.background} style={{padding: '0%', margin: '0%'}}>\r\n\t\t\t{/* <Spin className=\"ml-5 d-inline spin-nav-categorias\" spinning={loading} />  */}\r\n\t\t\t{/* <Menu\r\n\t\t\t\tclassName={\"d-flex flex-wrap categorias-navbar size-menu-cat font-cates \" + classes.background }\r\n\t\t\t\ttheme=\"light\"\r\n\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\ttriggerSubMenuAction=\"click\"\r\n\t\t\t> */}\r\n\t\t\t{/* onOpenChange={onOpenChange} openKeys={openKeys} */}\r\n\t\t\t<Menu className={'d-flex justify-content-center align-items-center'  + classes.background } style={{ width: 170, height: 'auto',  border: '2.5px solid #000' }} >\r\n      \t\t\t<SubMenu className=\"font-secun\" key=\"categorias\" title=\"Nuestro Menú\">\r\n\t\t\t\t\t{categorias_nav}\r\n\t\t\t\t</SubMenu>\r\n\t\t\t</Menu>\r\n\t\t \t{/* </Menu> */}\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default withRouter(CategoriasResponsive);\r\n","\r\nimport React, { useContext, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { Button, Drawer, Badge, Menu} from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport {\r\n\tSearchOutlined,\r\n\tMenuOutlined,\r\n\tShoppingOutlined,\r\n\tSettingOutlined,\r\n\tLogoutOutlined,\r\n\tUserOutlined,\r\n\tCloseCircleOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport RightMenu from './RightMenu';\r\n\r\nimport aws from '../../config/aws';\r\nimport './navegacion.scss';\r\n// import Layout, { Header } from 'antd/lib/layout/layout';\r\n// import Search from 'antd/lib/input/Search';\r\nimport Avatar from 'antd/lib/avatar/avatar';\r\nimport firebase from 'firebase';\r\nimport CategoriasResponsive from '../Categorias/Categorias_Responsive';\r\nconst { SubMenu } = Menu;\r\n\r\nexport default function NavegacionResponsive(props) {\r\n    const { loading, datosContx, colores } = useContext(MenuContext);\r\n    const {openSearch, setOpenSearch} = props;\r\n    const useStyles = makeStyles({\r\n        background: {\r\n            backgroundColor: colores.navPrimary.background,\r\n            color: colores.navPrimary.text,\r\n            '& .ant-menu-item-selected': {\r\n                color: `${colores.navPrimary.hoverText}!important`,\r\n                borderBottom: `none!important`,\r\n                /* borderBottom: ` 3px solid ${colores.navPrimary.hoverText}!important` */\r\n            }\r\n        },\r\n        hover: {\r\n            '&:hover': {\r\n                color: `${colores.navPrimary.hoverText}!important`,\r\n                borderBottom: `none!important`,\r\n                /* borderBottom: ` 3px solid ${colores.navPrimary.hoverText}!important` */\r\n            }\r\n        }, \r\n        navSecondary: {\r\n            backgroundColor: colores.navSecondary.background\r\n        }\r\n    });\r\n\r\n    const classes = useStyles();\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ busqueda, setBusqueda ] = useState('');\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n    function Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\tconst showDrawer = () => setVisible(true);\r\n\tconst onClose = () => setVisible(false);\r\n\r\n\tfunction valor(e) {\r\n\t\tsetBusqueda(e.target.value);\r\n\t}\r\n\r\n    return (\r\n        <>\r\n            <div className=\"top-menu-responsive container\">\r\n                <div className=\"col-1 car-responsive d-flex justify-content-center align-items-center\" style={{padding: '0%', margin: '0%'}}>\r\n                    <Button type=\"link\" className=\"barsMenu\" onClick={showDrawer}>\r\n                        <MenuOutlined className={\"menu-responsivo-icon \" + classes.background} style={{ fontSize: 15 }} />\r\n                    </Button>\r\n                </div>\r\n                <div className=\"col-7\" style={{padding: '0%', margin: '0%'}}>\r\n                    {datosContx.tienda && datosContx.tienda.length > 0 ? !datosContx.tienda[0]\r\n                        .imagenLogo ? (\r\n                        <div className=\"d-none\" />\r\n                    ) : (\r\n                        <Link to=\"/\">\r\n                            <div className=\"contenedor-logo d-flex justify-content-center align-items-center\">\r\n                                <img\r\n                                    className=\"imagen-logo-principal\"\r\n                                    alt=\"logotipo-tienda\"\r\n                                    src={aws + datosContx.tienda[0].imagenLogo}\r\n                                />\r\n                            </div>\r\n                        </Link>\r\n                    ) : (\r\n                        <div className=\"d-none\" />\r\n                    )}\r\n                </div>\r\n                <div className=\"col-4 d-flex justify-content-center align-items-center\" style={{padding: '0%', margin: '0%'}}>\r\n                    <Menu\r\n                        className={\"float-right navbar-menu-sesion a50 \"  + classes.background}\r\n                        /* theme=\"light\" */\r\n                        mode=\"horizontal\"\r\n                        defaultSelectedKeys={[ window.location.pathname ]}\r\n                        inlineindent={0}\r\n                    >\r\n                        {token === '' || token === null ? (\r\n                            <Menu.Item key=\"\" className=\"nav-font-color-sesion nav-border-color a6 mt-4\">\r\n                                Inicia Sesión\r\n                                <Link to=\"/entrar\" />\r\n                            </Menu.Item>\r\n                        ) : (\r\n                            <Menu.Item key=\"\" className=\"d-none\" />\r\n                        )}\r\n                        {token && decoded['rol'] === false ? (\r\n                            <SubMenu\r\n                                className=\"nav-font-color-sesion a6\"\r\n                                icon={\r\n                                    !decoded.imagen && !decoded.imagenFireBase ? (\r\n                                        <Avatar style={{ backgroundColor: '#87d068' }}>\r\n                                            <p>{decoded.nombre.charAt(0)}</p>\r\n                                        </Avatar>\r\n                                    ) : decoded.imagenFireBase ? (\r\n                                        <Avatar src={decoded.imagenFireBase} />\r\n                                    ) : (\r\n                                        <Avatar src={aws + decoded.imagen} />\r\n                                    )\r\n                                }\r\n                            >\r\n                                {!decoded || decoded.rol === true ? (\r\n                                    <Menu.Item key=\"\" className=\"d-none\" />\r\n                                ) : (\r\n                                    <Menu.Item\r\n                                        className=\"nav-font-color-sesion a6 font-foot-normal\"\r\n                                        key=\"/pedidos\"\r\n                                    >\r\n                                        <ShoppingOutlined /> Mis ordenes\r\n                                        <Link to=\"/pedidos\" />\r\n                                    </Menu.Item>\r\n                                )}\r\n                                <Menu.Item key=\"\" className=\"nav-font-color-sesion font-foot-normal\">\r\n                                    <SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n                                </Menu.Item>\r\n                                <Menu.Item>\r\n                                    <div\r\n                                        className=\"text-danger centrar-nav font-foot-normal\"\r\n                                        onClick={() => {\r\n                                            localStorage.removeItem('token');\r\n                                            firebase.auth().signOut();\r\n                                            setTimeout(() => {\r\n                                                window.location.reload();\r\n                                            }, 1000);\r\n                                        }}\r\n                                    >\r\n                                        <LogoutOutlined />Cerrar Sesión\r\n                                    </div>\r\n                                </Menu.Item>\r\n                            </SubMenu>\r\n                        ) : decoded && decoded['rol'] === true ? (\r\n                            <SubMenu\r\n                                className=\"nav-font-color nav-border-color a6\"\r\n                                icon={\r\n                                    !decoded.imagen ? (\r\n                                        <Avatar style={{ backgroundColor: '#87d068' }}>\r\n                                            <p>{decoded.nombre.charAt(0)}</p>\r\n                                        </Avatar>\r\n                                    ) : (\r\n                                        <Avatar src={aws + decoded.imagen}>\r\n                                            {/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n                                        </Avatar>\r\n                                    )\r\n                                }\r\n                            >\r\n                                <Menu.Item key=\"\" className=\"font-foot-normal a6\">\r\n                                    <SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n                                </Menu.Item>\r\n                                <Menu.Item key=\"\" className=\" a6\">\r\n                                    <div\r\n                                        className=\"text-danger centrar-nav font-foot-normal\"\r\n                                        onClick={() => {\r\n                                            localStorage.removeItem('token');\r\n                                            firebase.auth().signOut();\r\n                                            setTimeout(() => {\r\n                                                window.location.reload();\r\n                                            }, 1000);\r\n                                        }}\r\n                                    >\r\n                                        <LogoutOutlined />Cerrar Sesión\r\n                                    </div>\r\n                                </Menu.Item>\r\n                            </SubMenu>\r\n                        ) : (\r\n                            <Menu.Item key=\"\" className=\"d-none\" />\r\n                        )}\r\n                        \r\n                    </Menu>\r\n                    {!decoded || decoded.rol === true ? (\r\n                        <div className=\"d-none\" />\r\n                    ) : (\r\n                        <div className=\"p-1\">\r\n                            <Badge count={datosContx.carritoCantidad}>\r\n                                <Link to=\"/shopping_cart\">\r\n                                    <ShoppingOutlined\r\n                                        className={\"menu-responsivo-icon \" + classes.background}\r\n                                        style={{ fontSize: 26 }}\r\n                                    />\r\n                                </Link>\r\n                            </Badge>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"top-menu-responsive\">\r\n                <div className=\"col-12 d-flex justify-content-center align-items-center\">\r\n                    {/* {!decoded || decoded.rol === true ? (\r\n                        <div className=\"d-none\" />\r\n                    ) : (\r\n                        <div className=\"p-2\">\r\n                            <Badge count={datosContx.carritoCantidad}>\r\n                                <Link to=\"/shopping_cart\">\r\n                                    <ShoppingOutlined\r\n                                        className={\"menu-responsivo-icon \" + classes.background}\r\n                                        style={{ fontSize: 28 }}\r\n                                    />\r\n                                </Link>\r\n                            </Badge>\r\n                        </div>\r\n                    )} */}\r\n\r\n                    {/* <div className=\"p-2\">\r\n                        <SearchOutlined\r\n                            onClick={ () => setOpenSearch(!openSearch)}\r\n                            className={\"menu-responsivo-icon \" + classes.background}\r\n                            style={{ fontSize: 26 }} \r\n                        />\r\n                    </div> */}\r\n                    <CategoriasResponsive />\r\n                </div>\r\n            </div>\r\n            \r\n\r\n            <Drawer\r\n                className=\"drawer-background\"\r\n                title={\r\n                    datosContx.tienda && datosContx.tienda.length > 0 ? !datosContx.tienda[0].imagenLogo ? (\r\n                        <div className=\"d-none\" />\r\n                    ) : (\r\n                        <div className=\"contenedor-logo-responsivo p-1\">\r\n                            <Link to=\"/\">\r\n                                <img\r\n                                    className=\"imagen-logo-principal\"\r\n                                    alt=\"logotipo-tienda\"\r\n                                    src={aws + datosContx.tienda[0].imagenLogo}\r\n                                />\r\n                            </Link>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"d-none\" />\r\n                    )\r\n                }\r\n                placement=\"left\"\r\n                closable={false}\r\n                onClose={onClose}\r\n                visible={visible}\r\n            >\r\n                <RightMenu ofertas={datosContx.ofertas} tienda={datosContx.tienda} />\r\n            </Drawer>\r\n\r\n           \r\n        </>\r\n    )\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport { Layout, Menu,  Input,  Badge, Avatar, Spin } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport firebase from 'firebase/app';\r\nimport './navegacion.scss';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport {ShoppingOutlined, SettingOutlined, LogoutOutlined, UserOutlined,CloseCircleOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\n// import RightMenu from './RightMenu';\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport aws from '../../config/aws';\r\nimport './navegacion.scss';\r\nimport Categorias from '../../components/Categorias/Categorias';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport NavegacionResponsive from './NavegacionResponsive';\r\nimport Categorias_Responsive from '../Categorias/Categorias_Responsive';\r\n\r\nconst { Search } = Input;\r\nconst { Header } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nconst Navegacion = (props) => {\r\n\tconst { loading, datosContx, colores } = useContext(MenuContext);\r\n\tconst [openSearch, setOpenSearch] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\t/* const [ busqueda, setBusqueda] = useState(\"\") */\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tconst showDrawer = () => setVisible(true);\r\n\tconst onClose = () => setVisible(false);\r\n\t/* const valor = (e) => setBusqueda(e.target.value); */\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.navPrimary.background,\r\n\t\t\tcolor: colores.navPrimary.text,\r\n\t\t\t'& .ant-menu-item-selected': {\r\n\t\t\t\tcolor: `${colores.navPrimary.hoverText}!important`,\r\n\t\t\t\t/* borderBottom: `none!important` */\r\n\t\t\t\tborderBottom: ` 3px solid ${colores.navPrimary.hoverText}!important`\r\n\t\t\t}\r\n\t\t},\r\n\t\thover: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: `${colores.navPrimary.hoverText}!important`,\r\n\t\t\t\t/* borderBottom: `none!important` */\r\n\t\t\t\tborderBottom: ` 3px solid ${colores.navPrimary.hoverText}!important`\r\n\t\t\t}\r\n\t\t},\r\n\t\tnavSecondary: {\r\n\t\t\tbackgroundColor: colores.navSecondary.background\r\n\t\t}\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<div className=\"preloading\">\r\n\t\t\t\t<div className=\"contenedor-preloading\">\r\n\t\t\t\t\t<Spin size=\"large\" tip=\"Cargando Restaurante...\" className=\"spiner\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Layout className=\"top-menu layout navbar-menu-general a00\">\r\n\t\t\t\t<Header className=\" a1\">\r\n\t\t\t\t\t<div className={\"menuCon a2 \" + classes.background }>\r\n\t\t\t\t\t\t<div className=\"top-menu row a3 container-prin\">\r\n\t\t\t\t\t\t\t<div className={\"col-lg-12 container-pages a4 \" + classes.background }>\r\n\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\tclassName={\"navbar-menu-sesion float-right nav-font-pages a5 \" + classes.background}\r\n\t\t\t\t\t\t\t\t\t/* theme=\"light\" */\r\n\t\t\t\t\t\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\t\t\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\t\t\t\t\t\tinlineindent={0}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className={\"nav-font-color nav-border-color font-foot-normal a6 \" + classes.background + \" \" + classes.hover} key=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\">Inicio</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\t\t\tclassName={\"nav-font-color nav-border-color font-foot-normal a6 \" + classes.background + \" \" + classes.hover}\r\n\t\t\t\t\t\t\t\t\t\tkey=\"/productos\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\">Menú</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/productos\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t{datosContx.ofertas ? (\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={\"nav-font-color nav-border-color font-foot-normal a6 \" + classes.background + \" \" + classes.hover}\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"/ofertas\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\">Ofertas</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/ofertas\" />\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{/* <Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/blog\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Blog</div>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/blog\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t{tienda.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/quienes_somos\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Quiénes somos</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/quienes_somos\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)} */}\r\n\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Header>\r\n\t\t\t</Layout>\r\n\r\n\t\t\t{/* DIVISOR PARA EL INPUT  */}\r\n\r\n\t\t\t<Layout className={\"layout a0 \" + classes.background } >\r\n\t\t\t\t<Header className={\"a1 \"+ classes.background }>\r\n\t\t\t\t\t<div className={\"top-menu\" + classes.background }>\r\n\t\t\t\t\t\t<div className={\"menuCon a2 \" + classes.background }>\r\n\t\t\t\t\t\t\t<div className={\"top-menu row a3 \" + classes.background }>\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-2 row-logo-search \">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row row-logo-search-2 \">\r\n\t\t\t\t\t\t\t\t\t\t{datosContx.tienda && datosContx.tienda.length > 0 ? !datosContx.tienda[0]\r\n\t\t\t\t\t\t\t\t\t\t\t.imagenLogo ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-logo\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-logo-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + datosContx.tienda[0].imagenLogo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t{/* <div className=\"col-lg-8 row input-search\">\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={valor}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"input-search border-color-search-input\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(value) => props.history.push(`/searching/${busqueda}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"boton-search border-color-search-boton\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<SearchOutlined style={{fontSize: 25}}/>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/* INICIO DE AVATAR, TU CARRITO Y ENTRAR  */}\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-8 containe-categorias  mt-2\">\r\n\t\t\t\t\t\t\t\t\t<Categorias />\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-2 row a4 mt-2 justify-content-end\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={\"float-right navbar-menu-sesion a50 \"  + classes.background}\r\n\t\t\t\t\t\t\t\t\t\t\t/* theme=\"light\" */\r\n\t\t\t\t\t\t\t\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\t\t\t\t\t\t\t\tinlineindent={0}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\"nav-font-color-sesion font-foot-normal a6 \" + classes.background + ' ' + classes.hover}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey=\"/shopping_cart\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge count={datosContx.carritoCantidad}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingOutlined style={{ fontSize: 26 }} className={classes.background + ' ' + classes.hover} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/shopping_cart\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color-sesion a6\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t!decoded.imagen && !decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={decoded.imagenFireBase} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={aws + decoded.imagen} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color-sesion a6 font-foot-normal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey=\"/pedidos\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingOutlined /> Mis ordenes\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/pedidos\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"nav-font-color-sesion font-foot-normal\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-danger centrar-nav font-foot-normal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t\t\t\t) : decoded && decoded['rol'] === true ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color nav-border-color a6\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t!decoded.imagen ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={aws + decoded.imagen}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"font-foot-normal a6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\" a6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-danger centrar-nav font-foot-normal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t{token === '' || token === null ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"nav-font-color-sesion nav-border-color a6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<UserOutlined style={{ fontSize: 27 }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/entrar\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/* FIN DE AVATAR, TU CARRITO Y ENTRAR  */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<NavegacionResponsive setOpenSearch={setOpenSearch} openSearch={openSearch}/>\r\n\t\t\t\t</Header>\r\n\t\t\t</Layout>\r\n\t\t\t<Layout className=\"top-menu layout top-menu-responsive\">\r\n\t\t\t\t<Header className={'a1 ' + classes.background}>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center p-1\">\r\n\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\tclassName={'float-right navbar-menu-sesion a50 ' + classes.background}\r\n\t\t\t\t\t\t\t/* theme=\"light\" */\r\n\t\t\t\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\t\t\t\tinlineindent={0}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/* COSAS IRRELEVANTES */}\r\n\t\t\t\t\t\t\t{/* <Menu.Item\r\n\t\t\t\t\t\t\t\tclassName={'top-menu nav-font-color nav-border-color font-foot-normal a6 ' + classes.hover}\r\n\t\t\t\t\t\t\t\tkey=\"/productos\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div className=\"centrar-nav\">Menu</div>\r\n\t\t\t\t\t\t\t\t<Link to=\"/productos\" />\r\n\t\t\t\t\t\t\t</Menu.Item> */}\r\n\t\t\t\t\t\t\t{datosContx.ofertas ? (\r\n\t\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\t\tclassName={'nav-font-color nav-border-color font-nav a6 ' + classes.hover}\r\n\t\t\t\t\t\t\t\t\tkey=\"/ofertas\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\">Ofertas</div>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ofertas\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Header>\r\n\t\t\t</Layout>\r\n\t\t\t{/* PARA PODER MOSTRAR EL BUSCADOR DE LA PAGINA */}\r\n\t\t\t{\r\n\t\t\t\topenSearch === true ? (\r\n\t\t\t\t\t<Layout className=\"layout\">\r\n\t\t\t\t\t\t<Header className={'a1 ' + classes.background}>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-10 mb-1 ml-2 mt-1\">\r\n\t\t\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"search-nav-responsive\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Que deseas comer hoy?\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{borderRadius: 25}}\r\n\t\t\t\t\t\t\t\t\t\tonSearch={(value) => props.history.push(`/searching/${value}`)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 d-flex flex-row-reverse justify-content-center flex-wrap align-content-center\">\r\n\t\t\t\t\t\t\t\t\t<CloseCircleOutlined \r\n\t\t\t\t\t\t\t\t\t\tstyle={{fontSize: 23}}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => setOpenSearch(!openSearch)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t) : null\r\n\t\t\t}\r\n\t\t\t{/* <Layout className=\"layout navbar-menu-general a00\">\r\n\t\t\t<Header className=\"navbar-menu-general a1\">\r\n\t\t\t\t<div className=\"menuCon navbar-menu-general a2\">\r\n\t\t\t\t\t<div className=\"top-menu row a3 container-prin\">\r\n\t\t\t\t\t\t<div className=\"col-lg-12 containe-categorias\">\r\n\t\t\t\t\t\t\t<Categorias />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Header>\r\n\t\t</Layout> */}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Navegacion);\r\n","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { HashLink } from 'react-router-hash-link';\r\nimport { Button, Layout } from 'antd';\r\nimport aws from '../../config/aws';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport {\r\n\tFacebookFilled,\r\n\tInstagramFilled,\r\n\tTwitterCircleFilled,\r\n\tUserOutlined,\r\n\tKeyOutlined,\r\n\tPhoneOutlined,\r\n\tSettingOutlined\r\n} from '@ant-design/icons';\r\nimport './footer.scss';\r\n/* import '../../scss/variables.scss'; */\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport { Fragment } from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst { Footer } = Layout;\r\n\r\nconst token = localStorage.getItem('token');\r\nvar decoded = Jwt(token);\r\n\r\nfunction Jwt(token) {\r\n\ttry {\r\n\t\treturn jwt_decode(token);\r\n\t} catch (e) {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nconst FooterPage = (props) => {\r\n\tconst { datosContx, colores } = useContext(MenuContext);\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.footer.background,\r\n\t\t\t'& .text-color': {\r\n\t\t\t\tcolor: `${colores.footer.text}!important`\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tif (!datosContx.navbar || !datosContx.navbar.filtroNav) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst categorias_foot = datosContx.navbar.filtroNav.map((categoria, index) => {\r\n\t\tif (index <= 14) {\r\n\t\t\treturn (\r\n\t\t\t\t<Button type=\"link\" className=\"footer-font-color text-color\" key={categoria.categoria}>\r\n\t\t\t\t\t<Link className=\"font-foot\" to={`/filtros/null/${categoria.categoria}/null/null`}>\r\n\t\t\t\t\t\t{categoria.categoria}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Layout className=\"layout\">\r\n\t\t\t<Footer className={'bg-footer ' + classes.background}>\r\n\t\t\t\t<div end=\"xs\" id=\"foot\">\r\n\t\t\t\t\t<div className=\"row footer-font-color\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3  d-sm-text-center\">\r\n\t\t\t\t\t\t\t{/* {datosContx.tienda.length > 0 && datosContx.tienda[0].imagenLogo ? (\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-logo\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"logos\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"logotipo\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + datosContx.tienda[0].imagenLogo}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null} */}\r\n\t\t\t\t\t\t\t{/* <h6>{tienda.nombre !== '' ? tienda.nombre : \"\"}</h6> */}\r\n\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].telefono ? (\r\n\t\t\t\t\t\t\t\t<div className=\"row mt-3\">\r\n\t\t\t\t\t\t\t\t\t<PhoneOutlined\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-1 text-color d-none d-lg-bloc\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 55, marginLeft: 5 }}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div className=\"px-3 mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"font-foot text-color\">¿Tienes preguntas? ¡Contáctanos!:</p>\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"footer-font-color text-color\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{datosContx.tienda[0].telefono}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t<div className=\"mt-3 font-foot\">\r\n\t\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].direccion.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontWeight: 'bold' }} className=\"text-color\">\r\n\t\t\t\t\t\t\t\t\t\t\tDatos de contacto:\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{datosContx.tienda[0].direccion[0].calle_numero}, Col.{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{datosContx.tienda[0].direccion[0].colonia},{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{datosContx.tienda[0].direccion[0].ciudad},{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{datosContx.tienda[0].direccion[0].estado}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].linkFace !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={datosContx.tienda[0].linkFace}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FacebookFilled id=\"is\" style={{ fontSize: 33 }} className=\"text-color\" />\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].linkInsta !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={datosContx.tienda[0].linkInsta}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InstagramFilled id=\"is\" style={{ fontSize: 33 }} className=\"text-color\" />\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].linkTweeter !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={datosContx.tienda[0].linkTweeter}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<TwitterCircleFilled\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"is\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 33 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-color\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].horario.length > 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3 mt-4 d-none d-lg-bloc\">\r\n\t\t\t\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-foot text-color\">\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Horarios de Atención:</span>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t{datosContx.tienda[0].horario.map((horario) => {\r\n\t\t\t\t\t\t\t\t\t\tif(horario.close){\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6 text-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>{horario.dia}: </b> {horario.horarioInicial} -{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{horario.horarioFinal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6 text-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>{horario.dia}: NO HAY SERVICIO </b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t<div className=\"col-lg-4 mt-lg-4 d-none d-lg-block\">\r\n\t\t\t\t\t\t\t<p className=\"font-foot text-color\" style={{ fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\tEncuéntralo más rápido\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div style={{ columnCount: 2 }}>\r\n\t\t\t\t\t\t\t\t<div>{categorias_foot}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-2 mt-4 d-none d-lg-block\" style={{ columnCount: 1 }}>\r\n\t\t\t\t\t\t\t<p className=\"font-foot text-color\" style={{ fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\tAtención al cliente\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].imagenCorp !== '' ? (\r\n\t\t\t\t\t\t\t\t<Link to=\"/quienes_somos\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<UserOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tConócenos\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].politicas ? (\r\n\t\t\t\t\t\t\t\t<HashLink to=\"/politicas#privacidad\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<KeyOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tAviso de Privacidad\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</HashLink>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].politicasDescuentos ? (\r\n\t\t\t\t\t\t\t\t<HashLink to=\"/politicas#descuento\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<KeyOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tPolíticas de Descuento\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</HashLink>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].politicasDevolucion ? (\r\n\t\t\t\t\t\t\t\t<HashLink to=\"/politicas#devolucion\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<KeyOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tPolíticas de Devolución\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</HashLink>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].politicasVentas ? (\r\n\t\t\t\t\t\t\t\t<HashLink to=\"/politicas#ventas\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<KeyOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tPolíticas de Ventas\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</HashLink>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].politicasEnvios ? (\r\n\t\t\t\t\t\t\t\t<HashLink to=\"/politicas#envios\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<KeyOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tPolíticas de Envíos\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</HashLink>\r\n\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t\t\t\t\t<Link to=\"/perfiles\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<SettingOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tMi cuenta\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Link to=\"/entrar\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<SettingOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tMi cuenta\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* <div className=\"align-center\">\r\n                    <p className=\"text-center\">© CAFI - All Rights Reserved - 2020</p>\r\n                </div> */}\r\n\t\t\t</Footer>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default FooterPage;\r\n","import axios from 'axios'\r\n\r\nconst clienteAxios = axios.create({\r\n    baseURL : process.env.REACT_APP_AXIOS\r\n})\r\n\r\n\r\nexport default clienteAxios","import React from 'react'\r\nimport { Spin } from 'antd';\r\nimport './spin.scss';\r\n\r\nexport default function Spinner(props){\r\n    return <Spin className=\"spiner\" size=\"large\" spinning={props.spinning}>{props.children}</Spin>\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Divider, Button, Alert, notification, Spin } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nexport default function PoliticasEnvio(props) {\r\n\tconst {setCurrent, current} = props;\r\n\tconst {next} = props;\r\n\r\n\tconst [datosNegocio, setDatosNegocio] = useState({});\r\n\tconst [ reloadInfo, setReloadInfo ] = useState(false);\r\n\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ idTienda, setIdTienda ] = useState('');\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction peticionDatosTienda() {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio(res.data[0]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio({});\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tpeticionDatosTienda();\r\n\t\t\tsetReloadInfo(false);\r\n\t\t},\r\n\t\t[ reloadInfo ]\r\n\t);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerDatos();\r\n\t\t\tif (!datosNegocio) {\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t} else {\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ datosNegocio ]\r\n\t);\r\n\r\n\tasync function obtenerDatos() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\r\n\t\t\t\tif (!res.data) {\r\n\t\t\t\t\tsetControl(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetControl(true);\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tcostoEnvio: res.data.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: res.data.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: res.data.descuento\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tcostoEnvio: res.data.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: res.data.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: res.data.descuento\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetIdTienda(res.data._id);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function SendForm() {\r\n\t\tif (control === false) {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(\r\n\t\t\t\t\t'/politicasEnvio/',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tidTienda: datosNegocio._id,\r\n\t\t\t\t\t\tidAdministrador: decoded._id,\r\n\t\t\t\t\t\tcostoEnvio: datos.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: datos.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: datos.descuento\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t// setReloadInfo(true);\r\n\t\t\t\t\t// drawnerClose();\r\n\t\t\t\t\t// setCurrent(current + 1);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/politicasEnvio/${idTienda}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcostoEnvio: datos.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: datos.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: datos.descuento\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t// setReloadInfo(true);\r\n\t\t\t\t\t// drawnerClose();\r\n\t\t\t\t\t// setCurrent(current + 1);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{disabled ? (\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Nota:\"\r\n\t\t\t\t\tdescription=\"No puedes registrar las políticas de envió sin antes registrar los datos de la tienda\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t\tclassName=\"m-5\"\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<Form onFinish={SendForm} form={form} className=\"mt-5\">\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Costo de envío\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, costoEnvio: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"costoEnvio\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Costo de envío de la paqueteria\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"costoEnvio\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Promoción de envío\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, promocionEnvio: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"promocionEnvio\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Se aplica una promoción de envío a clientes que superen esta cantidad\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"promocionEnvio\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Descuento\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, descuento: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"descuento\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Costo de envío de la promoción\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"descuento\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\tcontrol === false ? (\r\n\t\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{control === false ? 'Registrar politicas de envío' : 'Actualizar politicas de envío'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Divider, Button, Alert, notification, Spin } from 'antd';\r\nimport { Editor } from \"@tinymce/tinymce-react\";\r\nimport { PlusCircleOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nexport default function Registro_Politicas(props) {\r\n\tconst {setCurrent, current} = props;\r\n\r\n\tconst {next} = props;\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [datos, setDatos] = useState({});\r\n\tconst [datosNegocio, setDatosNegocio] = useState({});\r\n\tconst [ reloadInfo, setReloadInfo ] = useState(false);\r\n\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\t// const token = localStorage.getItem('token');\r\n\t// var decoded = Jwt(token);\r\n\r\n\tconst monstrarInformacionBlog = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t  };\r\n\r\n\r\n\tfunction peticionDatosTienda() {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio(res.data[0]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio({});\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tpeticionDatosTienda();\r\n\t\t\tsetReloadInfo(false);\r\n\t\t},\r\n\t\t[ reloadInfo ]\r\n\t);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tif (datosNegocio !== undefined) {\r\n\t\t\tsetDisabled(false);\r\n\t\t\tmonstrarInformacionBlog({\r\n\t\t\t\tpoliticas: datosNegocio.politicas,\r\n\t\t\t\tpoliticasVentas: datosNegocio.politicasVentas,\r\n\t\t\t\tpoliticasEnvios: datosNegocio.politicasEnvios,\r\n\t\t\t\tpoliticasDescuentos: datosNegocio.politicasDescuentos,\r\n\t\t\t\tpoliticasDevolucion: datosNegocio.politicasDevolucion\r\n\t\t\t});\r\n\t\t\tsetDatos({\r\n\t\t\t\tpoliticas: datosNegocio.politicas,\r\n\t\t\t\tpoliticasVentas: datosNegocio.politicasVentas,\r\n\t\t\t\tpoliticasEnvios: datosNegocio.politicasEnvios,\r\n\t\t\t\tpoliticasDescuentos: datosNegocio.politicasDescuentos,\r\n\t\t\t\tpoliticasDevolucion: datosNegocio.politicasDevolucion\r\n\t\t\t});\r\n\t\t\tsetControl(true);\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tsetDisabled(true);\r\n\t\t\tsetDatos({});\r\n\t\t\tsetControl(false);\r\n\t\t}\r\n\t  }, [datosNegocio]);\r\n\r\n\r\n\tconst capturarPoliticasEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicas: content });\r\n\t};\r\n\tconst capturarPoliticasVentas = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicasVentas: content });\r\n\t};\r\n\tconst capturarPoliticasEnvio = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicasEnvios: content });\r\n\t};\r\n\tconst capturarPoliticasDescuento = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicasDescuentos: content });\r\n\t};\r\n\tconst capturarPoliticasDevolucion = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicasDevolucion: content });\r\n\t};\r\n\t\r\n\r\n\t  async function SendForm(){\r\n\t\tsetLoading(true);\r\n\t\t// console.log(datos);\r\n\t\tif (disabled === false) {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t.put(\r\n\t\t\t\t`/tienda/politicas/${datosNegocio._id}`,\r\n\t\t\t\tdatos,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetControl(true);\r\n\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t\t// next();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\tmessage: \"Registro exitoso\",\r\n\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: \"Error\",\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2,\r\n\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: \"Error de conexion\",\r\n\t\t\t\t\tdescription: \"Al parecer no se a podido conectar al servidor.\",\r\n\t\t\t\t\tduration: 2,\r\n\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\r\n\t};\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{disabled ? (\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Nota:\"\r\n\t\t\t\t\tdescription=\"No puedes registrar las políticas de empresa sin antes registrar los datos de la tienda\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t\tclassName=\"m-5\"\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<Form  \r\n\t\t\t\tonFinish={SendForm}\r\n              \tform={form}\r\n\t\t\t\tclassName=\"mt-5\"\r\n\t\t\t>\r\n\r\n\t\t\t\t{/* PRIMER PANEL */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Privacidad</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicas\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasEditor}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* SEGUNDO PANEL */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Ventas</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicasVentas\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasVentas}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* TERCER PANEL */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Envíos</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicasEnvios\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasEnvio}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t{/* CUARTO PANEL  */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Descuentos</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicasDescuentos\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasDescuento}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t{/* QUINTO PANEL */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Devolución</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicasDevolucion\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasDevolucion}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\tcontrol === false ? (\r\n\t\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{control === false ? 'Registrar politicas de la Empresa' : 'Actualizar politicas de Empresa'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}","\r\nconst tokenEstados = \"9cd0f726-aaef-42d2-a00f-96fa42f271cc\";\r\n\r\nexport default tokenEstados;","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport tokenEstados from '../../../../../config/tokenEstados'\r\n\r\nimport \"./coberturaEnvios.scss\";\r\nimport {\r\n  Button,\r\n  Select,\r\n  Tag,\r\n  notification,\r\n  Table,\r\n  Spin,\r\n  Modal,\r\n  Tooltip,\r\n  Checkbox,\r\n} from \"antd\";\r\nimport {\r\n  EditOutlined,\r\n  ExclamationCircleOutlined,\r\n  DeleteOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nimport clienteAxios from \"../../../../../config/axios\";\r\n\r\nconst consultaEstados = axios.create({\r\n  // baseURL: `https://api-sepomex.hckdrk.mx/query/`,\r\n});\r\n\r\nexport default function Cobertura_envios(props) {\r\n  const token = localStorage.getItem(\"token\");\r\n  const { confirm } = Modal;\r\n  const { Option } = Select;\r\n  const { Column } = Table;\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [reload, setReload] = useState(false);\r\n  const [municipioGuardado, setMunicipioGuardado] = useState([]);\r\n  const [idEstado, setIdEstado] = useState([]);\r\n\r\n  const [todos, setTodos] = useState(false);\r\n\r\n  const [municipiosApi, setMunicipiosApi] = useState([]);\r\n  const [estadosApi, setEstadoApi] = useState([]);\r\n  const [value, setValue] = useState([]);\r\n\r\n  const [dataEstados, setDataEstados] = useState([]);\r\n  const [estado, setEstado] = useState(\"\");\r\n\r\n  const errors = (err) => {\r\n    if (err.response) {\r\n      notification.error({\r\n        message: \"Error\",\r\n        description: err.response.data.message,\r\n        duration: 2,\r\n      });\r\n    } else {\r\n      notification.error({\r\n        message: \"Error de conexion\",\r\n        description: \"Al parecer no se a podido conectar al servidor.\",\r\n        duration: 2,\r\n      });\r\n    }\r\n  };\r\n\r\n  const selectTodos = (e) => {\r\n    setTodos(e.target.checked);\r\n    // console.log(e.target.checked);\r\n    \r\n  };\r\n\r\n  //*******************************Checkeo de datos************************************************************************************ */\r\n  const [covertura, setCovertura] = useState([]);\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n\r\n  const onSelectChange = (parametros) => {\r\n    setSelectedRowKeys(parametros);\r\n    const listaMun = parametros.map((res) => {\r\n      return res;\r\n    });\r\n    setCovertura(listaMun);\r\n  };\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys,\r\n    onChange: onSelectChange,\r\n    getCheckboxProps: (municipio) => {\r\n      if (value) {\r\n        return {\r\n          disabled: municipio.municipio && municipio.length !== 0,\r\n          // Column configuration not to be checked\r\n          name: municipio.name,\r\n        };\r\n      } else {\r\n        return {\r\n          disabled: municipio.municipio && municipio.length !== 0,\r\n          // Column configuration not to be checked\r\n          name: municipio.name,\r\n        };\r\n      }\r\n    },\r\n    onSelect: (record, selected, selectedRows) => {\r\n      setCovertura(selectedRows);\r\n    },\r\n    onSelectAll: (selected, selectedRows) => {\r\n      setCovertura(selectedRows);\r\n    },\r\n  };\r\n\r\n  const checkearChecks = () => {\r\n    const listaMunicipios = municipioGuardado.map((municipio) => {\r\n      return municipio;\r\n    });\r\n    setSelectedRowKeys(listaMunicipios);\r\n  };\r\n  //*******************************************Consultas de API Externas*************************************************************** */\r\n\r\n  const selectMunicipio = (value) => {\r\n    setValue(value);\r\n    setMunicipioGuardado([]);\r\n    setIdEstado();\r\n\r\n    if (value) {\r\n      setEstado(value);\r\n      setLoading(true);\r\n      consultaEstados\r\n        .get(`/get_municipio_por_estado/${value}?token=${tokenEstados}`)\r\n        .then((res) => {\r\n          setLoading(false);\r\n          const datosApiMunicipios = res.data.response.municipios;\r\n          setMunicipiosApi(res.data.response.municipios);\r\n          const arrayMunicipio = [];\r\n          dataEstados.forEach((estado) => {\r\n            if (value === estado.estado) {\r\n              setIdEstado(estado._id);\r\n              estado.municipios.map((municipio) => {\r\n                for (let i = 0; i < datosApiMunicipios.length; i++) {\r\n                  if (datosApiMunicipios[i] === municipio.municipio) {\r\n                    arrayMunicipio.push(municipio.municipio);\r\n                  }\r\n                }\r\n              });\r\n            }\r\n          });\r\n          setSelectedRowKeys(arrayMunicipio);\r\n        })\r\n        .catch((err) => {\r\n          notification.error({\r\n            message: \"Error del servidor\",\r\n            description: \"Paso algo en el servidor\",\r\n          });\r\n        });\r\n    }\r\n  };\r\n\r\n  function obtenerEstados() {\r\n    consultaEstados\r\n      .get(`/get_estados?token=${tokenEstados}`)\r\n      .then((res) => {\r\n        setEstadoApi(res.data.response.estado);\r\n      })\r\n      .catch((err) => {\r\n        notification.error({\r\n          message: \"Error del servidor\",\r\n          description:\r\n            \"Paso algo en el servidor, al parecer la conexion esta fallando.\",\r\n        });\r\n      });\r\n  }\r\n\r\n  const arrayMunicipio = [];\r\n  for (let i = 0; i < covertura.length; i++) {\r\n    arrayMunicipio.push({ municipio: covertura[i] });\r\n  }\r\n\r\n  // *****************************************ENVIO DE ESTADOS****************************************************************\r\n  const enviarDatos = async () => {\r\n    var nuevoEstado = {};\r\n\r\n    //Condicion de registros y actualizacion\r\n    if (todos && dataEstados.length == 0) {\r\n      nuevoEstado.todos = todos;\r\n      clienteAxios\r\n        .post(`/politicasEnvio/estados/`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setTodos(false);\r\n          notification.success({\r\n            message: \"Registro Exitoso\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    } else if (todos && dataEstados.length > 0) {\r\n      nuevoEstado.todos = todos;\r\n      clienteAxios\r\n        .put(`/politicasEnvio/estados/todos`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setTodos(false);\r\n          notification.success({\r\n            message: \"Actualizacion Exitosa a todo mexico\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    } else if (selectedRowKeys.length > 0 && !idEstado) {\r\n      nuevoEstado = {\r\n        estado: estado,\r\n        municipios: arrayMunicipio,\r\n      };\r\n      clienteAxios\r\n        .post(`/politicasEnvio/estados/`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          notification.success({\r\n            message: \"Registro Exitoso\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n          limpiar();\r\n          setTodos(false);\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    } else if (idEstado) {\r\n      nuevoEstado = {\r\n        estado: estado,\r\n        municipios: arrayMunicipio,\r\n      };\r\n      clienteAxios\r\n        .put(`/politicasEnvio/estados/${idEstado}`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          notification.success({\r\n            message: \"Actualizacion Exitosa de estado\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n          setTodos(false);\r\n          limpiar();\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  // ***************************************** Retorno de estados TAGS***************************************************************\r\n  const traerDatos = async () => {\r\n    clienteAxios.get(`/politicasEnvio/estados/`).then((res) => {\r\n      if (res.data.length > 0) {\r\n        res.data.map((todo) => {\r\n          if (todo.todos === true) {\r\n            setTodos(true);\r\n          }\r\n        });\r\n      }\r\n\r\n      setDataEstados(res.data);\r\n      setReload(true);\r\n    });\r\n  };\r\n\r\n  // console.log(todosApi);\r\n  // *****************************************Eliminar estados****************************************************************\r\n  const deleteEstado = (state) => {\r\n    confirm({\r\n      title: \"Eliminando Estado\",\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: `¿Estás seguro que deseas eliminar el Estado?`,\r\n      okText: \"Eliminar\",\r\n      okType: \"danger\",\r\n      cancelText: \"Cancelar\",\r\n      onOk() {\r\n        clienteAxios\r\n          .delete(`/politicasEnvio/estados/${state._id}`, {\r\n            headers: {\r\n              Authorization: `bearer ${token}`,\r\n            },\r\n          })\r\n          .then((res) => {\r\n            notification.success({\r\n              message: \"Estado Eliminado\",\r\n            });\r\n            setReload(res);\r\n            limpiar();\r\n          })\r\n          .catch((err) => {\r\n            if (err.response) {\r\n              notification.error({\r\n                message: \"Error\",\r\n                description: err.response.data.message,\r\n                duration: 2,\r\n              });\r\n            } else {\r\n              notification.error({\r\n                message: \"Error de conexion\",\r\n                description: \"Al parecer no se a podido conectar al servidor.\",\r\n                duration: 2,\r\n              });\r\n            }\r\n          });\r\n      },\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    obtenerEstados();\r\n    if (value) {\r\n      checkearChecks();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    traerDatos();\r\n  }, [reload]);\r\n\r\n  function limpiar() {\r\n    setValue([]);\r\n    setMunicipiosApi([]);\r\n    setSelectedRowKeys([]);\r\n    setMunicipioGuardado([]);\r\n    setIdEstado();\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <div className=\"row text-center\">\r\n        <div className=\"col-lg-6\">\r\n          \r\n          <Checkbox \r\n            onChange={selectTodos} \r\n            checked={todos} \r\n            className=\"mt-2\"\r\n            style={{fontSize: 16, color: \"green\"}}\r\n          >\r\n            Envio a todo Mexico\r\n          </Checkbox>\r\n\r\n          <Select\r\n            style={{ width: \"70%\" }}\r\n            className=\"mt-3\"\r\n            placeholder=\"Selecciona un estado\"\r\n            onChange={selectMunicipio}\r\n            value={value}\r\n            disabled={todos}\r\n          >\r\n            {estadosApi.length !== 0 ? (\r\n              estadosApi.map((estado) => {\r\n                return (\r\n                  <Option key={estado} value={estado}>\r\n                    {estado}\r\n                  </Option>\r\n                );\r\n              })\r\n            ) : (\r\n              <Option />\r\n            )}\r\n          </Select>\r\n          \r\n          <div className=\"text-center mt-3\">\r\n            {\r\n           \r\n              dataEstados.map((estado) => {\r\n               if (estado.todos) {\r\n\r\n               }else{\r\n                const municipios = [];\r\n                estado.municipios.map((municipio) => {\r\n                  municipios.push(municipio.municipio + \"       -       \");\r\n                });\r\n                return (\r\n                  <Tooltip\r\n                    placement=\"left\"\r\n                    key={estado._id}\r\n                    title={municipios}\r\n                  >\r\n                    <Tag\r\n                      className=\"mt-3 tags-color\"\r\n                      visible={true}\r\n                      closable\r\n                      onClick={() => selectMunicipio(estado.estado)}\r\n                      onClose={() => deleteEstado(estado)}\r\n                      key={estado._id}\r\n                    >\r\n                      {estado.estado}\r\n                    </Tag>\r\n                  </Tooltip>\r\n                );\r\n               }\r\n              })\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{ width: \"50%\", textAlign: \"center\" }}>\r\n          <Spin size=\"large\" spinning={loading}>\r\n            <Table\r\n              className=\"\"\r\n              rowSelection={rowSelection}\r\n              dataSource={municipiosApi}\r\n              rowKey={(municipio) => municipio}\r\n              scroll={{ y: 300 }}\r\n              pagination={false}\r\n            >\r\n              <Column title={\"Municipios\"} />\r\n            </Table>\r\n          </Spin>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"justify-content-center align-items-center text-center mt-4\">\r\n        <Button\r\n          className=\"mt-4 m-3 text-center px-4\"\r\n          size=\"large\"\r\n          type=\"primary\"\r\n          onClick={enviarDatos}\r\n        >\r\n          <EditOutlined style={{ fontSize: 24 }} />\r\n          Agregar\r\n        </Button>\r\n\r\n        <Button\r\n          className=\"mt-4 m-3 text-center px-4\"\r\n          size=\"large\"\r\n          type=\"primary\"\r\n          onClick={limpiar}\r\n          disabled={todos}\r\n        >\r\n          <DeleteOutlined style={{ fontSize: 20 }} />\r\n          Limpiar\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport { Table, Input, Button, Form, Switch, Divider, notification } from 'antd';\r\nimport './horarios.scss';\r\nimport clienteAxios from '../../../../../config/axios';\r\nconst EditableContext = React.createContext(null);\r\n\r\nconst EditableRow = ({ index, ...props }) => {\r\n\tconst [ form ] = Form.useForm();\r\n\treturn (\r\n\t\t<Form form={form} component={false}>\r\n\t\t\t<EditableContext.Provider value={form}>\r\n\t\t\t\t<tr {...props} />\r\n\t\t\t</EditableContext.Provider>\r\n\t\t</Form>\r\n\t);\r\n};\r\n\r\nconst EditableCell = ({ title, editable, children, dataIndex, record, handleSave, ...restProps }) => {\r\n\tconst [ editing, setEditing ] = useState(false);\r\n\tconst inputRef = useRef(null);\r\n\tconst form = useContext(EditableContext);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (editing) {\r\n\t\t\t\tinputRef.current.focus();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ editing ]\r\n\t);\r\n\r\n\tconst toggleEdit = () => {\r\n\t\tsetEditing(!editing);\r\n\t\tform.setFieldsValue({\r\n\t\t\t[dataIndex]: record[dataIndex]\r\n\t\t});\r\n\t};\r\n\r\n\tconst save = async (e) => {\r\n\t\ttry {\r\n\t\t\tconst values = await form.validateFields();\r\n\t\t\ttoggleEdit();\r\n\t\t\thandleSave({ ...record, ...values });\r\n\t\t} catch (errInfo) {\r\n\t\t\tconsole.log('Save failed:', errInfo);\r\n\t\t}\r\n\t};\r\n\tconst saveOnChange = (e) => {\r\n\t\tlet count;\r\n\t\tcount = [ ...e.target.value ];\r\n\r\n\t\tif (count.length === 2 && e.nativeEvent.inputType !== 'deleteContentBackward') {\r\n\t\t\tform.setFieldsValue({\r\n\t\t\t\t[dataIndex]: e.target.value + ':'\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tform.setFieldsValue({\r\n\t\t\t[dataIndex]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tlet childNode = children;\r\n\r\n\tif (editable) {\r\n\t\tchildNode = editing ? (\r\n\t\t\t<Form.Item\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tmargin: 0\r\n\t\t\t\t}}\r\n\t\t\t\tname={dataIndex}\r\n\t\t\t>\r\n\t\t\t\t<Input ref={inputRef} onPressEnter={save} onBlur={save} onChange={saveOnChange} maxLength=\"5\" />\r\n\t\t\t</Form.Item>\r\n\t\t) : (\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"editable-cell-value-wrap\"\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tpaddingRight: 24,\r\n\t\t\t\t\theight: 25\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={toggleEdit}\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn <td {...restProps}>{childNode}</td>;\r\n};\r\n\r\nfunction HorariosAdmin({datosNegocio, reloadInfo, setReloadInfo, current, setCurrent}) {\r\n    const form = useContext(EditableContext);\r\n    const token = localStorage.getItem('token');\r\n    const [ disable, setDisable ] = useState(true);\r\n\tconst [ dataSource, setDataSource ] = useState([\r\n\t\t{\r\n\t\t\tkey: '0',\r\n\t\t\tdia: 'Domingo',\r\n\t\t\thoraInicio: '',\r\n\t\t\thoraFinal: '',\r\n\t\t\tclose: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '1',\r\n\t\t\tdia: 'Lunes',\r\n\t\t\thoraInicio: '',\r\n\t\t\thoraFinal: '',\r\n\t\t\tclose: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '2',\r\n\t\t\tdia: 'Martes',\r\n\t\t\thoraInicio: '',\r\n\t\t\thoraFinal: '',\r\n\t\t\tclose: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '3',\r\n\t\t\tdia: 'Miercoles',\r\n\t\t\thoraInicio: '',\r\n\t\t\thoraFinal: '',\r\n\t\t\tclose: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '4',\r\n\t\t\tdia: 'Jueves',\r\n\t\t\thoraInicio: '',\r\n\t\t\thoraFinal: '',\r\n\t\t\tclose: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '5',\r\n\t\t\tdia: 'Viernes',\r\n\t\t\thoraInicio: '',\r\n\t\t\thoraFinal: '',\r\n\t\t\tclose: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '6',\r\n\t\t\tdia: 'Sabado',\r\n\t\t\thoraInicio: '',\r\n\t\t\thoraFinal: '',\r\n\t\t\tclose: false\r\n\t\t}\r\n\t]);\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Dia',\r\n\t\t\tdataIndex: 'dia',\r\n\t\t\teditable: false,\r\n\t\t\twidth: '25%'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Hora apertura',\r\n\t\t\tdataIndex: 'horarioInicial',\r\n\t\t\teditable: true,\r\n\t\t\twidth: '25%'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Hora de cierre',\r\n\t\t\tdataIndex: 'horarioFinal',\r\n\t\t\teditable: true,\r\n\t\t\twidth: '25%'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Dias abiertos',\r\n\t\t\tdataIndex: 'close',\r\n\t\t\twidth: '10%',\r\n\t\t\trender: (_, record) => (\r\n\t\t\t\t<Switch\r\n\t\t\t\t\tchecked={record.close}\r\n\t\t\t\t\tcheckedChildren=\"Abierto\"\r\n\t\t\t\t\tunCheckedChildren=\"Cerrado\"\r\n\t\t\t\t\tonChange={(value) => onChangeCloseDay(value, record)}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n    const components = {\r\n\t\tbody: {\r\n\t\t\trow: EditableRow,\r\n\t\t\tcell: EditableCell\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSave = (row) => {\r\n\t\tconst newData = [ ...dataSource ];\r\n\t\tconst index = newData.findIndex((item) => row.key === item.key);\r\n\t\tconst item = newData[index];\r\n\t\tnewData.splice(index, 1, { ...item, ...row });\r\n\t\tsetDataSource(newData);\r\n\t};\r\n\r\n\tconst onChangeCloseDay = (value, record) => {\r\n\t\tconst newData = [ ...dataSource ];\r\n\t\tconst index = newData.findIndex((item) => record.key === item.key);\r\n\t\tconst item = newData[index];\r\n\t\titem.close = value;\r\n\t\tnewData.splice(index, 1, { ...item, ...record });\r\n\t\tsetDataSource(newData);\r\n\t};\r\n\r\n\tconst onChange = (checked) => {\r\n\t\tsetDisable(!checked);\r\n\t};\r\n\r\n    const enviarDatos = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.put(\"/tienda/horario/empresa\", \r\n            disable ? [] : dataSource\r\n            , {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Registro exitoso',\r\n\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t});\r\n                setReloadInfo(!reloadInfo);\r\n                setCurrent(current + 1);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n    useEffect(() => {\r\n        if (datosNegocio?.horario.length > 0){\r\n            setDataSource(datosNegocio.horario);\r\n            setDisable(false);\r\n        }else{\r\n            setDisable(true)\r\n        }\r\n    }, [ reloadInfo, datosNegocio ])\r\n\r\n\tconst columnas = columns.map((col) => {\r\n\t\tif (!col.editable) {\r\n\t\t\treturn col;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\t...col,\r\n\t\t\tonCell: (record) => ({\r\n\t\t\t\trecord,\r\n\t\t\t\teditable: col.editable,\r\n\t\t\t\tdataIndex: col.dataIndex,\r\n\t\t\t\ttitle: col.title,\r\n\t\t\t\thandleSave: handleSave\r\n\t\t\t})\r\n\t\t};\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Divider className=\"mt-5\">Horarios y Días Laborales</Divider>\r\n\t\t\t<div className=\"my-3\">\r\n\t\t\t\t<p>Activar horarios</p>\r\n\t\t\t\t<Switch checked={disable ? false : true} onChange={onChange} />\r\n\t\t\t</div>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-disable-horarios\"\r\n\t\t\t\tcomponents={components}\r\n\t\t\t\trowClassName={() => 'editable-row'}\r\n\t\t\t\tbordered\r\n\t\t\t\tdataSource={dataSource}\r\n\t\t\t\tcolumns={columnas}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\tloading={disable}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-2 d-flex justify-content-right\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={enviarDatos}\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: 16\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t>\r\n\t\t\t\t\tGuardar horarios\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default HorariosAdmin;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Form,\r\n  Input,\r\n  Divider,\r\n  Button,\r\n  Upload,\r\n  notification,\r\n  Alert,\r\n  Steps,\r\n  /* message, */\r\n  Spin,\r\n} from \"antd\";\r\nimport {\r\n  PlusCircleOutlined,\r\n  EditOutlined,\r\n  UploadOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Editor } from \"@tinymce/tinymce-react\";\r\nimport clienteAxios from \"../../../../../config/axios\";\r\nimport PoliticasEnvio from \"./politicas_envio\";\r\nimport Registro_Politicas from \"./registroPoliticas\";\r\nimport Cobertura_envio from \"./cobertura_envios\";\r\nimport aws from \"../../../../../config/aws\";\r\nimport HorariosAdmin from \"./horarios\";\r\n// import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n// import { faMapMarkedAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport default function RegistroTienda(props) {\r\n /*  const { drawnerClose } = props; */\r\n  const [current, setCurrent] = props.steps;\r\n\r\n  const {/* setDatosNegocio,  */datosNegocio, token, reloadInfo, setReloadInfo } = props;\r\n\r\n  const [datos, setDatos] = useState({});\r\n  const [control, setControl] = useState(false);\r\n\r\n  const [form] = Form.useForm();\r\n  const { Step } = Steps;\r\n  const [upload, setUpload] = useState(false);\r\n  //Variables que guardan las imagenes\r\n  const [files, setFiles] = useState([]);\r\n  const [imagen, setImagen] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const monstrarInformacionBlog = (e) => {\r\n    form.setFieldsValue(e);\r\n  };\r\n\r\n  /* const [current, setCurrent] = useState(0); */\r\n\r\n  const next = () => {\r\n    setCurrent(current + 1);\r\n\r\n  };\r\n\r\n  /* const prev = () => {\r\n    setCurrent(current - 1);\r\n  }; */\r\n\r\n  useEffect(() => {\r\n    if (datosNegocio !== undefined) {\r\n      setImagen(datosNegocio.imagenLogo);\r\n      // if (datosNegocio.ubicacion[0].lat === \"undefined\") {\r\n      //   datosNegocio.ubicacion[0].lat = \"\";\r\n      // }\r\n      // if (datosNegocio.ubicacion[0].lng === \"undefined\") {\r\n      //   datosNegocio.ubicacion[0].lng = \"\";\r\n      // }\r\n      if (datosNegocio.linkFace === \"undefined\") {\r\n        datosNegocio.linkFace = \"\";\r\n      }\r\n      if (datosNegocio.linkInsta === \"undefined\") {\r\n        datosNegocio.linkInsta = \"\";\r\n      }\r\n      if (datosNegocio.linkTweeter === \"undefined\") {\r\n        datosNegocio.linkTweeter = \"\";\r\n      }\r\n      monstrarInformacionBlog({\r\n        nombre: datosNegocio.nombre,\r\n        telefono: datosNegocio.telefono,\r\n        calle_numero: datosNegocio.direccion[0].calle_numero,\r\n        cp: datosNegocio.direccion[0].cp,\r\n        colonia: datosNegocio.direccion[0].colonia,\r\n        ciudad: datosNegocio.direccion[0].ciudad,\r\n        estado: datosNegocio.direccion[0].estado,\r\n        // lat: datosNegocio.ubicacion[0].lat,\r\n        // lng: datosNegocio.ubicacion[0].lng,\r\n        imagenCorp: datosNegocio.imagenCorp,\r\n        /* diasHorariosEmpresas: datosNegocio.diasHorariosEmpresas, */\r\n        linkFace: datosNegocio.linkFace,\r\n        linkInsta: datosNegocio.linkInsta,\r\n        linkTweeter: datosNegocio.linkTweeter,\r\n      });\r\n      setDatos({\r\n        nombre: datosNegocio.nombre,\r\n        telefono: datosNegocio.telefono,\r\n        calle_numero: datosNegocio.direccion[0].calle_numero,\r\n        cp: datosNegocio.direccion[0].cp,\r\n        colonia: datosNegocio.direccion[0].colonia,\r\n        ciudad: datosNegocio.direccion[0].ciudad,\r\n        estado: datosNegocio.direccion[0].estado,\r\n        // lat: datosNegocio.ubicacion[0].lat,\r\n        // lng: datosNegocio.ubicacion[0].lng,\r\n        imagenCorp: datosNegocio.imagenCorp,\r\n        /* diasHorariosEmpresas: datosNegocio.diasHorariosEmpresas, */\r\n        linkFace: datosNegocio.linkFace,\r\n        linkInsta: datosNegocio.linkInsta,\r\n        linkTweeter: datosNegocio.linkTweeter,\r\n      });\r\n      setControl(true);\r\n    } else {\r\n      setDatos({});\r\n      setControl(false);\r\n    }\r\n  }, [datosNegocio]);\r\n\r\n\r\n  // const capturarPoliticasEditor = (content, editor) => {\r\n  //   setDatos({ ...datos, politicas: content });\r\n  // };\r\n\r\n  const capturarImagenCorpEditor = (content, editor) => {\r\n    setDatos({ ...datos, imagenCorp: content });\r\n  };\r\n\r\n  /* const capturarHorariosDias = (content, editor) => {\r\n    setDatos({ ...datos, diasHorariosEmpresas: content });\r\n  }; */\r\n\r\n  // console.log(capturarHorariosDias);\r\n  // console.log(datosNegocio.diasHorariosEmpresas);\r\n\r\n\r\n  const propss = {\r\n    listType: \"picture\",\r\n    beforeUpload: (file) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = (e) => {\r\n        file.thumbUrl = e.target.result;\r\n        setFiles(file);\r\n      };\r\n      setUpload(true);\r\n      return false;\r\n    },\r\n    onRemove: (file) => {\r\n      setUpload(false);\r\n      setFiles([]);\r\n    },\r\n  };\r\n\r\n  /* const onError = (error) => {\r\n    error.errorFields.map((err) => {\r\n      notification.error({\r\n        message: `[${err.name}]`,\r\n        description: err.errors,\r\n        duration: 5,\r\n      });\r\n    });\r\n  }; */\r\n\r\n  const SendForm = async () => {\r\n    const formData = new FormData();\r\n    formData.append(\"nombre\", datos.nombre);\r\n    formData.append(\"telefono\", datos.telefono);\r\n    formData.append(\"calle_numero\", datos.calle_numero);\r\n    formData.append(\"cp\", datos.cp);\r\n    formData.append(\"colonia\", datos.colonia);\r\n    formData.append(\"ciudad\", datos.ciudad);\r\n    formData.append(\"estado\", datos.estado);\r\n    // formData.append(\"lat\", datos.lat);\r\n    // formData.append(\"lng\", datos.lng);\r\n    // formData.append(\"politicas\", datos.politicas);\r\n    formData.append(\"imagenCorp\", datos.imagenCorp);\r\n    /* formData.append(\"diasHorariosEmpresas\", datos.diasHorariosEmpresas); */\r\n    formData.append(\"linkFace\", datos.linkFace);\r\n    formData.append(\"linkInsta\", datos.linkInsta);\r\n    formData.append(\"linkTweeter\", datos.linkTweeter);\r\n\r\n    setLoading(true);\r\n\r\n    if (control === false) {\r\n\r\n      if (files.length === 0) {\r\n        setLoading(false);\r\n        notification.info({\r\n          message: \"Ups, algo salio mal\",\r\n          description: \"La imagen es obligatoria\",\r\n\r\n        });\r\n      } else {\r\n        setLoading(true);\r\n        formData.append(\"imagen\", files);\r\n        await clienteAxios\r\n          .post(\"/tienda/\", formData, {\r\n            headers: {\r\n              \"Content-Type\": \"multipart/form-data\",\r\n              Authorization: `bearer ${token}`,\r\n            },\r\n          })\r\n          .then((res) => {\r\n            setLoading(false);\r\n            setCurrent(current + 1);\r\n            setReloadInfo(!reloadInfo)\r\n            next();\r\n            notification.success({\r\n              message: \"Registro exitoso\",\r\n              description: res.data.message,\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            if (err.response) {\r\n              notification.error({\r\n                message: \"Error\",\r\n                description: err.response.data.message,\r\n                duration: 2,\r\n              });\r\n            } else {\r\n              notification.error({\r\n                message: \"Error de conexion\",\r\n                description: \"Al parecer no se a podido conectar al servidor.\",\r\n                duration: 2,\r\n              });\r\n            }\r\n          });\r\n      }\r\n    } else {\r\n      setLoading(true);\r\n      if (files.length !== 0) {\r\n        formData.append(\"imagen\", files);\r\n      }\r\n      await clienteAxios\r\n        .put(`/tienda/${datosNegocio._id}`, formData, {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setLoading(false);\r\n          setCurrent(current + 1);\r\n          next();\r\n          notification.success({\r\n            message: \"Registro exitoso\",\r\n            description: res.data.message,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false);\r\n          if (err.response) {\r\n            notification.error({\r\n              message: \"Error\",\r\n              description: err.response.data.message,\r\n              duration: 2,\r\n            });\r\n          } else {\r\n            notification.error({\r\n              message: \"Error de conexion\",\r\n              description: \"Al parecer no se a podido conectar al servidor.\",\r\n              duration: 2,\r\n            });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  const steps = [\r\n    {\r\n      title: \"Datos de la Tienda\",\r\n      content: (\r\n        <div className=\"\" >\r\n          <Spin size=\"large\" spinning={loading}>\r\n            <Form\r\n              onFinish={SendForm}\r\n              form={form}\r\n              // onFinishFailed={onError}\r\n            >\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <Divider>Logo del negocio</Divider>\r\n                  <div className=\"d-flex justify-content-center m-2\">\r\n                    <Alert\r\n                      className=\"info-recomended-sizes\"\r\n                      message=\"Tamaño recomendado para la imagen es: 900x300px\"\r\n                      type=\"info\"\r\n                      showIcon\r\n                    />\r\n                  </div>\r\n                  <div className=\"m-auto\">\r\n                    <Form.Item label=\"Logo\">\r\n                      <Upload {...propss} name=\"imagen\">\r\n                        <Button disabled={upload}>\r\n                          <UploadOutlined /> Subir\r\n                        </Button>\r\n                      </Upload>\r\n                    </Form.Item>\r\n                    {control === false ? (\r\n                      \"\"\r\n                    ) : (\r\n                      <div>\r\n                        <p className=\"text-center\">Imagen actual:</p>\r\n                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                          <img\r\n                            className=\"d-block img-fluid mt-2\"\r\n                            width=\"200\"\r\n                            alt=\"imagen de base\"\r\n                            src={aws + imagen}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <Divider>Información de la tienda</Divider>\r\n                <div className=\"col-lg-6 col-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Nombre\"\r\n                    labelCol={{ offset: 1, span: 5 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, nombre: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Nombre obligatorio\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"nombre\"\r\n                    >\r\n                      <Input name=\"nombre\" placeholder=\"Nombre del negocio\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-6 col-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Telefono \"\r\n                    labelCol={{ offset: 1, span: 5 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, telefono: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Telefono obligatorio\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"telefono\"\r\n                    >\r\n                      <Input name=\"telefono\" placeholder=\"Telefono\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Calle\"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, calle_numero: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Direccion obligatoria\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"calle_numero\"\r\n                    >\r\n                      <Input name=\"calle_numero\" placeholder=\"Calle y Numero\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Código Postal \"\r\n                    onChange={(e) => setDatos({ ...datos, cp: e.target.value })}\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: \"Código Postal obligatorio\",\r\n                        },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"cp\"\r\n                    >\r\n                      <Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Colonia \"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, colonia: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Colonia obligatoria\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"colonia\"\r\n                    >\r\n                      <Input name=\"colonia\" placeholder=\"Colonia\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mt-3 justify-content-center\">\r\n                <div className=\"col-lg-5 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Ciudad\"\r\n                    labelCol={{ offset: 1, span: 4 }}\r\n                    wrapperCol={{ offset: 1, span: 15 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, ciudad: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Direccion obligatoria\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"ciudad\"\r\n                    >\r\n                      <Input name=\"ciudad\" placeholder=\"Ciudad\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-5 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Estado\"\r\n                    labelCol={{ offset: 1, span: 4 }}\r\n                    wrapperCol={{ offset: 1, span: 15 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, estado: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Estado obligatorio\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"estado\"\r\n                    >\r\n                      <Input name=\"estado\" placeholder=\"Estado donde vives\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              {/* <div className=\"row d-flex justify-content-center align-items-center\">\r\n                <Divider>Ubicación</Divider>\r\n                <div className=\"row justify-content-center\">\r\n                  <div className=\"col-lg-12 text-center\">\r\n                    <a\r\n                      href=\"https://www.google.com.mx/maps/preview\"\r\n                      target=\"_blank\"\r\n                      style={{ fontSize: 16 }}\r\n                    >\r\n                      Ir a Google Maps\r\n                      <FontAwesomeIcon\r\n                        icon={faMapMarkedAlt}\r\n                        style={{ marginLeft: 15, fontSize: \"20px\" }}\r\n                      />\r\n                    </a>\r\n                  </div>\r\n                  <div className=\"col-lg-4 col-12\">\r\n                    <Form.Item\r\n                      className=\"m-2\"\r\n                      label=\"Latitud \"\r\n                      labelCol={{ offset: 1, span: 4 }}\r\n                      wrapperCol={{ offset: 1, span: 12 }}\r\n                      onChange={(e) =>\r\n                        setDatos({ ...datos, lat: e.target.value })\r\n                      }\r\n                    >\r\n                      <Form.Item\r\n                        rules={[\r\n                          { required: true, message: \"Latitud obligatoria\" },\r\n                        ]}\r\n                        noStyle\r\n                        name=\"lat\"\r\n                      >\r\n                        <Input name=\"lat\" placeholder=\"Latitud\" />\r\n                      </Form.Item>\r\n                    </Form.Item>\r\n                  </div>\r\n                  <div className=\"col-lg-4 col-12\">\r\n                    <Form.Item\r\n                      className=\"m-2\"\r\n                      label=\"Longitud\"\r\n                      labelCol={{ offset: 1, span: 4 }}\r\n                      wrapperCol={{ offset: 1, span: 12 }}\r\n                      onChange={(e) =>\r\n                        setDatos({ ...datos, lng: e.target.value })\r\n                      }\r\n                    >\r\n                      <Form.Item\r\n                        rules={[\r\n                          { required: true, message: \"Longitud obligatoria\" },\r\n                        ]}\r\n                        noStyle\r\n                        name=\"lng\"\r\n                      >\r\n                        <Input name=\"lng\" placeholder=\"Latitud\" />\r\n                      </Form.Item>\r\n                    </Form.Item>\r\n                  </div>\r\n                </div>\r\n              </div> */}\r\n\r\n              <div className=\"row\">\r\n                <Divider>Redes sociales</Divider>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Facebook \"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, linkFace: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item noStyle name=\"linkFace\">\r\n                      <Input\r\n                        name=\"linkFace\"\r\n                        placeholder=\"https://facebook.com/\"\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Instagram\"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, linkInsta: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item noStyle name=\"linkInsta\">\r\n                      <Input\r\n                        name=\"linkInsta\"\r\n                        placeholder=\"https://instagram.com/\"\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Tweeter\"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, linkTweeter: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item noStyle name=\"linkTweeter\">\r\n                      <Input\r\n                        name=\"linkTweeter\"\r\n                        placeholder=\"https://twitter.com/\"\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <Divider>Imagen corporativa</Divider>\r\n                <div className=\"col-12\">\r\n                  <Form.Item className=\"m-2\">\r\n                    <Form.Item\r\n                      rules={[ { required: true, message: 'Imagen corporativa es obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t    noStyle \r\n                      name=\"imagenCorp\"\r\n                    >\r\n                      <Editor\r\n                        disabled={false}\r\n                        init={{\r\n                          height: 450,\r\n                          menubar: true,\r\n                          plugins: [\r\n                            \"advlist autolink lists link image charmap print preview anchor\",\r\n                            \"searchreplace visualblocks code fullscreen\",\r\n                            \"insertdatetime media table paste code help wordcount\",\r\n                          ],\r\n                          toolbar:\r\n                            \"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n                        }}\r\n                        onEditorChange={capturarImagenCorpEditor}\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n                <Button\r\n                  className=\"text-center\"\r\n                  size=\"large\"\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                  icon={\r\n                    control === false ? (\r\n                      <PlusCircleOutlined style={{ fontSize: 24 }} />\r\n                    ) : (\r\n                      <EditOutlined style={{ fontSize: 24 }} />\r\n                    )\r\n                  }\r\n                  // onClick={next}\r\n                >\r\n                  {control === false\r\n                    ? \"Registrar informacion de la tienda\"\r\n                    : \"Actualizar información de la tienda\"}\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </Spin>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Horarios\",\r\n      content: (\r\n        <div>\r\n          <HorariosAdmin datosNegocio={datosNegocio} reloadInfo={reloadInfo} setReloadInfo={setReloadInfo} setCurrent={setCurrent} current={current} />\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Políticas de Empresa\",\r\n      content: (\r\n        <div>\r\n          <Registro_Politicas\r\n            setCurrent={setCurrent}\r\n            current={current}\r\n          />\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Costos de Envió\",\r\n      content: (\r\n        <div>\r\n          <PoliticasEnvio\r\n            setCurrent={setCurrent}\r\n            current={current}\r\n          />\r\n        </div>\r\n      ),\r\n    },\r\n    // {\r\n    //   title: \"Covertura de envió\",\r\n    //   content: (\r\n    //     <div>\r\n    //       <Cobertura_envio />\r\n    //     </div>\r\n    //   ),\r\n    // },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Steps current={current}>\r\n        {steps.map((item) => (\r\n          <Step key={item.title} title={item.title} status={item.status}/>\r\n        ))}\r\n      </Steps>\r\n\r\n      <div className=\"steps-content\">{steps[current].content}</div>\r\n\r\n      {/* <div className=\"steps-action\">\r\n        {current < steps.length - 1 && (\r\n          <Button type=\"primary\" onClick={() => next()}>\r\n            Siguiente\r\n          </Button>\r\n        )}\r\n        {current > 0 && (\r\n          <Button style={{ margin: \"0 8px\" }} onClick={() => prev()}>\r\n            Anterior\r\n          </Button>\r\n        )}\r\n      </div> */}\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Button, Drawer, Alert, notification, Empty } from 'antd';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './MostrarRegistroTienda.scss';\r\nimport {\r\n\tPlusCircleOutlined,\r\n\tEditOutlined,\r\n\tEyeOutlined,\r\n\tFacebookFilled,\r\n\tInstagramFilled,\r\n\tTwitterCircleFilled\r\n} from '@ant-design/icons';\r\nimport Spin from '../../../../../components/Spin';\r\nimport RegistroTienda from './RegistroTienda';\r\nimport { Link } from 'react-router-dom';\r\nimport aws from '../../../../../config/aws';\r\n\r\nfunction MostrarRegistroTienda(props) {\r\n\tconst { token } = props;\r\n\r\n\tconst [ action, setAction ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datosNegocio, setDatosNegocio ] = useState({});\r\n\tconst [ face, setFace ] = useState('');\r\n\tconst [ insta, setInsta ] = useState('');\r\n\tconst [ twitter, setTwitter ] = useState('');\r\n\r\n\tconst [ reloadInfo, setReloadInfo ] = useState(false);\r\n\tconst [ politicasEnvio, setPoliticasEnvio ] = useState([]);\r\n\r\n\t// const [ lat, setLat ] = useState('');\r\n\t// const [ lng, setLng ] = useState('');\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst drawnerClose = () => {\r\n\t\tsetVisible(false);\r\n\t\tsetReloadInfo(!reloadInfo)\r\n\t};\r\n\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\tconst next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t};\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\tfunction peticionDatosTienda() {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio(res.data[0]);\r\n\t\t\t\tif (res.data[0]) {\r\n\t\t\t\t\tsetAction(true);\r\n\t\t\t\t\t// if (res.data[0].ubicacion[0].lat === '' || res.data[0].ubicacion[0].lat === 'undefined') {\r\n\t\t\t\t\t// \tsetLat('19.767980');\r\n\t\t\t\t\t// } else {\r\n\t\t\t\t\t// \tsetLat(res.data[0].ubicacion[0].lat);\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// if (res.data[0].ubicacion[0].lng === '' || res.data[0].ubicacion[0].lng === 'undefined') {\r\n\t\t\t\t\t// \tsetLng('-104.358159');\r\n\t\t\t\t\t// } else {\r\n\t\t\t\t\t// \tsetLng(res.data[0].ubicacion[0].lng);\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tif (res.data[0].linkFace !== 'undefined' && res.data[0].linkFace !== '') {\r\n\t\t\t\t\t\tsetFace(res.data[0].linkFace);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkInsta !== 'undefined' && res.data[0].linkInsta !== '') {\r\n\t\t\t\t\t\tsetInsta(res.data[0].linkInsta);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkTweeter !== 'undefined' && res.data[0].linkTweeter !== '') {\r\n\t\t\t\t\t\tsetTwitter(res.data[0].linkTweeter);\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t\t// else {\r\n\t\t\t\t// \tsetLat('19.767980');\r\n\t\t\t\t// \tsetLng('-104.358159');\r\n\t\t\t\t// }\r\n\t\t\t\t/*             if(res.data[0] !== {}){\r\n                setAction(true)\r\n                setLat(res.data[0].ubicacion[0].lat)\r\n                setLng(res.data[0].ubicacion[0].lng)\r\n            }else{\r\n                setLat(\"19.767980\")\r\n                setLng(\"-104.358159\")\r\n            } */\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\t// setLat('19.767980');\r\n\t\t\t\t// setLng('-104.358159');\r\n\t\t\t\tsetDatosNegocio({});\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerPoliticasEnvio = useCallback(\r\n\t\tasync () => {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get('/politicasEnvio/', {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetPoliticasEnvio(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t[ token ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tpeticionDatosTienda();\r\n\t\t\tobtenerPoliticasEnvio();\r\n\t\t\tsetReloadInfo(false);\r\n\t\t},\r\n\t\t[ reloadInfo, obtenerPoliticasEnvio ]\r\n\t);\r\n\r\n\tif (loading) {\r\n\t\treturn <Spin />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"info-tienda\">\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle={\r\n\t\t\t\t\taction === false ? (\r\n\t\t\t\t\t\t'Registrando la información del negocio'\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Actualizando la información del negocio'\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{current > 0 && (\r\n\t\t\t\t\t\t\t<Button className=\"mx-1\" onClick={() => prev()}>\r\n\t\t\t\t\t\t\t\tAnterior\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{current < 3 && (\r\n\t\t\t\t\t\t\t<Button className=\"mx-1\" type=\"primary\" onClick={() => next()}>\r\n\t\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Button className=\"mx-1\" onClick={drawnerClose} type=\"primary\">\r\n\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<RegistroTienda\r\n\t\t\t\t\tdatosNegocio={datosNegocio}\r\n\t\t\t\t\tsetDatosNegocio={setDatosNegocio}\r\n\t\t\t\t\ttoken={token}\r\n\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\tsteps={[current, setCurrent]}\r\n\t\t\t\t\treloadInfo={reloadInfo}\r\n\t\t\t\t\tsetReloadInfo={setReloadInfo}\r\n\t\t\t\t\t// drawnerClose={drawnerClose}\r\n\t\t\t\t/>\r\n\t\t\t</Drawer>\r\n\r\n\t\t\t<div className=\"contenedor-boton-datostienda\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tclassName=\"m-3\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t/* drawnerClose={drawnerClose} */\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\taction === false ? (\r\n\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tshowDrawer();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{action === false ? 'Agregar información tienda' : 'Editar información tienda'}\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t<p className=\"text-center mb-4 font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t'Ey aún no agregas la información de tu negocio.'\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Información de tu negocio'\r\n\t\t\t\t\t)}{' '}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"w-50\" style={{ margin: 'auto' }}>\r\n\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t<Alert message=\"Nota:\" description={<AlertTienda />} type=\"info\" showIcon />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{action === false ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">Logo del negocio:</p>\r\n\t\t\t\t\t\t<div className=\"mostrarRegistroTienda-imagen m-3\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid \"\r\n\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\tsrc={aws + datosNegocio.imagenLogo}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tNombre del negocio:{' '}\r\n\t\t\t\t\t\t\t<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Nombre de tu negocio' : datosNegocio.nombre}{' '}\r\n\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tTeléfono:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Teléfono' : datosNegocio.telefono}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCódigo Postal:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Código Postal' : datosNegocio.direccion[0].cp}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCalle:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Calle' : datosNegocio.direccion[0].calle_numero}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tColonia:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Colonia' : datosNegocio.direccion[0].colonia}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCiudad:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Colonia' : datosNegocio.direccion[0].ciudad} Ciudad\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row justify-content-around\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tEstado:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Estado' : datosNegocio.direccion[0].estado}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow\">\r\n\t\t\t\t\t\t<p className=\"m-2 h5 font-weight-bold\">Redes sociales:</p>\r\n\t\t\t\t\t\t{face !== '' ? (\r\n\t\t\t\t\t\t\t<a href={face} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<FacebookFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{insta !== '' ? (\r\n\t\t\t\t\t\t\t<a href={insta} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<InstagramFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{twitter !== '' ? (\r\n\t\t\t\t\t\t\t<a href={twitter} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<TwitterCircleFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row justify-content-around mt-3\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow \">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tHorarios de Atención:\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t{datosNegocio?.horario?.length > 0 ? \r\n\t\t\t\t\t\tdatosNegocio.horario.map((horario) => {\r\n\t\t\t\t\t\t\tif(horario.close){\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<b>{horario.dia}: </b> {horario.horarioInicial} -{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{horario.horarioFinal}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<b>{horario.dia}: NO HAY SERVICIO </b>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t: null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* <div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h5\">Ubicación actual: </p>\r\n\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\theight=\"60vh\"\r\n\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\tcenter={[ lat, lng ]}\r\n\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\tzoom={15}\r\n\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\tnombreMarcador=\"AB soluciones Empresariales\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> */}\r\n\r\n\t\t\t\t<div className=\"row mt-5\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Políticas de envío</p>\r\n\t\t\t\t\t\t{politicasEnvio.length === 0 ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"politicas-p mt-4\">\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tCosto por envío de paqueteria: <strong>${politicasEnvio.costoEnvio}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tPromoción de envío: <strong>${politicasEnvio.promocionEnvio}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tCosto de promocion de envío: <strong>${politicasEnvio.descuento}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Políticas de privacidad</p>\r\n\t\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\timage=\"https://es.seaicons.com/wp-content/uploads/2015/11/Review-Post-icon1.png\"\r\n\t\t\t\t\t\t\t\tdescription=\"Información existente\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Link to={`/politicas`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dashed\">\r\n\t\t\t\t\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Empty>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Imagen corporativa</p>\r\n\t\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\timage=\"https://es.seaicons.com/wp-content/uploads/2015/11/Review-Post-icon1.png\"\r\n\t\t\t\t\t\t\t\tdescription=\"Información existente\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Link to={`/quienes_somos`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dashed\">\r\n\t\t\t\t\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Empty>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction AlertTienda() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p className=\"h5\">\r\n\t\t\t\tRecuerda que tener la información de tu negocio es importante, ya que esta informacion ayudará que tu\r\n\t\t\t\tnegocio sea encontrado fácilmente.\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(MostrarRegistroTienda);\r\n","import React from 'react'\r\nimport {Helmet} from \"react-helmet\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nimport MostrarRegistroTienda from './services/RegistroTienda/MostrarRegistroTienda';\r\n\r\n\r\nfunction Admin(props) {\r\n\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n\t\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>Panel Principal</title>\r\n            </Helmet>\r\n            <div>\r\n                <div>\r\n                    <MostrarRegistroTienda token={token} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Admin)","import { createContext } from 'react'\r\n\r\nexport const ProductoContext = createContext(null);\r\nexport const DisabledContext = createContext(null);\r\nexport const IdProductoContext = createContext(null);\r\n\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Modal } from 'antd';\r\nimport {\r\n\tUploadOutlined,\r\n\tEyeOutlined,\r\n\tDeleteOutlined,\r\n\tPictureOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport './registrar_galeria.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nfunction RegistrarGaleria() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(ProductoContext);\r\n\tconst [ galeria, setGaleria ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst props = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('producto', productoContext);\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait subirBD(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst subirBD = async (formData) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/galeria/nueva/${productoContext}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerBD = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/galeria/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst eliminarBD = async (idimagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/galeria/${productoContext}/imagen/${idimagen}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idimagen) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de borrar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBD(idimagen);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst [ prev, setPrev ] = useState('');\r\n\tif (galeria !== undefined) {\r\n\t\tvar render = galeria.map((imagenes) => (\r\n\t\t\t<div className=\"shadow rounded imgStyle d-inline-block\" key={imagenes._id}>\r\n\t\t\t\t<div className=\"padre-iconos d-flex justify-content-around align-items-center\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"img\"\r\n\t\t\t\t\t\tsrc={aws+imagenes.url}\r\n\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"iconos rounded\">\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tsetPrev(imagenes.url);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EyeOutlined style={{ fontSize: 20 }} className=\"ver\" />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(imagenes._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ fontSize: 20 }} className=\"eliminar\" />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"responsive\">\r\n\t\t\t\t<div className=\"col-sm-12 col-lg-6 imgUploads\">\r\n\t\t\t\t\t<Upload {...props} className=\"upload-text-display\">\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Upload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t<div className=\"padre\">{render}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-12 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center\">Visualización de la imagen</p>\r\n\t\t\t\t\t<div className=\"shadow rounded imgPreview-registrar-galeria d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{prev === '' || galeria.length === 0 ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-registrar-galeria\"\r\n\t\t\t\t\t\t\t\tsrc={aws+prev}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarGaleria;\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Alert } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport './registrar_talla.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n/* import { StepsContext } from '../../contexts/stepsContext'; */\r\n\r\nfunction RegistrarTalla(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productoContext, disabledForm ] = useContext(ProductoContext);\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst setDisabled = props.disabledButtons;\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttalla: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirTalla = async () => {\r\n\t\tconst resul = productos.map((tallas) => {\r\n\t\t\tif (tallas.talla === datos.talla) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Esta talla ya esta registrada',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.talla === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addTalla/${productoContext}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDisabled(false);\r\n\t\t\t\t\tobtenerTalla();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\ttalla: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst eliminarTalla = async (idtalla) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoContext}/talla/${idtalla}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerTalla = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.tallas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((tallas) => (\r\n\t\t\t<div className=\"m-2\" key={tallas._id}>\r\n\t\t\t\t<Badge count={tallas.cantidad} style={{ backgroundColor: '#52c41a' }}>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded\">\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarTalla(tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 25, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{disabledForm === false ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert style={{ width: '60%' }} message=\"Ya puedes registrar tallas\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Podrás registrar tallas después de registrar tu producto\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<p className=\"text-center mb-1\">Escribe la talla y la cantidad de productos disponibles de esa talla.</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<Form onFinish={subirTalla} form={form} className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"talla\"\r\n\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input disabled={disabledForm} name=\"talla\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input disabled={disabledForm} name=\"cantidad\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Item labelCol={{ offset: 1, span: 4 }} wrapperCol={{ offset: 1, span: 12 }}>\r\n\t\t\t\t\t\t\t\t<Button disabled={disabledForm} type=\"dafault\" htmlType=\"submit\" loading={loading}>\r\n\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t<div className=\"row\">{render}</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarTalla;\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Alert } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport './registrar_talla.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n/* import { StepsContext } from '../../contexts/stepsContext'; */\r\n\r\nfunction RegistrarNumero(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productoContext, disabledForm ] = useContext(ProductoContext);\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst setDisabled = props.disabledButtons;\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnumero: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirNumero = async () => {\r\n\t\tconst resul = productos.map((numeros) => {\r\n\t\t\tif (numeros.numero === datos.numero) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Este numero ya esta registrado',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.numero === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addNumero/${productoContext}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDisabled(false);\r\n\t\t\t\t\tobtenerNumero();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tnumero: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst eliminarNumero = async (idnumero) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoContext}/numero/${idnumero}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerNumero = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.numeros);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((numero) => (\r\n\t\t\t<div className=\"m-2\" key={numero._id}>\r\n\t\t\t\t<Badge count={numero.cantidad} style={{ backgroundColor: '#52c41a' }}>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{numero.numero}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded\">\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarNumero(numero._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 25, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{disabledForm === false ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Ya puedes registrar número de calzado\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Podrás registrar el número de calzado después de registrar tu producto\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<p className=\"text-center mb-1\">\r\n\t\t\t\tEscribe la talla del calzado y la cantidad de productos disponibles de esa talla.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<Form onFinish={subirNumero} form={form}>\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\tlabel=\"Numero\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"numero\" disabled={disabledForm} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cantidad\" disabled={disabledForm} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Item labelCol={{ offset: 1, span: 4 }} wrapperCol={{ offset: 1, span: 12 }}>\r\n\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\" disabled={disabledForm} loading={loading}>\r\n\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t<div className=\"row\">{render}</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarNumero;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Select, Steps, notification, Upload, Spin, Divider, Alert, Radio } from 'antd';\r\nimport { UploadOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport './registrar_producto.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\nimport RegistrarGaleria from './registrar_galeria';\r\nimport RegistrarTalla from './registrar_talla';\r\nimport RegistrarNumero from './registrar_numero';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\n\r\nconst { Option } = Select;\r\nconst { Step } = Steps;\r\n\r\n///Layout para formulario(columnas)\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nString.prototype.capitalize = function() {\r\n\treturn this.charAt(0).toUpperCase() + this.slice(1);\r\n};\r\n\r\nfunction RegistrarProducto(props) {\r\n\tconst formRef = useRef(null);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ disabled, setDisabled ] = props.disabledButtons;\r\n\tconst setCloseDraw = props.closeDraw;\r\n\t///Autorizacion a la pagina con Token\r\n\tconst token = localStorage.getItem('token');\r\n\t/// Declaracion de variables para los pasos\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\tconst [ editor, setEditor ] = useState();\r\n\tconst [ disabledPrev, setDisabledPrev ] = useState(false);\r\n\tconst [ disabledform, setDisabledForm ] = useState(true);\r\n\tconst [ disabledformProductos, setDisabledFormProductos ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingCombo, setLoadingCombo ] = useState(false);\r\n\tconst reload = props.reloadProductos;\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ item, setItem ] = useState();\r\n\tconst [ buttonCat, setButtonCat ] = useState(true);\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\tconst [ categoriasDefault, setCategoriasDefault ] = useState([]);\r\n\tconst [ subcategoriasDefault, setSubcategoriasDefault ] = useState([]);\r\n\tconst [ subCategoriasBD, setSubCategoriasBD ] = useState([]);\r\n\tconst [ subCategoria, setSubCategoria ] = useState([]);\r\n\tconst [ displayColorPicker, setDisplayColorPicker ] = useState(false);\r\n\tconst [ color, setColor ] = useState('');\r\n\tconst [ valueSelect, setValueSelect ] = useState();\r\n\tconst [ valueSelectSubCat, setValueSelectSubCat ] = useState();\r\n\r\n\tconst [ temporadasBD, setTemporadasBD ] = useState([]);\r\n\r\n\tconst styles = reactCSS({\r\n\t\tdefault: {\r\n\t\t\tcolor: {\r\n\t\t\t\twidth: '36px',\r\n\t\t\t\theight: '14px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackground: color\r\n\t\t\t},\r\n\t\t\tswatch: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tborderRadius: '1px',\r\n\t\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t},\r\n\t\t\tpopover: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: '2'\r\n\t\t\t},\r\n\t\t\tcover: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\tright: '0px',\r\n\t\t\t\tbottom: '0px',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetDisplayColorPicker(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetDisplayColorPicker(false);\r\n\t};\r\n\r\n\tconst handleChange = (color) => {\r\n\t\tsetColor(color.hex);\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColor('');\r\n\t\tform.setFieldsValue({ color: '' });\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tsetCurrent(0);\r\n\t\t\t\tsetDisabledFormProductos(false);\r\n\t\t\t\tsetColor('');\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledForm(true);\r\n\t\t\t\tsetSubCategoria([]);\r\n\t\t\t\tsetValueSelectSubCat();\r\n\t\t\t\tsetSubcategoriasDefault([]);\r\n\t\t\t\tsetItem('');\r\n\t\t\t\tsetSelect('');\r\n\t\t\t\tsetCategoriasDefault([]);\r\n\t\t\t\tsetValueSelect();\r\n\t\t\t}\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetValueSelect();\r\n\t\t\tsetCurrent(0);\r\n\t\t\tsetDisabledFormProductos(false);\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerTemporadasBD();\r\n\t\t\tform.resetFields();\r\n\t\t},\r\n\t\t[ reload, form ]\r\n\t);\r\n\r\n\tconst next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t\tif (current === 0) {\r\n\t\t\tobtenerSubcategorias();\r\n\t\t\tsetDisabled(true);\r\n\t\t} else if (current >= 1) {\r\n\t\t\tsetDisabledPrev(true);\r\n\t\t} else {\r\n\t\t\tsetDisabledPrev(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\t///UPLOAD ANTD PRODUCTO\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\t///capturar datos}\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tcodigo: '',\r\n\t\tsubCategoria: '',\r\n\t\tnombre: '',\r\n\t\tcantidad: '',\r\n\t\tprecio: '',\r\n\t\timagen: '',\r\n\t\tcolor: ''\r\n\t});\r\n\t//// Capturar valores de categoria\r\n\tconst [ select, setSelect ] = useState('');\r\n\tconst [ genero, setGenero ] = useState('Ninguno');\r\n\tconst [ tipoCategoria, setTipoCategoria ] = useState('');\r\n\r\n\tconst onSelect = (value) => {\r\n\t\tsetSelect(value[1]);\r\n\t\tsetValueSelect(value[1]);\r\n\t\tif (value[0] === 'Calzado' || value[0] === 'Ropa') {\r\n\t\t\tsetTipoCategoria(value[0]);\r\n\t\t} else {\r\n\t\t\tsetTipoCategoria('Otros');\r\n\t\t}\r\n\t\tif (value) {\r\n\t\t\tsetDisabled(false);\r\n\t\t} else {\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\t};\r\n\tconst generoOnChange = (value) => {\r\n\t\tsetGenero(value);\r\n\t};\r\n\tconst obtenerEditor = (value) => {\r\n\t\tsetEditor(value);\r\n\t};\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\t/// Guardar y almacenar en la api REST\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.forEach((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tasync function onFinish() {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('codigo', datos.codigo);\r\n\t\tformData.append('nombre', datos.nombre);\r\n\t\tformData.append('categoria', select);\r\n\t\tformData.append('tipoCategoria', tipoCategoria);\r\n\t\tformData.append('subCategoria', subCategoria);\r\n\t\tformData.append('temporada', temporada);\r\n\t\tformData.append('genero', genero);\r\n\t\tformData.append('color', datos.color);\r\n\t\tformData.append('colorHex', color);\r\n\t\tformData.append('cantidad', datos.cantidad);\r\n\t\tformData.append('precio', datos.precio);\r\n\t\tformData.append('descripcion', editor);\r\n\t\tformData.append('imagen', files);\r\n\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/productos/', formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabledPrev(true);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledFormProductos(true);\r\n\t\t\t\tsetDisabledForm(false);\r\n\t\t\t\tsetProductoID(res.data.userStored._id);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tif (tipoCategoria === 'Otros') {\r\n\t\t\t\t\tnext();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/categorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerSubcategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/Subcategorias/${select}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetSubCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerTemporadasBD() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/agrupar/temporadas`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetTemporadasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerAtributo = (e) => {\r\n\t\tsetTipoCategoria(e.target.value);\r\n\t};\r\n\r\n\tconst addItemCategoria = () => {\r\n\t\tsetCategoriasDefault([ ...categoriasDefault, { tipoCategoria, _id: item } ]);\r\n\t\tsetSelect(item);\r\n\t\t/* setTipoCategoria('Otros'); */\r\n\t\tsetDisabled(false);\r\n\t\tsetValueSelect(item);\r\n\t\tform.resetFields();\r\n\t};\r\n\tconst addItemSubCategoria = () => {\r\n\t\tsetSubcategoriasDefault([ ...subcategoriasDefault, item ]);\r\n\t\tsetValueSelectSubCat(item);\r\n\t\tsetSubCategoria(item);\r\n\t\tform.setFieldsValue({ subCategoria: item });\r\n\t};\r\n\r\n\tconst onSelectSubCategoria = (value) => {\r\n\t\tsetSubCategoria(value);\r\n\t\tsetValueSelectSubCat(value);\r\n\t\tform.setFieldsValue({ subCategoria: value });\r\n\t};\r\n\tconst onCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst onSubCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\t/* temporadas */\r\n\tconst [ temporada, setTemporada ] = useState('');\r\n\tconst [ valueSelectTemporada, setValueSelectTemporada ] = useState();\r\n\tconst [ temporadaDefault, setTemporadaDefault ] = useState([]);\r\n\r\n\tconst onSelectTemporada = (value) => {\r\n\t\tsetTemporada(value);\r\n\t\tsetValueSelectTemporada(value);\r\n\t\tform.setFieldsValue({ temporada: value });\r\n\t};\r\n\r\n\tconst onTemporadaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst addItemTemporada = () => {\r\n\t\tsetTemporadaDefault([ ...temporadaDefault, item ]);\r\n\t\tsetValueSelectTemporada(item);\r\n\t\tsetTemporada(item);\r\n\t\tform.setFieldsValue({ temporada: item });\r\n\t};\r\n\r\n\t////CONTENIDO DE LOS PASOS\r\n\tconst steps = [\r\n\t\t{\r\n\t\t\ttitle: 'Categoría',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4 mb-2\">\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<h2 className=\"mb-5\">Selecciona una categoria para continuar o agrega una nueva</h2>\r\n\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t<Form.Item className=\"my-3\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"categorias\">\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tname=\"categorias\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Categoria\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={onCategoriaChange}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item className=\"my-3\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"atributos\">\r\n\t\t\t\t\t\t\t\t<Radio.Group onChange={obtenerAtributo} name=\"atributos\">\r\n\t\t\t\t\t\t\t\t\t<Radio.Button value=\"Calzado\">Calzado</Radio.Button>\r\n\t\t\t\t\t\t\t\t\t<Radio.Button value=\"Ropa\">Ropa</Radio.Button>\r\n\t\t\t\t\t\t\t\t\t<Radio.Button value=\"Otros\">Otros</Radio.Button>\r\n\t\t\t\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={addItemCategoria}>\r\n\t\t\t\t\t\t\t\t\tAñadir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form>\r\n\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\tvalue={valueSelect}\r\n\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Seleciona una categoria\"\r\n\t\t\t\t\t\t\tonChange={(e) => onSelect(e)}\r\n\t\t\t\t\t\t\tdropdownRender={(menu) => menu}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{categoriasDefault && categoriasDefault.length !== 0 ? (\r\n\t\t\t\t\t\t\t\tcategoriasDefault.map((item) => (\r\n\t\t\t\t\t\t\t\t\t<Option key={item} value={[ item.tipoCategoria, item._id ]}>\r\n\t\t\t\t\t\t\t\t\t\t{item._id}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{categoriasBD && categoriasBD.length !== 0 ? (\r\n\t\t\t\t\t\t\t\tcategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Option key={item._id} value={[ item.tipoCategoria, item._id ]}>\r\n\t\t\t\t\t\t\t\t\t\t\t{item._id}\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4 mb-2\">\r\n\t\t\t\t\t<div style={{ width: 900 }}>\r\n\t\t\t\t\t\t<h2 className=\"mb-5 text-center\">Registrar el producto</h2>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\t\t{...layout}\r\n\t\t\t\t\t\t\t\tname=\"nest-messages\"\r\n\t\t\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\t\t\tonFinishFailed={onError}\r\n\t\t\t\t\t\t\t\tinitialValues={{ categoria: select, genero: 'Ninguno' }}\r\n\t\t\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\t\t\tref={formRef.current}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Código de barras\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tname=\"codigo\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Campo opcional\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Subcategoria\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"subCategoria\"\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueSelectSubCat}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una subcategoria\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onSelectSubCategoria}\r\n\t\t\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 'auto' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onSubCategoriaChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemSubCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{subcategoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t\t\t{subCategoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\tsubCategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Temporada\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item name=\"temporada\">\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueSelectTemporada}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una temporada\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onSelectTemporada}\r\n\t\t\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onTemporadaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemTemporada}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{temporadaDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t\t\t{temporadasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\ttemporadasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Género\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"genero\" /* \r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]} */\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona un género\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={generoOnChange}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Ninguno\">Ninguno</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Niño\">Niño</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Niña\">Niña</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Hombre\">Hombre</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Mujer\">Mujer</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Mixto\">Mixto</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Nombre del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input name=\"nombre\" disabled={disabledformProductos} />\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t{tipoCategoria === 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Stock actual\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Precio del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\t\tstep=\".01\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Color del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Input.Group compact>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"colorHex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.swatch} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.color} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{displayColorPicker ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.popover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.cover} onClick={handleClose} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SketchPicker color={color} onChange={handleChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\t/* rules={[ { required: true, message: 'Este campo es requerido' } ]} */\r\n\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Escribe el color, por ejemplo: Verde\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={resetColor}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tQuitar color\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Input.Group>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Descripción del producto\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\t\t\tvaluePropName=\"Editor\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonEditorChange={obtenerEditor}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 800x800px\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Imagen principal\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"imagen\"\r\n\t\t\t\t\t\t\t\t\t\tvaluePropName=\"filelist\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Upload {...propss}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" disabled={disabledformProductos}>\r\n\t\t\t\t\t\t\t\t\t\tRegistrar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t{tipoCategoria === 'Ropa' ? (\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<ProductoContext.Provider value={[ productoID, disabledform ]}>\r\n\t\t\t\t\t\t\t\t\t\t<RegistrarTalla disabledButtons={setDisabled} />\r\n\t\t\t\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{tipoCategoria === 'Calzado' ? (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<ProductoContext.Provider value={[ productoID, disabledform ]}>\r\n\t\t\t\t\t\t\t\t\t\t<RegistrarNumero disabledButtons={setDisabled} />\r\n\t\t\t\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Galería(opcional)',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"contenedor-galeria d-flex justify-content-center align-items-center mt-4 mb-5\">\r\n\t\t\t\t\t<div className=\"text-center\" style={{ width: '90%' }}>\r\n\t\t\t\t\t\t<h2>Agrega más imágenes para tu producto</h2>\r\n\t\t\t\t\t\t<p>Puedes agregar más imágenes de tu producto para que tus clientes puedan verlas.</p>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\tclassName=\"info-recomended-sizes\"\r\n\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 800x800px\"\r\n\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t\t<RegistrarGaleria />\r\n\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div style={{ width: '80%' }}>\r\n\t\t\t\t\t<Steps current={current}>{steps.map((item) => <Step key={item.title} title={item.title} />)}</Steps>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps-content\">\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t{steps[current].content}\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t{current > 0 && (\r\n\t\t\t\t\t<Button style={{ margin: '0 8px' }} onClick={prev} disabled={disabledPrev}>\r\n\t\t\t\t\t\tAtras\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{current === steps.length - 1 && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Su producto ha sido guardado',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetCloseDraw(true);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tFinalizar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{current < steps.length - 1 && (\r\n\t\t\t\t\t<Button type=\"primary\" onClick={next} disabled={disabled}>\r\n\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(RegistrarProducto);\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Modal, Alert } from 'antd';\r\nimport {\r\n\tUploadOutlined,\r\n\tEyeOutlined,\r\n\tDeleteOutlined,\r\n\tPictureOutlined,\r\n\tEditOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport './actualizar_galeria.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nfunction RegistrarGaleria() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ galeria, setGaleria ] = useState();\r\n\tconst [ existeGaleria, setExisteGaleria ] = useState(false);\r\n\tconst [ idImagen, setIdImagen ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ prev, setPrev ] = useState('');\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerBD();\r\n\t\t\tsetExisteGaleria(false);\r\n\t\t\tsetPrev('');\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst antprops = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('producto', productoID);\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait subirBD(formData);\r\n\t\t}\r\n\t};\r\n\tconst propsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait actualizarBD(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst actualizarBD = async (formdata) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/galeria/${productoID}/imagen/${idImagen}`, formdata, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirBD = async (formData) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/galeria/nueva/${productoID}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerBD = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/galeria/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t\tsetExisteGaleria(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tif (err.response.status === 404) {\r\n\t\t\t\t\t\tsetExisteGaleria(false);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst eliminarBD = async (idimagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/galeria/${productoID}/imagen/${idimagen}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idimagen) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de borrar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBD(idimagen);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tif (galeria !== undefined) {\r\n\t\tvar render = galeria.map((imagenes) => (\r\n\t\t\t<div className=\"shadow rounded imgStyle d-inline-block \" key={imagenes._id}>\r\n\t\t\t\t<div className=\"padre-iconos d-flex justify-content-around align-items-center\">\r\n\t\t\t\t\t<img className=\"img\" src={aws + imagenes.url} alt=\"preview-imagen\" />\r\n\t\t\t\t\t<div className=\"iconos rounded\">\r\n\t\t\t\t\t\t<EyeOutlined\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\tclassName=\"ver\"\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tsetPrev(imagenes.url);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Upload {...propsActualizar}>\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\t\tclassName=\"modificar\"\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\tsetIdImagen(imagenes._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\tclassName=\"eliminar\"\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(imagenes._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 800x800px\" type=\"info\" showIcon />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"responsive\">\r\n\t\t\t\t<div className=\"col-sm-4 col-lg-6 imgUploads\">\r\n\t\t\t\t\t<Upload {...antprops} className=\"upload-text-display\">\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Upload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t{existeGaleria ? (\r\n\t\t\t\t\t\t<div className=\"padre\">{render}</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mt-5\">\r\n\t\t\t\t\t\t\t<p>No hay Galeria</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-4 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center\">Visualización de la imagen</p>\r\n\t\t\t\t\t<div className=\"shadow rounded imgPreview-actualizar-galeria d-flex justify-content-center align-items-center mb-5\">\r\n\t\t\t\t\t\t{existeGaleria === false || prev === '' || galeria.length === 0 ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img className=\"imagen-actualizar-galeria\" src={aws + prev} alt=\"preview-imagen\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarGaleria;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Space } from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport './actualizar_tallas.scss';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\n\r\nfunction ActualizarTalla() {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ idTalla, setIdTalla ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttalla: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTalla();\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tasync function actualizarTalla() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/action/${productoID}/talla/${idTalla}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdTalla('');\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function nuevaTalla() {\r\n\t\tconst resul = productos.map((tallas) => {\r\n\t\t\tif (tallas.talla === datos.talla) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Esta talla ya esta registrada',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.talla === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addTalla/${productoID}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tobtenerTalla();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\ttalla: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\tasync function eliminarTalla(idTalla) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoID}/talla/${idTalla}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerTalla() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.tallas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst rellenarCampos = (talla, cantidad, idTallas) => {\r\n\t\tsetIdTalla(idTallas);\r\n\t\tsetDatos({ ...datos, talla, cantidad });\r\n\t\tform.setFieldsValue({\r\n\t\t\ttalla,\r\n\t\t\tcantidad\r\n\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((tallas) => (\r\n\t\t\t<div className=\"mb-5 m-2\" key={tallas._id}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tshowZero\r\n\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\tstyle={tallas.cantidad !== 0 ? { backgroundColor: '#52c41a' } : { backgroundColor: '#FF4D4F' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded d-flex justify-content-around\">\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\trellenarCampos(tallas.talla, tallas.cantidad, tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarTalla(tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Form form={form} onFinish={actualizarTalla}>\r\n\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"talla\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"talla\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{idTalla ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dafault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" onClick={nuevaTalla}>\r\n\t\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t\t<div className=\"row\">{render}</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default ActualizarTalla;\r\n","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Space } from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport './actualizar_tallas.scss';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\n\r\nfunction ActualizarNumero() {\r\n\tconst formRef = useRef(null);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ idNumero, setIdNumero ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnumero: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerNumero();\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tasync function actualizarNumero() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/action/${productoID}/numero/${idNumero}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdNumero('');\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\tnumero: '',\r\n\t\t\t\t\tcantidad: ''\r\n\t\t\t\t});\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function nuevoNumero() {\r\n\t\tconst resul = productos.map((numeros) => {\r\n\t\t\tif (numeros.numero === datos.numero) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Este numero ya esta registrado',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.numero === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addNumero/${productoID}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tobtenerNumero();\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tnumero: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\tasync function eliminarNumero(idNumero) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoID}/numero/${idNumero}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerNumero() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.numeros);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst rellenarCampos = (numero, cantidad, idNumero) => {\r\n\t\tsetIdNumero(idNumero);\r\n\t\tsetDatos({ ...datos, numero, cantidad });\r\n\t\tform.setFieldsValue({\r\n\t\t\tnumero,\r\n\t\t\tcantidad\r\n\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((numeros) => (\r\n\t\t\t<div className=\"mb-5 m-2\" key={numeros._id}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tshowZero\r\n\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\tstyle={numeros.cantidad !== 0 ? { backgroundColor: '#52c41a' } : { backgroundColor: '#FF4D4F' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded d-flex justify-content-around\">\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\trellenarCampos(numeros.numero, numeros.cantidad, numeros._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarNumero(numeros._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Form form={form} ref={formRef.current} onFinish={actualizarNumero}>\r\n\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Numero\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"numero\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{idNumero ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dafault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdNumero('');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" onClick={nuevoNumero}>\r\n\t\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t\t<div className=\"row\">{render}</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default ActualizarNumero;\r\n","import React, { useState, useContext, useEffect, useCallback } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Tabs, Form, Input, Upload, Button, notification, Select, Spin, Divider, Alert } from 'antd';\r\nimport { UploadOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport ActualizarGaleria from './actualizar_galeria';\r\nimport ActualizarTalla from './actualizar_talla';\r\nimport ActualizarNumero from './actualizar_numero';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { Option } = Select;\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nfunction ActualizarProducto(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ select, setSelect ] = useState('');\r\n\tconst [ editor, setEditor ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingCombo, setLoadingCombo ] = useState(false);\r\n\tconst reload = props.reloadProductos;\r\n\tconst setCloseDraw = props.closeDraw;\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ item, setItem ] = useState();\r\n\tconst [ buttonCat, setButtonCat ] = useState(true);\r\n\tconst [ subcategoriasDefault, setSubcategoriasDefault ] = useState([]);\r\n\tconst [ subCategoriasBD, setSubCategoriasBD ] = useState([]);\r\n\tconst [ subCategoria, setSubCategoria ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState('');\r\n\tconst [ valueSelect, setValueSelect ] = useState();\r\n\tconst [ valueSelectCat, setValueSelectCat ] = useState();\r\n\r\n\tconst [ categoriasDefault, setCategoriasDefault ] = useState([]);\r\n\tconst [ itemCat, setItemCat ] = useState();\r\n\t/* const [ buttonCat, setButtonCat ] = useState(true); */\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\r\n\tconst [ temporadasBD, setTemporadasBD ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([\r\n\t\t{\r\n\t\t\tcodigo: '',\r\n\t\t\tnombre: '',\r\n\t\t\tprecio: '',\r\n\t\t\tcantidad: '',\r\n\t\t\timagen: '',\r\n\t\t\tcolor: ''\r\n\t\t}\r\n\t]);\r\n\tconst [ displayColorPicker, setDisplayColorPicker ] = useState(false);\r\n\tconst [ color, setColor ] = useState('');\r\n\tconst styles = reactCSS({\r\n\t\tdefault: {\r\n\t\t\tcolor: {\r\n\t\t\t\twidth: '36px',\r\n\t\t\t\theight: '14px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackground: color\r\n\t\t\t\t/* background: `rgba(${color.r}, ${color.g}, ${color.b}, ${color.a})` */\r\n\t\t\t},\r\n\t\t\tswatch: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tborderRadius: '1px',\r\n\t\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t},\r\n\t\t\tpopover: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: '2'\r\n\t\t\t},\r\n\t\t\tcover: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\tright: '0px',\r\n\t\t\t\tbottom: '0px',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetDisplayColorPicker(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetDisplayColorPicker(false);\r\n\t};\r\n\r\n\tconst handleChange = (color) => {\r\n\t\tsetColor(color.hex);\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColor('');\r\n\t\tform.setFieldsValue({ color: '' });\r\n\t\tproductos.color = '';\r\n\t};\r\n\r\n\t///UPLOAD ANTD PRODUCTO\r\n\tconst antprops = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerDatos = useCallback(\r\n\t\tasync () => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tcodigo: res.data.codigo,\r\n\t\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\t\tcategoria: res.data.categoria,\r\n\t\t\t\t\t\tsubCategoria: res.data.subCategoria,\r\n\t\t\t\t\t\ttemporada: res.data.temporada ? res.data.temporada : '',\r\n\t\t\t\t\t\tgenero: res.data.genero,\r\n\t\t\t\t\t\tprecio: res.data.precio,\r\n\t\t\t\t\t\tcolor: res.data.color,\r\n\t\t\t\t\t\tcantidad: res.data.cantidad,\r\n\t\t\t\t\t\tdescripcion: res.data.descripcion\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetSelect(res.data.categoria);\r\n\t\t\t\t\tsetEditor(res.data.descripcion);\r\n\t\t\t\t\tsetFiles(res.data.imagen);\r\n\t\t\t\t\tsetProductos(res.data);\r\n\t\t\t\t\tsetColor(res.data.colorHex);\r\n\t\t\t\t\tsetGenero(res.data.genero);\r\n\t\t\t\t\tsetSubCategoria(res.data.subCategoria);\r\n\t\t\t\t\tsetTemporada(res.data.temporada ? res.data.temporada : '');\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t[ form, productoID ]\r\n\t);\r\n\r\n\tconst generoOnChange = (value) => {\r\n\t\tsetGenero(value);\r\n\t};\r\n\tconst obtenerEditor = (value) => {\r\n\t\tsetEditor(value);\r\n\t};\r\n\tconst obtenerValores = (e) => {\r\n\t\tsetProductos({\r\n\t\t\t...productos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst onCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItemCat(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst addItemCategoria = () => {\r\n\t\tif (itemCat === 'Ropa' || itemCat === 'Calzado') {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Categoria no valida',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ categoria: itemCat });\r\n\t\t\tsetValueSelectCat(itemCat);\r\n\t\t\tsetCategoriasDefault([ ...categoriasDefault, itemCat ]);\r\n\t\t\tsetSelect(itemCat);\r\n\r\n\t\t\t/* reset subcategoria */\r\n\t\t\tsetValueSelect();\r\n\t\t\tsetSubCategoria([]);\r\n\t\t\tform.resetFields([ 'subCategoria' ]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onSelect = (value) => {\r\n\t\tsetSelect(value);\r\n\t\tsetValueSelectCat(value);\r\n\r\n\t\t/* reset subcategoria */\r\n\t\tsetValueSelect();\r\n\t\tsetSubCategoria([]);\r\n\t\tform.resetFields([ 'subCategoria' ]);\r\n\t};\r\n\r\n\tconst addItemSubCategoria = () => {\r\n\t\tsetSubcategoriasDefault([ ...subcategoriasDefault, item ]);\r\n\t\tform.setFieldsValue({ subCategoria: item });\r\n\t\tsetSubCategoria(item);\r\n\t\tsetValueSelect(item);\r\n\t};\r\n\tconst onSelectSubCategoria = (value) => {\r\n\t\tsetSubCategoria(value);\r\n\t};\r\n\tconst onSubCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetSubCategoria(e.target.value);\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\t/* temporadas */\r\n\tconst [ temporada, setTemporada ] = useState();\r\n\tconst [ valueSelectTemporada, setValueSelectTemporada ] = useState();\r\n\tconst [ temporadaDefault, setTemporadaDefault ] = useState([]);\r\n\r\n\tconst onSelectTemporada = (value) => {\r\n\t\tsetTemporada(value);\r\n\t};\r\n\tconst onTemporadaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetTemporada(e.target.value);\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst addItemTemporada = () => {\r\n\t\tsetTemporadaDefault([ ...temporadaDefault, item ]);\r\n\t\tform.setFieldsValue({ temporada: item });\r\n\t\tsetTemporada(item);\r\n\t\tsetValueSelectTemporada(item);\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/categorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerSubcategorias() {\r\n\t\tif (!select) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/Subcategorias/${select}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetSubCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerTemporadasBD() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/agrupar/temporadas`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetTemporadasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.forEach((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirDatos = async () => {\r\n\t\tconst formData = new FormData();\r\n\t\tif (productos.tipoCategoria === 'Otros') {\r\n\t\t\tformData.append('codigo', productos.codigo);\r\n\t\t\tformData.append('nombre', productos.nombre);\r\n\t\t\tformData.append('categoria', select);\r\n\t\t\tformData.append('subCategoria', subCategoria);\r\n\t\t\tformData.append('temporada', temporada);\r\n\t\t\tformData.append('genero', genero);\r\n\t\t\tformData.append('color', productos.color);\r\n\t\t\tformData.append('colorHex', color);\r\n\t\t\tformData.append('cantidad', productos.cantidad);\r\n\t\t\tformData.append('precio', productos.precio);\r\n\t\t\tformData.append('descripcion', editor);\r\n\t\t\tformData.append('imagen', files);\r\n\t\t} else {\r\n\t\t\tformData.append('codigo', productos.codigo);\r\n\t\t\tformData.append('nombre', productos.nombre);\r\n\t\t\tformData.append('categoria', select);\r\n\t\t\tformData.append('subCategoria', subCategoria);\r\n\t\t\tformData.append('temporada', temporada);\r\n\t\t\tformData.append('genero', genero);\r\n\t\t\tformData.append('color', productos.color);\r\n\t\t\tformData.append('colorHex', color);\r\n\t\t\tformData.append('precio', productos.precio);\r\n\t\t\tformData.append('descripcion', editor);\r\n\t\t\tformData.append('imagen', files);\r\n\t\t}\r\n\r\n\t\t/* for (var pair of formData.entries()) {\r\n\t\t\tconsole.log(pair[0]+ ', ' + pair[1]); \r\n\t\t} */\r\n\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/${productoID}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerDatos();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetCloseDraw(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tsetFiles([]);\r\n\t\t\t\tsetUpload(false);\r\n\t\t\t\tsetColor('');\r\n\t\t\t}\r\n\t\t\tobtenerDatos();\r\n\t\t\tobtenerSubcategorias();\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerTemporadasBD();\r\n\t\t},\r\n\t\t[ productoID, reload, form, obtenerDatos ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerSubcategorias();\r\n\t\t},\r\n\t\t[ select ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Tabs defaultActiveKey=\"1\">\r\n\t\t\t<TabPane tab=\"Actualizar datos del producto\" key=\"1\">\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t{productos.tipoCategoria === 'Ropa' ? (\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">{<ActualizarTalla />}</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{productos.tipoCategoria === 'Calzado' ? <div>{<ActualizarNumero />}</div> : <div />}\r\n\t\t\t\t\t<Form {...layout} name=\"nest-messages\" onFinish={subirDatos} onFinishFailed={onError} form={form}>\r\n\t\t\t\t\t\t<Form.Item name=\"codigo\" label=\"Código de barras\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Input name=\"codigo\" placeholder=\"Campo opcional\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Nombre del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Categoria\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"categoria\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\t\t\tvalue={valueSelectCat}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una categoria\"\r\n\t\t\t\t\t\t\t\t\tonChange={onSelect}\r\n\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{categoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t{categoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tcategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (item._id === 'Ropa' || item._id === 'Calzado') {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Subcategoria\" name=\"categoria\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"subCategoria\"\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una subcategoria\"\r\n\t\t\t\t\t\t\t\t\tvalue={valueSelect}\r\n\t\t\t\t\t\t\t\t\tonChange={onSelectSubCategoria}\r\n\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onSubCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemSubCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{subcategoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t{subCategoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tsubCategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Temporada\" name=\"temporada\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"temporada\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una temporada\"\r\n\t\t\t\t\t\t\t\t\tvalue={valueSelectTemporada}\r\n\t\t\t\t\t\t\t\t\tonChange={onSelectTemporada}\r\n\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onTemporadaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemTemporada}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{temporadaDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t{temporadasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\ttemporadasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Género\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"genero\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona género\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\tonChange={generoOnChange}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Ninguno\">Ninguno</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Niño\">Niño</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Niña\">Niña</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Hombre\">Hombre</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Mujer\">Mujer</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Mixto\">Mixto</Option>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Color del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Input.Group compact>\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"colorHex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={styles.swatch} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.color} />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{displayColorPicker ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.popover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.cover} onClick={handleClose} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SketchPicker color={color} onChange={handleChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item wrapperCol={{ span: 22, offset: 0 }} name=\"color\">\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Escribe el color, por ejemplo: Verde\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Button className=\"d-inline ml-2\" size=\"middle\" type=\"text\" onClick={resetColor}>\r\n\t\t\t\t\t\t\t\t\t\tQuitar color\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Input.Group>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t{productos.tipoCategoria === 'Otros' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"Stock actual\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input type=\"number\" name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Form.Item label=\"Precio del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input type=\"number\" name=\"precio\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Descripción del producto\" name=\"descripcion\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\tvaluePropName=\"Editor\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\tvalue={editor}\r\n\t\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonEditorChange={obtenerEditor}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 800x800px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Form.Item label=\"Imagen principal\" name=\"imagen\" valuePropName=\"filelist\">\r\n\t\t\t\t\t\t\t<Upload {...antprops} name=\"imagen\">\r\n\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Imagen Actual\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\tsrc={aws + files}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Spin>\r\n\t\t\t</TabPane>\r\n\t\t\t<TabPane tab=\"Actualizar galería de imágenes\" key=\"2\">\r\n\t\t\t\t<ActualizarGaleria />\r\n\t\t\t</TabPane>\r\n\t\t</Tabs>\r\n\t);\r\n}\r\nexport default ActualizarProducto;\r\n","import React from 'react'\r\nimport {Pagination} from 'antd';\r\nimport './pagination.scss'\r\n\r\nexport default function pagination(props) {\r\n    const {blogs, location, history, limite} = props;\r\n    const currentPage = parseInt(blogs.page);\r\n\r\n    const onChangePage = newPage => {\r\n        history.push(`${location.pathname}?page=${newPage}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"pagination mb-3\">\r\n            <Pagination\r\n                defaultCurrent={currentPage}\r\n                total={blogs.totalDocs}\r\n                onChange={newPage => onChangePage(newPage)}\r\n                defaultPageSize={limite}\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n","/* import { parse } from \"dotenv/types\";\r\n */\r\nexport const verificarDiasLaborales = (datosContx) => {\r\n\tconst numero_dia = new Date().getDay();\r\n\r\n\tif(datosContx.tienda?.length > 0){\r\n\t\tconst dia_no_laboral = datosContx.tienda[0].horario.filter(hora => hora.close === false && hora.key === numero_dia);\r\n\t\tif(dia_no_laboral.length > 0){\r\n\t\t\treturn true\r\n\t\t}else{\r\n\t\t\treturn false\r\n\t\t}\r\n\t}else{\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport const formatoMexico = (number) => {\r\n\tif (!number) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tlet nueva;\r\n\t\tif (number % 1 === 0) {\r\n\t\t\tnueva = number;\r\n\t\t} else {\r\n\t\t\tnueva = parseFloat(number).toFixed(2);\r\n\t\t}\r\n\t\tconst exp = /(\\d)(?=(\\d{3})+(?!\\d))/g;\r\n\t\tconst rep = '$1,';\r\n\t\treturn  nueva.toString().replace(exp, rep);\r\n\t}\r\n};\r\n\r\nexport const formatoFecha = (fecha) => {\r\n\tif (!fecha) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tvar newdate = new Date(fecha);\r\n\t\treturn newdate.toLocaleDateString('es-MX', { weekday: 'short', year: 'numeric', month: 'long', day: 'numeric' });\r\n\t}\r\n};\r\n\r\nexport const formatoHora = (hora) => {\r\n\tif (!hora) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tvar newtime = new Date(hora);\r\n\t\treturn newtime.toLocaleTimeString('en-US', { hour12: 'false' });\r\n\t}\r\n};\r\n\r\nexport const agregarPorcentaje = (precio_descuento, precio_producto) => {\r\n\tvar porcentaje = Math.round(precio_descuento / precio_producto * 100);\r\n\tvar descuento = 100 - porcentaje;\r\n\treturn descuento;\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport RegistrarProducto from './services/registrar_producto';\r\nimport ActualizarProducto from './services/actualizar_producto';\r\nimport { Card, Row, Input, Button, Modal, Drawer, Result, notification, Spin } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\n/* import { StepsContext, StepsProvider } from '../contexts/stepsContext'; */\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport {\r\n\tExclamationCircleOutlined,\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tPlusCircleOutlined,\r\n\tRollbackOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport queryString from 'query-string';\r\nimport './productos.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction RegistrarProductos(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst [ disabled, setDisabled ] = useState(true);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosRender, setProductosRender ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ reload, setReload ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ visibleButton, setVisibleButton ] = useState('d-none');\r\n\tconst [ closeDraw, setCloseDraw ] = useState(false);\r\n\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction closeConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de cerrar esta ventana?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\tfunction setActualizar() {\r\n\t\tsetAccion(true);\r\n\t\tsetVisible(true);\r\n\t}\r\n\tfunction setRegistrar() {\r\n\t\tsetAccion(false);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst eventoCloseConfirm = () => {\r\n\t\tif (accion) {\r\n\t\t\tdrawnerClose();\r\n\t\t} else {\r\n\t\t\tcloseConfirm();\r\n\t\t}\r\n\t};\r\n\t\r\n\tif(closeDraw){\r\n\t\tdrawnerClose();\r\n\t\tsetCloseDraw(false);\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(idproducto) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estas seguro de eliminar este articulo?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: 'Este articulo sera borrado permanentemente',\r\n\t\t\tokText: 'Yes',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tasync onOk() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.delete(`/productos/${idproducto}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif(window.screen.width < 768){\r\n\t\t\t\t\t\t\tobtenerProductos(12, page)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tobtenerProductos(28, page)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisibleButton('d-none');\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetVisibleButton('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosRender(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisibleButton('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosRender(res.data.posts.docs);\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t}\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ page, reload, reloadData ]\r\n\t);\r\n\r\n\tconst render = productosRender.map((productos) => (\r\n\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t<Card.Grid hoverable style={gridStyle} className=\"card-card\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\tstyle={{ /* width: 200, */ maxHeight: 420 }}\r\n\t\t\t\t\tbodyStyle={{ padding: 5 }}\r\n\t\t\t\t\tclassName=\"card-cover\"\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center cont-imagen-producto-admin\">\r\n\t\t\t\t\t\t\t<img className=\"imagen-producto-admin\" alt=\"producto\" src={aws + productos.imagen} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetActualizar();\r\n\t\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"text-decoration-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t</Button> ,\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tonClick={() => showDeleteConfirm(productos._id)}\r\n\t\t\t\t\t\t\tclassName=\"text-decoration-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t<h1 className=\"titulo-producto-admin titulo-producto-admin-responsivo font-weight-bold\">\r\n\t\t\t\t\t\t\t{productos.nombre}\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t<h2 className=\"h5 \">$ {formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n\t\t\t</Card.Grid>\r\n\t\t</div>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Drawer\r\n\t\t\t\tforceRender\r\n\t\t\t\ttitle={accion === true ? 'Actualizar un producto' : 'Registra un nuevo producto'}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={eventoCloseConfirm}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={eventoCloseConfirm} type=\"primary\">\r\n\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{accion === true ? (\r\n\t\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t<ActualizarProducto reloadProductos={reload} closeDraw={setCloseDraw} />\r\n\t\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<RegistrarProducto reloadProductos={reload} disabledButtons={[ disabled, setDisabled ]} closeDraw={setCloseDraw}/>\r\n\t\t\t\t\t/* <StepsProvider value={[ disabled, setDisabled ]}>\r\n\t\t\t\t\t\t<RegistrarProducto reloadProductos={reload} disabledButtons={[ disabled, setDisabled ]} />\r\n\t\t\t\t\t</StepsProvider> */\r\n\t\t\t\t)}\r\n\t\t\t</Drawer>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={`${visibleButton} mb-1`}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"ml-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\tonClick={setRegistrar}\r\n\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tRegistrar un producto\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Row style={{ maxWidth: '95vw' }} className=\"mt-4\">\r\n\t\t\t\t\t{productos.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\trender\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Pagination\r\n\t\t\t\tblogs={productos}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 28}\r\n\t\t\t/>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(RegistrarProductos);\r\n","import React from 'react';\r\nimport { Tag, Divider } from 'antd';\r\nimport { formatoMexico, formatoFecha, formatoHora } from '../../../config/reuserFunction';\r\nimport aws from '../../../config/aws';\r\n\r\nconst DetallesPedido = (props) => {\r\n\tconst pedido = props.datosDetalle;\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del pedido</Divider>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido._id}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedido.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Hora de pedido:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{formatoHora(pedido.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t{pedido.fecha_envio ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envío:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedido.fecha_envio)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Hora de envío:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoHora(pedido.fecha_envio)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.pedido.length}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Tipo de Pago:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.tipo_pago}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estado:</h6>\r\n\t\t\t\t<Tag className=\"data-info-pedidos\" color={pedido.estado_pedido === 'Entregado' ? '#5cb85c' : pedido.estado_pedido === 'Enviado' ? '#0088ff' : pedido.estado_pedido === 'Tomado' ? '#F26F48' : '#ffc401'}>\r\n\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t</Tag>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t<Tag className=\"data-info-pedidos\" color={pedido.pagado === true ? '#5cb85c' : '#f0ad4e'}>\r\n\t\t\t\t\t{pedido.pagado === true ? 'Si' : 'No'}\r\n\t\t\t\t</Tag>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">$ {formatoMexico(pedido.total)}</p>\r\n\t\t\t</div>\r\n\t\t\t<Divider className=\"text-center\">Detalles del cliente</Divider>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cliente:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.nombre}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Email:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.email}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Telefono:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.telefono}</p>\r\n\t\t\t</div>\r\n\t\t\t{pedido.direccion ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Dirección:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">\r\n\t\t\t\t\t\t\t\t{pedido.direccion.calle_numero}, {pedido.direccion.ciudad}, {pedido.direccion.estado},{' CP '}\r\n\t\t\t\t\t\t\t\t{pedido.direccion.cp}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Entre Calles:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">\r\n\t\t\t\t\t\t\t\t{pedido.direccion.entre_calles}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t):(\r\n\t\t\t\t\tpedido.cliente.direccion.map((direccion) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={direccion._id}>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Dirección:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">\r\n\t\t\t\t\t\t\t\t\t\t{direccion.calle_numero}, {direccion.ciudad}, {direccion.estado},{' CP '}\r\n\t\t\t\t\t\t\t\t\t\t{direccion.cp}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Entre Calles:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">\r\n\t\t\t\t\t\t\t\t\t\t{direccion.entre_calles}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\t<Divider className=\"text-center\">Detalles del producto</Divider>\r\n\t\t\t{pedido.pedido.map((pedido, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={pedido._id}>\r\n\t\t\t\t\t\t<div className=\"h6\">\r\n\t\t\t\t\t\t\t<strong>Producto {index + 1}</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-detalle\">\r\n\t\t\t\t\t\t\t\t<img alt=\"imagen-producto-detalle\" className=\"imagen-producto-detalle\" src={aws+pedido.producto.imagen} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Código de barras:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.codigo}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Artículo:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.nombre}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Categoría:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.categoria}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cantidad}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pedido.producto.categoria.toLowerCase() === 'ropa' ? (\r\n\t\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Talla:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.talla}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{pedido.producto.categoria.toLowerCase() === 'calzado' ? (\r\n\t\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Número de calzado:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.numero}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">$ {formatoMexico(pedido.total)}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DetallesPedido;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Menu, Dropdown, Button, notification, Input, Form, Spin } from 'antd';\r\nimport { DownOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst EstadoPedido = (props) => {\r\n\tconst { handleCancelEstado } = props;\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst IDpedido = props.datosPedido;\r\n\tconst [ pedido, setPedido ] = useState([]);\r\n\tconst pedidoID = props.datosPedido;\r\n\tconst setReload = props.reload;\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ entregado, setEntregado ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPedido();\r\n\t\t\tsetDisabled(false);\r\n\t\t},\r\n\t\t[ IDpedido ]\r\n\t);\r\n\r\n\tconst cambiarEstado = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/info/${pedidoID._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetReload(true);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t\thandleCancelEstado();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerPedido = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${IDpedido._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetPedido(res.data);\r\n\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\testado_pedido: res.data.estado_pedido,\r\n\t\t\t\t\tmensaje_admin: res.data.mensaje_admin,\r\n\t\t\t\t\turl: res.data.url,\r\n\t\t\t\t\tpaqueteria: res.data.paqueteria,\r\n\t\t\t\t\tcodigo_seguimiento: res.data.codigo_seguimiento\r\n\t\t\t\t});\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\testado_pedido: res.data.estado_pedido,\r\n\t\t\t\t\tmensaje_admin: res.data.mensaje_admin,\r\n\t\t\t\t\turl: res.data.url,\r\n\t\t\t\t\tpaqueteria: res.data.paqueteria,\r\n\t\t\t\t\tcodigo_seguimiento: res.data.codigo_seguimiento\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction handleMenuClick(e) {\r\n\t\tif (e.key === 'Entregado') {\r\n\t\t\tsetEntregado(true);\r\n\t\t\tsetDatos({ estado_pedido: e.key });\r\n\t\t\tsetPedido({ estado_pedido: e.key });\r\n\t\t} else {\r\n\t\t\tsetEntregado(false);\r\n\t\t\tsetDatos({\r\n\t\t\t\t...datos,\r\n\t\t\t\testado_pedido: e.key\r\n\t\t\t});\r\n\t\t\tsetPedido({\r\n\t\t\t\t...pedido,\r\n\t\t\t\testado_pedido: e.key\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tfunction onChange(e) {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t\tsetPedido({\r\n\t\t\t...pedido,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t}\r\n\r\n\tconst menu = (\r\n\t\t<Menu onClick={handleMenuClick}>\r\n\t\t\t<Menu.Item key=\"En proceso\" disabled={IDpedido.estado_pedido === 'Enviado' || disabled ? true : false}>\r\n\t\t\t\tEn proceso\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"Tomado\">Tomar Pedido</Menu.Item>\r\n\t\t\t<Menu.Item key=\"Enviado\">Enviado</Menu.Item>\r\n\t\t\t<Menu.Item key=\"Entregado\">Entregado</Menu.Item>\r\n\t\t</Menu>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Divider orientation=\"left\">Actualiza el estado del pedido</Divider>\r\n\t\t\t<Dropdown overlay={menu} disabled={IDpedido.estado_pedido === 'Entregado' || disabled ? true : false}>\r\n\t\t\t\t<Button>\r\n\t\t\t\t\t{pedido.estado_pedido} <DownOutlined />\r\n\t\t\t\t</Button>\r\n\t\t\t</Dropdown>\r\n\t\t\t<Divider orientation=\"left\">Informacion de envio</Divider>\r\n\t\t\t<p style={{ fontSize: 16 }}>Si el producto ya fue enviado puedes agregar la información de envío.</p>\r\n\r\n\t\t\t<Form onFinish={cambiarEstado} form={form} className=\"form-paqueteria\">\r\n\t\t\t\t<h6>Mensaje:</h6>\r\n\t\t\t\t<Form.Item name=\"mensaje_admin\">\r\n\t\t\t\t\t<TextArea\r\n\t\t\t\t\t\tdisabled={entregado}\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\tname=\"mensaje_admin\"\r\n\t\t\t\t\t\tplaceholder=\"Mensaje para el usuario\"\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Url de vinculación:</h6>\r\n\t\t\t\t<Form.Item name=\"url\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"url\" placeholder=\"Url de vinculacion del paquete\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Paquetería:</h6>\r\n\t\t\t\t<Form.Item name=\"paqueteria\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"paqueteria\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Código de seguimiento:</h6>\r\n\t\t\t\t<Form.Item name=\"codigo_seguimiento\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"codigo_seguimiento\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"float-right\" /* onClose={true} */>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default EstadoPedido;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport './pedidos.scss';\r\nimport { Card, Col, Row, Modal, notification, Result, Spin, Radio, Tag } from 'antd';\r\nimport { ContainerOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../config/axios';\r\nimport DetallesPedido from './detalles_pedido';\r\nimport EstadoPedido from './estado_pedido';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { formatoMexico, formatoFecha } from '../../../config/reuserFunction';\r\n\r\nconst { Meta } = Card;\r\n\r\nfunction Pedidos(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ pedidos, setPedidos ] = useState([]);\r\n\tconst [ pedidosPaginacion, setPedidosPaginacion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\t//state modales\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ estadoVisible, setEstadoVisible ] = useState(false);\r\n\t//state para mostrar pedido en el modal\r\n\tconst [ detallePedido, setDetallePedido ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPedidos(12, page);\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload, page ]\r\n\t);\r\n\r\n\tconst obtenerPedidos = async (limit, page) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/admin?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPedidos(res.data.docs);\r\n\t\t\t\t// setPedidosPaginacion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerPedidosFiltrados = async (limit, page, filtro) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/admin/filtrados?limit=${limit}&page=${page}&filtro=${filtro}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPedidos(res.data.docs);\r\n\t\t\t\tsetPedidosPaginacion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction onChange(e) {\r\n\t\tconst estado = e.target.value;\r\n\t\tswitch (estado) {\r\n\t\t\tcase 'todos':\r\n\t\t\t\tobtenerPedidos(10, page);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'proceso':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'En proceso');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'enviados':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'Enviado');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'entregados':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'Entregado');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tobtenerPedidos(10, page);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tconst showModal = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst showModalEstado = () => {\r\n\t\tsetEstadoVisible(true);\r\n\t};\r\n\tconst handleCancelEstado = () => {\r\n\t\tsetEstadoVisible(false);\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tconst render = pedidos.map((pedidos) => {\r\n\t\treturn (\r\n\t\t\t<Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={pedidos._id}>\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow-sm card-p-pedidos\"\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetallePedido(pedidos);\r\n\t\t\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDetalles del pedido\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<EditOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetallePedido(pedidos);\r\n\t\t\t\t\t\t\t\t\tshowModalEstado();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCambiar estado\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta\r\n\t\t\t\t\t\tclassName=\"contenedor-card-pedidos\"\r\n\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos._id}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos fecha-pedidos\">{formatoFecha(pedidos.createdAt)}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{pedidos.fecha_envio ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envío:</h6>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedidos.fecha_envio)}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cliente:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.cliente.nombre}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.pedido.length}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-pedidos\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedidos.estado_pedido === 'Entregado' ? '#5cb85c' : pedidos.estado_pedido === 'Enviado' ? '#0088ff' : pedidos.estado_pedido  === 'Tomado' ? '#F26F48' : '#ffc401'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedidos.estado_pedido}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-pedidos\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedidos.pagado === true ? '#5cb85c' : '#f0ad4e'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedidos.pagado === true ? 'Si' : 'No'}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Tipo de Pago:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.tipo_pago}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">\r\n\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(pedidos.total)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\tSISTEMA DE CONTROL DE PEDIDOS\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\tEn este apartado puedes ver todos los pedidos de tus clientes, filtrar por estados, si ya están\r\n\t\t\t\t\tpagados o no y cambiar su estado.\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t<p className=\"d-lg-inline d-block mr-5\">Mostrar por:</p>\r\n\t\t\t\t\t<Radio.Group name=\"radiogroup\" defaultValue=\"todos\" size=\"mediun\">\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"todos\" onChange={onChange}>\r\n\t\t\t\t\t\t\tTodos\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"proceso\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEn Proceso\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"enviados\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEnviados\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"entregados\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEntregados\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t{pedidos.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Row gutter={16}>{render}</Row>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"detalle\"\r\n\t\t\t\twidth={600}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t<DetallesPedido datosDetalle={detallePedido}  />\r\n\t\t\t</Modal>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"estado\"\r\n\t\t\t\twidth={600}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"Estado del pedido\"\r\n\t\t\t\tvisible={estadoVisible}\r\n\t\t\t\tonCancel={handleCancelEstado}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t<EstadoPedido datosPedido={detallePedido} reload={setReload} handleCancelEstado={handleCancelEstado} />\r\n\t\t\t</Modal>\r\n\t\t\t<Pagination blogs={pedidosPaginacion} location={location} history={history} limite={12} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Pedidos);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport {\r\n\tButton,\r\n\tInput,\r\n\tSlider,\r\n\tUpload,\r\n\tList,\r\n\tAvatar,\r\n\tnotification,\r\n\tResult,\r\n\tSpin,\r\n\tForm,\r\n\tCol,\r\n\tAlert,\r\n\tSelect,\r\n\tTooltip\r\n} from 'antd';\r\nimport { RollbackOutlined, ClearOutlined } from '@ant-design/icons';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { formatoMexico } from '../../../../../config/reuserFunction';\r\nimport aws from '../../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst demo = { height: '500px', overflow: 'auto' };\r\nconst { Option } = Select;\r\n\r\nconst RegistrarPromocion = (props) => {\r\n\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ content, setContent ] = useState(false);\r\n\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingList, setLoadingList ] = useState(true);\r\n\tconst [ loadingSelect, setLoadingSelect ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(true);\r\n\tconst [ imagen, setImagen ] = useState([]);\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ precioPromocion, setPrecioPromocion ] = useState();\r\n\tconst [ disabledSumit, setDisabledSumit ] = useState(true);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst reload = props.reload;\r\n\r\n\tconst [ categoriasDB, setCategoriasDB ] = useState([]);\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\tconst [ subcategoriasDB, setSubcategoriasDB ] = useState([]);\r\n\tconst [ subcategoria, setSubcategoria ] = useState();\r\n\tconst [ generosDB, setGenerosDB ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState();\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetProducto([]);\r\n\t\t\t\tsetContent(false);\r\n\t\t\t\tsetInputValue(0);\r\n\t\t\t\tsetPromocion([]);\r\n\t\t\t\tsetPrecioPromocion();\r\n\t\t\t\tsetDisabledSumit(true);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t}\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerGeneros();\r\n\t\t\tobtenerProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reload, reloadData, form ]\r\n\t);\r\n\r\n\tconst obtenerProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst propsUpload = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tsubirImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t\tvar porcentaje = 100 - value;\r\n\t\tvar descuento = Math.round(producto.precio * porcentaje / 100);\r\n\t\tif (descuento >= producto.precio || descuento <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t\tsetPrecioPromocion(descuento);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCampo = (e) => {\r\n\t\tif (e.target.value >= producto.precio || e.target.value <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t} else {\r\n\t\t\tsetPrecioPromocion(e.target.value);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t\tvar porcentaje = Math.round(e.target.value / producto.precio * 100);\r\n\t\t\tvar descuento = 100 - porcentaje;\r\n\t\t\tsetInputValue(descuento);\r\n\t\t}\r\n\t};\r\n\r\n\tconst subirImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${promocion._id}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetImagen(res.data.promocionBase.imagenPromocion);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('productoPromocion', producto._id);\r\n\t\tformData.append('precioPromocion', precioPromocion);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/productos/promocion/`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPromocion(res.data.userStored);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledSumit(true);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, genero) => {\r\n\t\tvar cat = categoria;\r\n\t\tvar sub = subcategoria;\r\n\t\tvar gen = genero;\r\n\r\n\t\tif (categoria === undefined) {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === undefined) {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === undefined) {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\r\n\t\tsetLoadingList(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingSelect(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCategoriasDB(res.data);\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGenerosDB(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t}\r\n\r\n\tconst selectCategoria = (categoria) => {\r\n\t\tsetCategoria(categoria);\r\n\t\tsetSubcategoria(null);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria);\r\n\t\t}\r\n\t\tcategoriasDB.forEach((res) => {\r\n\t\t\tif (categoria === res.categoria) {\r\n\t\t\t\tsetSubcategoriasDB(res.subcCategoria);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst selectSubCategoria = (subcategoria) => {\r\n\t\tsetSubcategoria(subcategoria);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria);\r\n\t\t}\r\n\t};\r\n\tconst selectGenero = (genero) => {\r\n\t\tsetGenero(genero);\r\n\t\tif (categoria && categoria.length !== 0 && !subcategoria) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else if (categoria && subcategoria && categoria.length !== 0 && subcategoria.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else if (!categoria && !subcategoria && genero) {\r\n\t\t\tobtenerFiltrosDivididos(undefined, undefined, genero);\r\n\t\t}\r\n\t};\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetPage(1);\r\n\t\tsetHasMore(true);\r\n\t\tsetReloadData(true);\r\n\t};\r\n\r\n\tconst limpiar = () => {\r\n\t\tsetInputValue(0);\r\n\t\tsetImagen([]);\r\n\t\tform.resetFields();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-lg-flex d-sm-block\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6 border-bottom\">\r\n\t\t\t\t\t<Spin size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t<div className=\"mt-3 row justify-content-center\">\r\n\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={categoria}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Categoria\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectCategoria}\r\n\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{categoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res.categoria} value={res.categoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.categoria}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tdisabled={!categoria ? true : false}\r\n\t\t\t\t\t\t\t\tvalue={subcategoria}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Subcategoria\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectSubCategoria}\r\n\t\t\t\t\t\t\t\t/* value={subcategoria} */\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{subcategoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tsubcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={genero}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Genero\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectGenero}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{generosDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tgenerosDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Tooltip placement=\"bottom\" title=\"Limpiar filtros\">\r\n\t\t\t\t\t\t\t\t<ClearOutlined className=\"ml-2\" style={{ fontSize: 20 }} onClick={limpiarFiltros} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t) : data.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div style={demo}>\r\n\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\tpageStart={1}\r\n\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(productos) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={producto._id === productos._id ? 'list-item-promocion' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={productos._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetContent(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiar();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeleccionar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"button-disabled-promocion\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPromoción activa\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tavatar={<Avatar size={40} src={aws + productos.imagen} />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={productos.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Spin>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<div className=\" my-3 d-flex justify-content-center\">\r\n\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\tmessage=\"En este apartado puedes agregar promocion individual por producto\"\r\n\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{content === false ? (\r\n\t\t\t\t\t\t<h3>Selecciona un productos que quieres aplicarle una promoción</h3>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<List className=\"shadow contenedor-articulo-detalles\">\r\n\t\t\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"list-item-producto\"\r\n\t\t\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"precio-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"titulo-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3>{producto.nombre}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{promocion.length !== 0 || disabledSumit === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{inputValue}%OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\t\t\t//tooltipVisible\r\n\t\t\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\thelp=\"La promoción no debe ser mayor al precio del producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Precio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={producto.precio}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={disabledSumit} onClick={subirPromocion}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tGuardar promoción\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"row d-none\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-2 texto-imagen\">\r\n\t\t\t\t\t\t\t\t\t\tSube una imagen para la promoción, esta imagen aparecerá en el carrucel de\r\n\t\t\t\t\t\t\t\t\t\tpromociones\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 1710x330px\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Upload {...propsUpload} className=\"d-flex justify-content-center mt-3 mr-3\">\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={disabled}>Subir</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t{imagen.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"imagen-box-promocion shadow-sm border\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-producto-promocion\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"img-producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default RegistrarPromocion;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport { Button, Input, Space, Upload, Spin, notification, Form, Col, Slider, List, Alert } from 'antd';\r\nimport { IdProductoContext } from '../../../contexts/ProductoContext';\r\nimport { formatoMexico } from '../../../../../config/reuserFunction';\r\nimport aws from '../../../../../config/aws';\r\n\r\nconst ActualizarPromocion = (props) => {\r\n\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(IdProductoContext);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ precioPromocion, setPrecioPromocion ] = useState();\r\n\tconst [ disabledSumit, setDisabledSumit ] = useState(false);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst reload = props.reload;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif(reload){\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t}\r\n\t\t\tobtenerPromocion();\r\n\t\t},\r\n\t\t[ productoContext, reload ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCampo(promocion.precioPromocion);\r\n\t\t},\r\n\t\t[ promocion ]\r\n\t);\r\n\r\n\tconst antDprops = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tsubirImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\tconst antDpropsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tactualizarImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t\tvar porcentaje = 100 - value;\r\n\t\tvar descuento = Math.round(producto.precio * porcentaje / 100);\r\n\t\tif (descuento >= producto.precio || descuento <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t\tsetPrecioPromocion(descuento);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCampo = (e) => {\r\n\t\tif (e >= producto.precio || e <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t} else {\r\n\t\t\tsetPrecioPromocion(e);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t\tvar porcentaje = Math.round(e / producto.precio * 100);\r\n\t\t\tvar descuento = 100 - porcentaje;\r\n\t\t\tsetInputValue(descuento);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promocion/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data.productoPromocion);\r\n\t\t\t\tsetPromocion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.setFieldsValue({ precio: res.data.precioPromocion });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarImagen = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/promocion/EliminarImagen/${productoContext}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('precioPromocion', precioPromocion);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div className=\"col-lg-8 col-12\">\r\n\t\t\t\t\t<List className=\"shadow\">\r\n\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws+producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<div className=\"precio-box\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"titulo-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h2>{producto.nombre}</h2>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{disabledSumit === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-descuento d-inline\">{inputValue}%OFF</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline\">${formatoMexico(producto.precio)}</p>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mb-2\">\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\ttooltipVisible\r\n\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nuevo precio\"\r\n\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\thelp=\"La promoción no debe ser mayor al precio del producto\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => obtenerCampo(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={disabledSumit} onClick={actualizarPromocion}>\r\n\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-none\">\r\n\t\t\t\t\t\t\t<p className=\"mt-2 texto-imagen\">\r\n\t\t\t\t\t\t\t\tActualizar imagen de promoción, recuerda que esta imagen aparecerá en el carrucel de\r\n\t\t\t\t\t\t\t\tpromociónes\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1710x330px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Space className=\"mt-3 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t{!promocion.imagenPromocion ? (\r\n\t\t\t\t\t\t\t\t\t<Upload {...antDprops}>\r\n\t\t\t\t\t\t\t\t\t\t<Button>Subir imagen</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Upload {...antDpropsActualizar}>\r\n\t\t\t\t\t\t\t\t\t\t<Button>Actualizar imagen</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\teliminarImagen();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tQuitar imagen\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t<div className=\"imagen-box-promocion shadow-sm mt-2\">\r\n\t\t\t\t\t\t\t\t{!promocion.imagenPromocion ? (\r\n\t\t\t\t\t\t\t\t\t<div>Sube una imagen</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"img-producto-promocion\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"img-producto\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={aws+promocion.imagenPromocion}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default ActualizarPromocion;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Button, Row, Input, Drawer, Space, Modal, notification, List, Result, Spin } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport RegistrarPromocion from './services/registrar_promocion';\r\nimport ActualizarPromocion from './services/actualizar_promocion';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport '../promociones.scss';\r\nimport '../registrar_promocion.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\n\r\nfunction PromocionesNormales(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ search, setSearch ] = useState('');\r\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\tconst [ reload, setReload ] = useState(false);\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos();\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetProductosFiltrados(\r\n\t\t\t\tproductos.filter((producto) => {\r\n\t\t\t\t\treturn producto.productoPromocion.nombre.toLowerCase().includes(search.toLowerCase());\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ search, productos ]\r\n\t);\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\r\n\tfunction setActualizar() {\r\n\t\tsetAccion(true);\r\n\t\tsetVisible(true);\r\n\t}\r\n\tfunction setRegistrar() {\r\n\t\tsetAccion(false);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst obtenerProductos = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/promocion')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function eliminarPromocion(idProducto) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/promocion/${idProducto}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerProductos();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(productoID) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'estas seguro de eliminar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarPromocion(productoID);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst render = productosFiltrados.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetActualizar();\r\n\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tEditar\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDeleteConfirm(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t<p className=\"h4 precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t$ {formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"h4 precio-rebaja d-inline mr-2\">$ {formatoMexico(productos.precioPromocion)}</p>\r\n\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t{agregarPorcentaje(productos.precioPromocion, productos.productoPromocion.precio)}%OFF\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t<Row justify=\"center mt-2\">\r\n\t\t\t\t\t<Search\r\n\t\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center mb-3\"\r\n\t\t\t\t\t\tonClick={setRegistrar}\r\n\t\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCrear nueva promocion\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{productos.length === 0 || productosFiltrados.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<List>{render}</List>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={accion === true ? 'Actualizar promoción' : 'Registrar nueva promoción'}\r\n\t\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\t\tplacement={'right'}\r\n\t\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tbodyStyle={{ paddingBottom: 30 }}\r\n\t\t\t\t\tfooter={\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={drawnerClose} >\r\n\t\t\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{accion === true ? (\r\n\t\t\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t\t<ActualizarPromocion reload={reload} drawnerClose={drawnerClose}/>\r\n\t\t\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<RegistrarPromocion reload={reload} drawnerClose={drawnerClose}/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(PromocionesNormales);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport {\r\n\tDrawer,\r\n\tButton,\r\n\tInput,\r\n\tSlider,\r\n\tTable,\r\n\tAvatar,\r\n\tnotification,\r\n\tResult,\r\n\tSpin,\r\n\tCol,\r\n\tAlert,\r\n\tSelect,\r\n\tTooltip,\r\n\tTag\r\n} from 'antd';\r\nimport { ClearOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { Option } = Select;\r\n\r\nexport default function RegistroPromocionMasiva(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ reloadData, setReloadData ] = useState(true);\r\n\tconst [ dataPromocion, setDataPromocion ] = useState([]);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingList, setLoadingList ] = useState(true);\r\n\tconst [ loadingSelect, setLoadingSelect ] = useState(false);\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ reload, setReload ] = props.reload;\r\n\tconst [ visible, setVisible ] = props.visible;\r\n\tconst [ actualizar, setActualizar ] = props.actualizar;\r\n\tconst { promoMasiva } = props;\r\n/* \tconst [ checkall, setCheckAll ] = useState(false); */\r\n\r\n\tconst [ categoriasDB, setCategoriasDB ] = useState([]);\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\tconst [ subcategoriasDB, setSubcategoriasDB ] = useState([]);\r\n\tconst [ subcategoria, setSubcategoria ] = useState();\r\n\tconst [ generosDB, setGenerosDB ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState();\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t\tobtenerCategorias();\r\n\t\tobtenerGeneros();\r\n\t};\r\n\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t\tlimpiar();\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos();\r\n\t\t},\r\n\t\t[ reloadData ]\r\n\t);\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetReloadData(!reloadData);\r\n\t};\r\n\r\n\tconst limpiar = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetInputValue(0);\r\n\t\tsetSelectedRowKeys([]);\r\n\t\tsetDataPromocion([]);\r\n\t\tsetPromocionMasiva([]);\r\n\t\tsetReloadData(!reloadData);\r\n\t\tsetActualizar(false);\r\n\t};\r\n\r\n\tconst error = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos/sinPaginacion`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => setInputValue(value);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetReloadData(!reloadData);\r\n\t\t} else {\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, genero) => {\r\n\t\tvar cat = categoria;\r\n\t\tvar sub = subcategoria;\r\n\t\tvar gen = genero;\r\n\r\n\t\tif (categoria === undefined) {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === undefined) {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === undefined) {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\r\n\t\tsetLoadingList(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\r\n\t\t\t\tif(actualizar){\r\n\t\t\t\t\tconst checks = [];\r\n\t\t\t\t\tconst data = [];\r\n\t\t\t\t\tconst listaBD = [];\r\n\t\t\t\t\tres.data.posts.forEach((res) => {\r\n\t\t\t\t\t\tpromoMasiva.forEach((promo) => {\r\n\t\t\t\t\t\t\tif(res._id === promo.productoPromocion._id){\r\n\t\t\t\t\t\t\t\tchecks.push(res._id)\r\n\t\t\t\t\t\t\t\tdata.push(res);\r\n\t\t\t\t\t\t\t\tlistaBD.push({ idProducto: res._id })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetSelectedRowKeys(checks);\r\n\t\t\t\t\tsetDataPromocion(data); \r\n\t\t\t\t\tsetPromocionMasiva(listaBD);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlimpiarChecks()\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingSelect(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCategoriasDB(res.data);\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGenerosDB(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst selectCategoria = (categoria) => {\r\n\t\tsetCategoria(categoria);\r\n\t\tsetSubcategoria(null);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria);\r\n\t\t}\r\n\t\tcategoriasDB.forEach((res) => {\r\n\t\t\tif (categoria === res.categoria) {\r\n\t\t\t\tsetSubcategoriasDB(res.subcCategoria);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst selectSubCategoria = (subcategoria) => {\r\n\t\tsetSubcategoria(subcategoria);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria);\r\n\t\t}\r\n\t};\r\n\tconst selectGenero = (genero) => {\r\n\t\tsetGenero(genero);\r\n\t\tif (categoria && categoria.length !== 0 && !subcategoria) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else if (categoria && subcategoria && categoria.length !== 0 && subcategoria.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else if (!categoria && !subcategoria && genero) {\r\n\t\t\tobtenerFiltrosDivididos(undefined, undefined, genero);\r\n\t\t}\r\n\t};\r\n\r\n\t/* Checklist */\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Imagen',\r\n\t\t\tdataIndex: 'imagen',\r\n\t\t\trender: (imagen) => <Avatar src={aws + imagen} />\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Promoción',\r\n\t\t\tdataIndex: 'promocion',\r\n\t\t\trender: (promocion) =>\r\n\t\t\t\tpromocion && promocion.length !== 0 ? <Tag color=\"green\">activa</Tag> : <div className=\"d-none\" />\r\n\t\t}\r\n\t];\r\n\tconst [ promocionMasiva, setPromocionMasiva ] = useState([]);\r\n\tconst [ selectedRowKeys, setSelectedRowKeys ] = useState([]);\r\n\tconst hasSelected = selectedRowKeys.length > 0;\r\n\r\n\tconst onSelectChange = (selectedRowKeys) => {\r\n\t\tsetSelectedRowKeys(selectedRowKeys);\r\n\t\tconst listaIDs = selectedRowKeys.map((res) => {\r\n\t\t\treturn { idProducto: res };\r\n\t\t});\r\n\t\tsetPromocionMasiva(listaIDs);\r\n\t};\r\n\r\n\tconst rowSelection = {\r\n\t\tselectedRowKeys,\r\n\t\tonChange: onSelectChange,\r\n\t\tgetCheckboxProps: (producto) => {\r\n\t\t\tif (actualizar) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled:\r\n\t\t\t\t\t\tproducto.promocion &&\r\n\t\t\t\t\t\tproducto.promocion.length !== 0 &&\r\n\t\t\t\t\t\tproducto.promocion[0].idPromocionMasiva !== promoMasiva[0].idPromocionMasiva, // Column configuration not to be checked\r\n\t\t\t\t\tname: producto.nombre\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled: producto.promocion && producto.promocion.length !== 0, // Column configuration not to be checked\r\n\t\t\t\t\tname: producto.nombre\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSelect: (record, selected, selectedRows) => {\r\n\t\t\tsetDataPromocion(selectedRows);\r\n\t\t},\r\n\t\tonSelectAll: (selected, selectedRows) => {\r\n\t\t\tsetDataPromocion(selectedRows);\r\n\t\t}\r\n\t};\r\n\t/* Checklist fin */\r\n\r\n\t/* Actualizar datos */\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (actualizar) {\r\n\t\t\t\tcheckearChecks();\r\n\t\t\t}\r\n\t\t\tif(visible){\r\n\t\t\t\tshowDrawer();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ actualizar, promoMasiva ]\r\n\t);\r\n\r\n\tconst limpiarChecks = () => {\r\n\t\tsetSelectedRowKeys([]);\r\n\t\tsetDataPromocion([]);\r\n\t\tsetPromocionMasiva([]);\r\n\t}\r\n\r\n\tconst checkearChecks = () => {\r\n\t\tsetInputValue(parseInt(promoMasiva[0].porsentajePromocionMasiva));\r\n\t\tconst listaPromosActuales = promoMasiva.map((producto) => {\r\n\t\t\treturn producto.productoPromocion._id;\r\n\t\t});\r\n\t\tsetSelectedRowKeys(listaPromosActuales);\r\n\r\n\t\tconst listaIDs = promoMasiva.map((res) => {\r\n\t\t\treturn { idProducto: res.productoPromocion._id };\r\n\t\t});\r\n\t\tsetPromocionMasiva(listaIDs);\r\n\t\tconst listaPromosData = promoMasiva.map((producto) => {\r\n\t\t\treturn producto.productoPromocion;\r\n\t\t});\r\n\t\tsetDataPromocion(listaPromosData);\r\n\t};\r\n\t/* Actualizar datos */\r\n\r\n\tconst subirPromocion = async () => {\r\n\t\tconst listaPromociones = {\r\n\t\t\tproductos: promocionMasiva,\r\n\t\t\tdescuento: inputValue\r\n\t\t};\r\n\t\tsetLoading(true);\r\n\t\tif (actualizar) {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/promocion/masiva/${promoMasiva[0].idPromocionMasiva}`, listaPromociones, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t\tlimpiar();\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/promocion/masiva/`, listaPromociones, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t\tlimpiar();\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<PlusOutlined /> Nueva promoción masiva\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle=\"Crear promoción masiva\"\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={onClose} style={{ marginRight: 8 }}>\r\n\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tdisabled={inputValue > 0 && selectedRowKeys.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\tonClick={subirPromocion}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tGuardar promoción masiva\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t<div className=\"row d-flex\">\r\n\t\t\t\t\t\t<div className=\"order-1 order-lg-0  col-12 col-lg-6 border-bottom\">\r\n\t\t\t\t\t\t\t<Spin size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t\t<div className=\" mt-2 row justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tvalue={categoria}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Categoria\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectCategoria}\r\n\t\t\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{categoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res.categoria} value={res.categoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.categoria}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!categoria ? true : false}\r\n\t\t\t\t\t\t\t\t\t\tvalue={subcategoria}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Subcategoria\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectSubCategoria}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{subcategoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tsubcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tvalue={genero}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Genero\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectGenero}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{generosDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tgenerosDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Tooltip placement=\"bottom\" title=\"Limpiar filtros\">\r\n\t\t\t\t\t\t\t\t\t\t<ClearOutlined\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={limpiarFiltros}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t) : data.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"tabla-promociones\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ marginLeft: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{hasSelected ? `Selected ${selectedRowKeys.length} items` : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\t\t\t\t\t\t\t\trowSelection={rowSelection}\r\n\t\t\t\t\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"order-0 order-lg-1 col-12 col-lg-6\">\r\n\t\t\t\t\t\t\t<div className=\" mt-2 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\tmessage=\"En este apartado puedes agregar promociones masivas, por categoria elegida\"\r\n\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center my-3\">\r\n\t\t\t\t\t\t\t\t\t{dataPromocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\t\t\t\t\tmaxCount={5}\r\n\t\t\t\t\t\t\t\t\t\t\tsize={64}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{dataPromocion.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Avatar key={index} src={aws + res.imagen} />;\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<h3>Selecciona los productos que quieres aplicarles una promoción</h3>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"precio-box porcentaje-descuento d-inline text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 25 }}> {inputValue} %OFF</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Spin>\r\n\t\t\t</Drawer>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Space, Button, Avatar, notification, Spin, Modal, List } from 'antd';\r\nimport { EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\nimport RegistroPromocionMasiva from './registrar_promocion_masiva';\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst PromoMasivaPrincipal = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(true);\r\n\r\n\tconst [ actualizar, setActualizar ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ promo, setPromo ] = useState([]);\r\n\r\n\tconst obtenerPromosMasivas = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/promocion/masiva')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarPromocionMasiva = async (idPromoMasiva) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`promocion/masiva/${idPromoMasiva}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idPromoMasiva) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'estas seguro de eliminar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarPromocionMasiva(idPromoMasiva);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst actualizarActive = (promo) => {\r\n\t\tsetActualizar(true);\r\n\t\tsetPromo(promo);\r\n\t\tsetVisible(true);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPromosMasivas();\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<RegistroPromocionMasiva\r\n\t\t\t\treload={[ reload, setReload ]}\r\n\t\t\t\tvisible={[ visible, setVisible ]}\r\n\t\t\t\tpromoMasiva={promo}\r\n\t\t\t\tactualizar={[ actualizar, setActualizar ]}\r\n\t\t\t/>\r\n\t\t\t{/* <ActualizarPromocionMasiva\r\n\t\t\t\treload={[ reload, setReload ]}\r\n\t\t\t\t\r\n\t\t\t/> */}\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t<List\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\trenderItem={(item) => (\r\n\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => actualizarActive(item.productosPromoMasiva)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<EditOutlined /> Editar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tshowDeleteConfirm(item.productosPromoMasiva[0].idPromocionMasiva);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\t\t\t\tmaxCount={5}\r\n\t\t\t\t\t\t\t\t\t\tsize={64}\r\n\t\t\t\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{item.productosPromoMasiva.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Avatar key={index} src={aws + res.productoPromocion.imagen} />;\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<h3 style={{ color: '#22BB33' }}>{`${item.productosPromoMasiva[0]\r\n\t\t\t\t\t\t\t\t\t\t\t.porsentajePromocionMasiva}%`}</h3>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdescription={<h4>De descuento</h4>}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PromoMasivaPrincipal;\r\n","import React from 'react';\r\nimport { Tabs } from 'antd';\r\nimport PromocionesNormales from './promos_normales/promociones';\r\nimport PromoMasivaPrincipal from './promos_masivas/promo_masiva';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function Promociones() {\r\n\treturn (\r\n\t\t<div className=\"card-container\">\r\n\t\t\t<div className=\"mb-4\">\r\n                <p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n                    SISTEMA DE PROMOCIONES\r\n                </p>\r\n                <p className=\"text-center\" style={{ fontSize: 15 }}>\r\n                    En este apartado puedes agregar ofertas especiales a tu producto y aparecer en la página principal\r\n                </p>\r\n            </div>\r\n\t\t\t<Tabs centered>\r\n\t\t\t\t<TabPane tab=\"Promociones individuales\" key=\"1\">\r\n\t\t\t\t\t<PromocionesNormales />\r\n\t\t\t\t</TabPane>\r\n\t\t\t\t<TabPane tab=\"Promociones masivas\" key=\"2\">\r\n\t\t\t\t\t<PromoMasivaPrincipal />\r\n\t\t\t\t</TabPane>\r\n\t\t\t\t{/* <TabPane tab=\"Promociones unitarias\" key=\"3\">\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t</TabPane> */}\r\n\t\t\t</Tabs>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Card, Col, Tag, Modal, notification } from 'antd';\r\nimport { ContainerOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nimport './MostrarDatosTargeta.scss';\r\n\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nexport default function MostrarDatosTargeta(props) {\r\n\tconst { setDetalleApartado, showModal, apartado, setEstado, token } = props;\r\n\r\n\tconst deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={apartado._id}>\r\n\t\t\t<Card\r\n\t\t\t\tclassName=\"shadow-sm card-body-apartados\"\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t<div className=\"d-flex ml-3 justify-content-center align-items-center\">\r\n\t\t\t\t\t\t<ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDetalle del pedido\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center text-danger\">\r\n\t\t\t\t\t\t<DeleteOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tclassName=\"contenedor-card-apartados\"\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Id apartado: </h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado._id}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Pedido el:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{formatoFecha(apartado.createdAt)}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Cliente:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">\r\n\t\t\t\t\t\t\t\t\t{`${apartado.cliente[0].nombre} ${apartado.cliente[0].apellido}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Estado:</h6>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"data-info-apartados\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Tipo de entrega:</h6>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"data-info-apartados\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'ENVIO' ? '#5cb85c' : '#0275d8'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Producto:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado.producto[0].nombre}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Cantidad de artículos:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado.cantidad}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</Col>\r\n\t);\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport {Badge,Select,Form, Button,Spin,notification,Typography,Tag,Input,Card, Divider} from 'antd'\r\nimport './DetalleApartado.scss';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst { TextArea } = Input;\r\nconst { Text } = Typography;\r\nconst { Option } = Select;\r\nconst { Meta } = Card;\r\n\r\nexport default function DetalleApartado(props) {\r\n\r\n    const {detalleApartado,setEstado, setVisible} = props;\r\n    const [selectEstado, setSelectEstado] = useState('')\r\n    const [promocion, setpromocion] = useState([])\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [ datosEnvio, setdatosEnvio ] = useState();\r\n\r\n    const [ form ] = Form.useForm();\r\n\r\n    const token = localStorage.getItem('token');\r\n\r\n    let multiple;\r\n\r\n\tif (detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0) {\r\n\t\tmultiple = detalleApartado.apartadoMultiple.map((info) => {\r\n\t\t\tconst producto = detalleApartado.productosMultiple.map((producto,index) => {\r\n\t\t\t\tif (info.producto === producto._id) {\r\n\t\t\t\t\treturn <ProductosMultiple key={producto._id} producto={producto} info={info} index={index} />;\r\n                }\r\n                return (<div />);\r\n\t\t\t});\r\n\t\t\treturn producto;\r\n\t\t});\r\n    }\r\n\r\n    function obtenerApartado(){\r\n        clienteAxios.get(`/apartado/${detalleApartado._id}`,{\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n        .then((res) => {\r\n\t\t\tsetLoading(false);\r\n            setpromocion(res.data.promocion)\r\n        }).catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        monstrarInformacionBlog({\r\n            mensajeUser:detalleApartado.mensajeUser,\r\n            paqueteria:detalleApartado.paqueteria,\r\n            url:detalleApartado.url,\r\n            codigo_seguimiento:detalleApartado.codigo_seguimiento,\r\n        })\r\n        obtenerApartado()\r\n        setSelectEstado(detalleApartado.estado)\r\n        setLoading(true)\r\n    }, [detalleApartado])\r\n\r\n\r\n    const handleonChange = (e) => {\r\n        setSelectEstado(e)\r\n    }\r\n\r\n    const monstrarInformacionBlog = (e) => {\r\n        form.setFieldsValue(e);\r\n     }\r\n\r\n\r\n\r\n    const guardarEstadoApartado = async () => {\r\n        let data = {};\r\n        if(selectEstado === \"ENVIADO\"){\r\n            data = {\r\n                estado: selectEstado,\r\n                codigo_seguimiento: datosEnvio.codigo_seguimiento,\r\n                mensajeUser: datosEnvio.mensajeUser,\r\n                paqueteria: datosEnvio.paqueteria,\r\n                url: datosEnvio.url,\r\n            }\r\n        }else{\r\n            data = {\r\n                estado: selectEstado,\r\n            }\r\n        }\r\n\r\n        setLoading(true)\r\n        await clienteAxios.put(`/apartado/${detalleApartado._id}`,data,{\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            setEstado(true)\r\n            setLoading(false)\r\n            notification.success({\r\n                message: 'Hecho!',\r\n                description: res.data.message,\r\n                duration: 2\r\n            });\r\n            setVisible(false);\r\n        })\r\n        .catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <Spin size=\"large\" spinning={loading}>\r\n            <div className =\"detalle-apartado\">\r\n                <div>\r\n                    <Divider orientation=\"left\">Datos del cliente</Divider>\r\n                   {/*  <p className=\"h4 font-weight-bold mb-4\">Datos Usuario</p> */}\r\n                    <div className=\"row detalle-apartados\">\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Nombre: </h6>\r\n                            <p>{detalleApartado.cliente[0].nombre}</p>\r\n                            <h6 className=\"d-inline\">Teléfono: </h6>\r\n                            <p>{detalleApartado.cliente[0].telefono}</p>\r\n                            <h6 className=\"d-inline\">Calle: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].calle_numero}</p>}\r\n\r\n                        </div>\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Entre las calles: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].entre_calles}</p>}\r\n                            <h6 className=\"d-inline\">Código Postal: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].cp}</p>}\r\n                            <h6 className=\"d-inline\">Colonia: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].colonia}</p>}\r\n                        </div>\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Ciudad: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].ciudad}</p>}\r\n                            <h6 className=\"d-inline\">Estado: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].estado}</p>}\r\n                            <h6 className=\"d-inline\">País: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].pais}</p>}\r\n                        </div>\r\n                    </div>\r\n                    <Divider orientation=\"left\">Datos del producto</Divider>\r\n                    <div className=\"detalle-apartado__border m-2 mb-5\">\r\n                        {/* <p className=\"h4 font-weight-bold\">Datos producto</p> */}\r\n                        {detalleApartado.apartadoMultiple.length !== 0 ? (\r\n                            <div>\r\n                                <div className=\"row\">\r\n                                    {multiple}\r\n                                </div>\r\n                                <div className=\"mt-5\">\r\n                                    <h6 className=\"d-inline\" style={{fontSize: 24}}>Total:</h6>\r\n                                    <p className=\" data-info-pedidos\" style={{fontSize: 24}}>$ {formatoMexico(detalleApartado.total)}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                        ):(\r\n                        <div className=\"\">\r\n                            <div className=\"DetalleApartdado-imagen\">\r\n                                <img\r\n                                    className=\"img-fluid\"\r\n                                    width=\"200\"\r\n                                    alt=\"imagen de base\"\r\n                                    src={aws+detalleApartado.producto[0].imagen}\r\n                                />\r\n                            </div>\r\n                            <h6 className=\" m-2\">Nombre: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.producto[0].nombre}</p>\r\n                            <h6 className=\" m-2\">Código de barras: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.producto[0].codigo}</p>}\r\n                            <h6 className=\" m-2\">Categoría: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.producto[0].categoria}</p>}\r\n                            {promocion.length > 0 ? (\r\n                                <div className=\"\">\r\n                                    <h6 className=\"\">Precio:</h6>\r\n                                    <Text className=\"h4 color-precio-apartado\" delete >$ {formatoMexico(detalleApartado.producto[0].precio)}</Text> \r\n                                    <p className=\"h4\">$ {formatoMexico(promocion[0].precioPromocion)}</p>\r\n                                </div>\r\n                            ):(<p className=\" m-2\">$ {formatoMexico(detalleApartado.producto[0].precio)}</p>)}\r\n                                                        <div>\r\n                                {/* <Divider orientation=\"left\">Estatus del pedido</Divider> */}\r\n                                <h6 className=\" m-2\">{detalleApartado.producto[0].categoria === 'calzado' ? 'Numero a apartar:': detalleApartado.producto[0].categoria === 'ropa' ? 'Talla a apartar' : '' }</h6>\r\n                                    {detalleApartado.producto[0].categoria === 'calzado' ? (\r\n                                        <Badge className=\"m-2\">\r\n                                                <p \r\n                                                    className=\"detalle-contenido-talla m-2\"\r\n                                                style={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '40px', height: '56px' }}\r\n                                                >\r\n                                                    {detalleApartado.medida[0].numero}\r\n                                                </p>\r\n                                            </Badge>  \r\n                                    ): detalleApartado.producto[0].categoria === 'ropa' ? (\r\n                                        <Badge className=\"m-2\">\r\n                                            <p \r\n                                                className=\"detalle-contenido-talla m-2\"\r\n                                            style={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '40px', height: '56px' }}\r\n                                            >\r\n                                                {detalleApartado.medida[0].talla}\r\n                                            </p>\r\n                                        </Badge>\r\n                                    ) : '' }\r\n                            </div>\r\n                        </div>\r\n                        )}\r\n                    </div>\r\n                    <Divider>Estatus del pedido</Divider>\r\n                    <div className=\"m-2\">\r\n                        <div>\r\n                           {/*  <h6 className=\" m-2\">Cantidad de artículos por apartar: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.cantidad}</p> */}\r\n\r\n                            <h6 className=\" m-2\">Tipo de entrega:</h6>\r\n                            <Tag\r\n                                style={{size:\"50px\",marginBottom: 10}}\r\n                                color={detalleApartado.tipoEntrega === 'ENVIO' ?  '#5cb85c' : '#0275d8'}\r\n                            >\r\n                                {detalleApartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n                            </Tag>\r\n                            <p></p>\r\n\r\n                            <h6 className=\" m-2\">Actualiza el estado del pedido:</h6>\r\n                            <Form \r\n                                onFinish={guardarEstadoApartado}\r\n                                form={form}\r\n                            >\r\n                            <Form.Item>\r\n                                <Select value={selectEstado} placeholder=\"Seleciona una categoria\" onChange={handleonChange} style={{ width: 300 }}>\r\n                                    <Option value=\"PROCESANDO\">En proceso</Option>\r\n                                    {detalleApartado.tipoEntrega === \"ENVIO\" ? (\r\n                                        <>\r\n                                            <Option value=\"ENVIADO\">Enviado</Option>\r\n                                            <Option value=\"ENTREGADO\">Entregado</Option>\r\n                                            <Option value=\"CANCELADO\">Cancelado</Option>\r\n                                        </>\r\n\r\n                                    ):(\r\n                                        <>\r\n                                            <Option value=\"ACEPTADO\">Aceptado</Option>\r\n                                            <Option value=\"ENTREGADO\">Entregado</Option>\r\n                                            <Option value=\"RECHAZADO\">Rechazado</Option>\r\n                                        </>\r\n\r\n                                    )}\r\n\r\n                                </Select>\r\n                            </Form.Item>\r\n                            {selectEstado === 'ENVIADO' ? detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-lg-8\">\r\n                                        <h6>Mensaje:</h6>\r\n                                        <Form.Item  name=\"mensajeUser\">\r\n                                            <TextArea rows={4} name=\"mensajeUser\" onChange={e => setdatosEnvio({ ...datosEnvio, mensajeUser: e.target.value })} />\r\n                                        </Form.Item>\r\n                                        <h6>Paquetería:</h6>\r\n                                        <Form.Item  name=\"paqueteria\">\r\n                                            <Input   name=\"paqueteria\" placeholder=\"Paqueteria\" onChange={e => setdatosEnvio({ ...datosEnvio, paqueteria: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                        <h6>Url de vinculación:</h6>\r\n                                        <Form.Item  name=\"url\">\r\n                                            <Input   name=\"url\" placeholder=\"Url de vinculacion del paquete\" onChange={e => setdatosEnvio({ ...datosEnvio, url: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                        <h6>Número de seguimiento:</h6>\r\n                                        <Form.Item  name=\"codigo_seguimiento\">\r\n                                            <Input   name=\"codigo_seguimiento\" placeholder=\"Numero de seguimiento del paquete\" onChange={e => setdatosEnvio({ ...datosEnvio, codigo_seguimiento: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                    </div>\r\n                                </div>\r\n                            ) : \"\" : \"\" }\r\n                            <Form.Item wrapperCol={{offset: 10, span: 8}}>\r\n                                 <Button className=\"d-flex justify-content-center align-items-center\" type=\"primary\" htmlType=\"submit\" >\r\n                                    Guardar\r\n                                </Button>\r\n                            </Form.Item>\r\n                            </Form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n\r\nfunction ProductosMultiple({producto,info}){\r\n    return (\r\n        <div className=\"col-12 col-lg-4\">\r\n            <Link to={`/vista_producto/${producto._id}`}>\r\n            <Card\r\n                hoverable\r\n                style={{ width: 250 }}\r\n                cover={\r\n                    <div className=\"contenedor-imagen-detalle-apartado\">\r\n                        <img alt=\"example\" className=\"imagen-detalle-apartado\" src={aws + producto.imagen} />\r\n                    </div>\r\n                }\r\n            >\r\n                <Meta\r\n                    title={producto.nombre}\r\n                    description={\r\n                        <div className=\"row\">\r\n                            <h2 className=\"h5 precio-rebaja col-lg-12\">${formatoMexico(info.precio)}</h2>\r\n                            {info.medida ? info.medida.talla ? (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Talla: {info.medida.talla}</h2>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                            ) : (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Talla: {info.medida.numero}</h2>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                                \r\n                            ) : (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    }\r\n                />\r\n            </Card>\r\n        </Link>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Card, Col, Tag, Modal, notification } from 'antd';\r\nimport { ContainerOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\n\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst MostrarDatosMultipleTargeta = (props) => {\r\n    const { setDetalleApartado, showModal, apartado, setEstado, token } = props;\r\n    \r\n    const deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n    \r\n\treturn (\r\n            <Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={apartado._id}>\r\n                <Card\r\n                    className=\"shadow-sm card-body-apartados\"\r\n                    actions={[\r\n                        <div className=\"d-flex ml-3 justify-content-center align-items-center\">\r\n                            <ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n                            <p\r\n                                onClick={() => {\r\n                                    setDetalleApartado(apartado);\r\n                                    showModal();\r\n                                }}\r\n                                className=\"d-inline\"\r\n                            >\r\n                                Detalle del pedido\r\n                            </p>\r\n                        </div>,\r\n                        <div className=\"d-flex justify-content-center align-items-center text-danger\">\r\n                            <DeleteOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n                            <p\r\n                                onClick={() => {\r\n                                    deleteApartado(apartado._id);\r\n                                }}\r\n                                className=\"d-inline\"\r\n                            >\r\n                                Eliminar\r\n                            </p>\r\n                        </div>\r\n                    ]}\r\n                >\r\n                    <Meta\r\n                        className=\"contenedor-card-apartados\"\r\n                        description={\r\n                            <div className=\"\">\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Id apartado: </h6>\r\n                                    <p className=\"data-info-apartados\">{apartado._id}</p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Pedido el:</h6>\r\n                                    <p className=\"data-info-apartados\">{formatoFecha(apartado.createdAt)}</p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Cliente:</h6>\r\n                                    <p className=\"data-info-apartados\">\r\n                                        {`${apartado.cliente[0].nombre} ${apartado.cliente[0].apellido}`}{' '}\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Estado:</h6>\r\n                                    <Tag\r\n                                        className=\"data-info-apartados\"\r\n                                        color={\r\n                                            apartado.estado === 'ACEPTADO' ? (\r\n                                                '#0088ff'\r\n                                            ) : apartado.estado === 'PROCESANDO' ? (\r\n                                                '#ffc401'\r\n                                            ) : apartado.estado === 'ENVIADO' ? (\r\n                                                '#0088ff'\r\n                                            ) : apartado.estado === 'ENTREGADO' ? (\r\n                                                '#5cb85c'\r\n                                            ) : (\r\n                                                '#F75048'\r\n                                            )\r\n                                        }\r\n                                    >\r\n                                        {apartado.estado}\r\n                                    </Tag>\r\n                                </div>\r\n\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Tipo de entrega:</h6>\r\n                                    <Tag\r\n                                        className=\"data-info-apartados\"\r\n                                        color={apartado.tipoEntrega === 'ENVIO' ? '#5cb85c' : '#0275d8'}\r\n                                    >\r\n                                        {apartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n                                    </Tag>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Cantidad de artículos:</h6>\r\n                                    <p className=\"data-info-apartados\">{apartado.cantidad}</p>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    />\r\n                </Card>\r\n            </Col>\r\n\t);\r\n};\r\n\r\n\r\n\r\nexport default MostrarDatosMultipleTargeta;\r\n","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Spin, Result, Row, Modal, Input } from 'antd';\r\nimport queryString from 'query-string';\r\nimport MostrarDatosTargeta from './services/MostrarDatosTargeta';\r\nimport DetalleApartado from './services/DetalleApartado';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport './apartado.scss';\r\nimport MostrarDatosMultiple from './services/MostrarDatosMultiplesTarjeta';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction SistemaApartado(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ apartados, setApartados ] = useState([]);\r\n\tconst [ detalleApartado, setDetalleApartado ] = useState([]);\r\n\tconst [ apartadoPaginacion, setApartadoPaginacion ] = useState([]);\r\n\r\n\tconst [ filter, setFilter ] = useState('');\r\n\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ estado, setEstado ] = useState(false);\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction obtenerProductosFiltrados(filter) {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/apartado/filtroCliente/${filter}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetApartados(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerDatos = useCallback(\r\n\t\t(limit, page) => {\r\n\t\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/apartado/?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetApartados(res.data.posts.docs);\r\n\t\t\t\tsetApartadoPaginacion(res.data.posts);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t[token],\r\n\t)\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerDatos(24, page);\r\n\t\t\tsetLoading(true);\r\n\t\t\tsetEstado(false);\r\n\t\t},\r\n\t\t[ page, filter, estado, obtenerDatos ]\r\n\t);\r\n\r\n\tconst showModal = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\tSISTEMA DE CONTROL DE APARTADO\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tplaceholder=\"Buscar apartados\"\r\n\t\t\t\t\t\t\tonSearch={(value) => {\r\n\t\t\t\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\t\t\t\tobtenerDatos(10, page, filter);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tobtenerProductosFiltrados(value);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t{apartados.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Row gutter={16}>\r\n\t\t\t\t\t\t\t\t{apartados.map((apartado) => apartado.producto ? (\r\n\t\t\t\t\t\t\t\t\t<MostrarDatosMultiple \r\n\t\t\t\t\t\t\t\t\t\tkey={apartado._id}\r\n\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t):(\r\n\t\t\t\t\t\t\t\t\t<MostrarDatosTargeta\r\n\t\t\t\t\t\t\t\t\t\tkey={apartado._id}\r\n\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) )}\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tkey=\"detalle\"\r\n\t\t\t\t\twidth={800}\r\n\t\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\t\ttitle=\"Detalles de este pedido\"\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t\tfooter={[ '' ]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DetalleApartado\r\n\t\t\t\t\t\tdetalleApartado={detalleApartado}\r\n\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\tsetFilter={setFilter}\r\n\t\t\t\t\t\tsetVisible={setVisible}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Pagination blogs={apartadoPaginacion} location={location} history={history} limite={24} />\r\n\t\t\t</Spin>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(SistemaApartado);\r\n","import React, { useState } from 'react';\r\nimport { Button, notification, Upload } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport * as XLSX from 'xlsx';\r\nimport clienteAxios from '../config/axios';\r\n\r\nexport default function GetDataFromExcelJusTInput(props) {\r\n\tconst [ hojas, setHojas ] = useState([]);\r\n\tconst [ reload, setReload ] = props.reload;\r\n\r\n\tconst [ fileList, setFileList ] = useState([]);\r\n\tconst [ uploading, setUploading ] = useState(false);\r\n\r\n\tconst propsUlpload = {\r\n\t\tmultiple: false,\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tif (\r\n\t\t\t\tfile.type === 'application/vnd.ms-excel' ||\r\n\t\t\t\tfile.type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' ||\r\n\t\t\t\tfile.type === 'application/vnd.ms-excel.sheet.macroEnabled.12' \r\n\t\t\t) {\r\n\t\t\t\treturn false;\r\n\t\t\t}else {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Solo se admiten archivos csv',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tonChange({ file, fileList }) {\r\n\t\t\tsetFileList(fileList);\r\n\t\t\tlet hojas = [];\r\n\t\t\tif (!file.status ) {\r\n\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\treader.readAsArrayBuffer(file);\r\n\t\t\t\treader.onloadend = (e) => {\r\n\t\t\t\t\tvar data = new Uint8Array(e.target.result);\r\n\t\t\t\t\tvar workbook = XLSX.read(data, { type: 'array' });\r\n\r\n\t\t\t\t\tworkbook.SheetNames.forEach(function(sheetName) {\r\n\t\t\t\t\t\t// Here is your object\r\n\t\t\t\t\t\tvar XL_row_object = XLSX.utils.sheet_to_row_object_array(workbook.Sheets[sheetName]);\r\n\t\t\t\t\t\thojas.push({\r\n\t\t\t\t\t\t\tdata: XL_row_object,\r\n\t\t\t\t\t\t\tsheetName\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetHojas(hojas);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tfileList: fileList\r\n\t};\r\n\r\n\tconst enviarDatos = () => {\r\n\t\tsetUploading(true);\r\n\t\tconst token = localStorage.getItem('token');\r\n\t\tclienteAxios\r\n\t\t\t.put('/productos/inventario/excel/', hojas[0], {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t\tsetUploading(false);\r\n\t\t\t\tsetHojas([]);\r\n\t\t\t\tsetFileList([]);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Registros actualizados',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetUploading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'hubo un error al cargar el archivo',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"ml-2 mb-3 d-flex\">\r\n\t\t\t<Upload {...propsUlpload} className=\"d-inline-flex mx-3\">\r\n\t\t\t\t<Button size=\"large\" icon={<UploadOutlined />} disabled={fileList.length >= 1}>\r\n\t\t\t\t\tCargar csv\r\n\t\t\t\t</Button>\r\n\t\t\t</Upload>\r\n\t\t\t<Button\r\n\t\t\t\tclassName=\"d-inline-flex\"\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tonClick={enviarDatos}\r\n\t\t\t\tdisabled={fileList.length === 0}\r\n\t\t\t\tloading={uploading}\r\n\t\t\t>\r\n\t\t\t\t{uploading ? 'Cargando...' : 'Cargar archivo'}\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioOtros(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst {\r\n\t\tlocation,\r\n\t\thistory,\r\n\t\tproductos,\r\n\t\tproductosRender,\r\n\t\treload,\r\n\t\tsetReload,\r\n\t\tloading,\r\n\t\tsetLoading,\r\n\t\ttoken,\r\n\t\tlimite\r\n\t} = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idSeleccionado, setIdSeleccionado ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetIdSeleccionado(producto);\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdSeleccionado('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Código',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Cantidad',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: 'cantidad',\r\n\t\t\twidth: 100,\r\n\t\t\trender: (text) =>\r\n\t\t\t\ttext === null ? (\r\n\t\t\t\t\t<p>-</p>\r\n\t\t\t\t) : text === 0 ? (\r\n\t\t\t\t\t<Badge count={text} showZero />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Badge style={{ backgroundColor: '#52c41a' }} count={text} overflowCount={100000} />\r\n\t\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\twidth: 100,\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 230,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form key={producto._id} className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idSeleccionado ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\tid={producto._id}\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idSeleccionado ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idSeleccionado ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioOtros);\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioTallas(props) {\r\n\tconst { location, history, productos, productosRender, reload, setReload, loading, setLoading, token, limite } = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idTallaSeleccionada, setIdTallaSeleccionada ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\tconst [ talla, setTalla ] = useState([]);\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst obtenerTallas = (producto, talla) => {\r\n\t\tsetTalla(talla);\r\n\t\tsetIdTallaSeleccionada(producto);\r\n\t\tsetValidateStatus('warning');\r\n\t\tform.resetFields();\r\n\t\tsetCantidad(0);\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\tmedida: talla._id,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTalla([]);\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdTallaSeleccionada('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Código',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\twidth: 150,\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\twidth: 300,\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Talla y Cantidad',\r\n\t\t\tdataIndex: 'tallas',\r\n\t\t\tkey: 'tallas',\r\n\t\t\twidth: 500,\r\n\t\t\trender: (tallas, producto) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!tallas.length ? (\r\n\t\t\t\t\t\t<p className=\"h5\">-</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\ttallas.map((tallas) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge-inventario\"\r\n\t\t\t\t\t\t\t\t\tkey={tallas._id}\r\n\t\t\t\t\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\t\toverflowCount={100000}\r\n\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\ttallas.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#52c41a' }\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#FF4D4F' }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype={talla._id === tallas._id ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => obtenerTallas(producto._id, tallas)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 250,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idTallaSeleccionada ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioTallas);\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioNumeros(props) {\r\n\tconst {\r\n\t\tlocation,\r\n\t\thistory,\r\n\t\tproductos,\r\n\t\tproductosRender,\r\n\t\treload,\r\n\t\tsetReload,\r\n\t\tloading,\r\n\t\tsetLoading,\r\n\t\ttoken,\r\n\t\tlimite\r\n\t} = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idNumeroSeleccionada, setIdNumeroSeleccionada ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\tconst [ numero, setNumero ] = useState([]);\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst obtenerNumero = (producto, numero) => {\r\n\t\tsetNumero(numero);\r\n\t\tsetIdNumeroSeleccionada(producto);\r\n\t\tsetValidateStatus('warning');\r\n\t\tform.resetFields();\r\n\t\tsetCantidad(0);\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\tmedida: numero._id,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetNumero([]);\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdNumeroSeleccionada('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Código',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\twidth: 150,\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\twidth: 300,\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Número y Cantidad',\r\n\t\t\tdataIndex: 'numeros',\r\n\t\t\tkey: 'numeros',\r\n\t\t\twidth: 500,\r\n\t\t\trender: (numeros, producto) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!numeros.length ? (\r\n\t\t\t\t\t\t<p className=\"h5\">-</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tnumeros.map((numeros) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge-inventario\"\r\n\t\t\t\t\t\t\t\t\tkey={numeros._id}\r\n\t\t\t\t\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\t\toverflowCount={100000}\r\n\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\tnumeros.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#52c41a' }\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#FF4D4F' }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype={numero._id === numeros._id ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => obtenerNumero(producto._id, numeros)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 250,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idNumeroSeleccionada ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioNumeros);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Input, notification, Row, Tabs } from 'antd';\r\nimport './inventario.scss';\r\nimport queryString from 'query-string';\r\nimport GetDataFromExcelJusTInput from '../../../components/excel';\r\nimport InventarioOtros from './tablas_inventarios/inventario_otros';\r\nimport InventarioTallas from './tablas_inventarios/inventario_tallas';\r\nimport InventarioNumeros from './tablas_inventarios/inventario_numeros';\r\n\r\nconst { Search } = Input;\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Inventario(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst limite = 20;\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ categorias, setCategorias ] = useState([]);\r\n\t/* const [ tipoCategoria, setTipoCategoria ] = useState(''); */\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosRender, setProductosRender ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(true);\r\n\r\n\tconst tipoCategoria = props.match.params.tipoCategoria;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerCategorias();\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(tipoCategoria, limite, page);\r\n\t\t},\r\n\t\t[ page, reload, props ]\r\n\t);\r\n\r\n\t/* useEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(tipoCategoria, limite, page)\r\n\t\t},\r\n\t\t[ page, reload, props ]\r\n\t);\r\n */\r\n\tconst obtenerCategorias = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/tipoCategorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length !== 0) {\r\n\t\t\t\t\tsetCategorias(res.data);\r\n\t\t\t\t\t/* obtenerProductos(res.data[0]._id, limite, page);  */\r\n\r\n\t\t\t\t\t/* setTipoCategoria(res.data[0]._id); */\r\n\t\t\t\t\tprops.history.push(`/admin/inventario/${res.data[0]._id}`);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tobtenerProductos(tipoCategoria, limite, page);\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst otros = res.data.posts.filter((element) => element.tipoCategoria === tipoCategoria);\r\n\t\t\t\t\tsetProductosRender(otros);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (tipoCategoria, limit, page) => {\r\n\t\t/* setTipoCategoria(tipoCategoria); */\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter/individuales?tipoCategoria=${tipoCategoria}&limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosRender(res.data.posts.docs);\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction error(err) {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst tabs = categorias.map((categorias) => {\r\n\t\tif (categorias._id === 'Otros') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioOtros\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t} else if (categorias._id === 'Ropa') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario tallas\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioTallas\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t} else if (categorias._id === 'Calzado') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario calzado\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioNumeros\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn <div />;\r\n\t});\r\n\r\n\tconst searchBar = (\r\n\t\t<div className=\"row mw-100 search-container\">\r\n\t\t\t<Search\r\n\t\t\t\tclassName=\"col-lg-7 search-width px-0\"\r\n\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\tstyle={{ height: 40, marginBottom: 10, width: 400 }}\r\n\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t/>\r\n\t\t\t<div className=\"col-lg-5 pl-0 pr-4\">\r\n\t\t\t\t<GetDataFromExcelJusTInput reload={[ reload, setReload ]} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Row justify=\"center\" className=\"search-container-responsive\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\t\t\t\t<GetDataFromExcelJusTInput reload={[ reload, setReload ]} />\r\n\t\t\t</Row>\r\n\t\t\t<Tabs\r\n\t\t\t\ttabBarExtraContent={searchBar}\r\n\t\t\t\tonChange={(tipoCategoria) => {\r\n\t\t\t\t\t/* obtenerProductos(tipoCategoria, limite, page); */\r\n\t\t\t\t\tprops.history.push(`/admin/inventario/${tipoCategoria}`);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{tabs}\r\n\t\t\t</Tabs>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Inventario);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Button, Input, Space, notification, Modal, List, Avatar, Card, Result, Empty, Spin } from 'antd';\r\nimport { ExclamationCircleOutlined, RollbackOutlined, CloseOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport './sugerencia.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst Sugerencia = (props) => {\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(IdProductoContext);\r\n\t//states de obtener producto\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\t//states de obtener productos sugeridos de base, crear producto sugerido y para mapear el producto sugerido\r\n\tconst [ sugerencia, setSugerencia ] = useState([]);\r\n\tconst [ productoSugerido, setProductoSugerido ] = useState([]);\r\n\t//modal para crear un producto sugerido\r\n\tconst [ modalVisible, setModalVisible ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\t///state para saber si va a actualizar o registrar\r\n\tconst [ actualizar, setActualizar ] = useState(false);\r\n\r\n\t//infiniteScroll\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ loadingList, setLoadingList ] = useState(false);\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProducto();\r\n\t\t\tobtenerSugerencia();\r\n\t\t},\r\n\t\t[ productoContext ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTodosProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reloadData ]\r\n\t);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerTodosProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerTodosProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst obtenerProducto = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/sugerencia/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.sugerencias) {\r\n\t\t\t\t\tres.data.sugerencias.forEach((item) => setSugerencia(item.producto));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSugerencia('No hay sugerencia');\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tif (err.response.status === 404) {\r\n\t\t\t\t\t\tsetSugerencia('No hay sugerencia');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t///// CREAR, ACTUALIZAR Y ELIMINAR SUGERENCIAS DE LA BASE DE DATOS\r\n\tconst crearSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\tproducto: productoContext,\r\n\t\t\tsugerencias: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: productoSugerido\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/sugerencia/nueva/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t\tsetModalVisible(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\tproducto: productoContext,\r\n\t\t\tsugerencias: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: productoSugerido\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/sugerencia/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t\tsetModalVisible(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/sugerencia/${productoContext}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t///MODAL ALERTA ELIMINAR\r\n\tfunction showDeleteConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de eliminar esta sugerencia?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarSugerencia();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t/////MODAL\r\n\tconst showModal = (accion) => {\r\n\t\tif (accion === 'actualizar') {\r\n\t\t\tsetModalVisible(true);\r\n\t\t\tsetActualizar(true);\r\n\t\t} else {\r\n\t\t\tsetModalVisible(true);\r\n\t\t}\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetModalVisible(false);\r\n\t\tsetPage(1);\r\n\t\tsetHasMore(true);\r\n\t\tsetReloadData(true);\r\n\t\tsetProductoSugerido([]);\r\n\t};\r\n\r\n\tconst render = data.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tclassName={productoSugerido._id === productos._id ? 'list-item-sugerencia' : ''}\r\n\t\t\tkey={productos._id}\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetProductoSugerido(productos);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tAgregar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta avatar={<Avatar src={aws + productos.imagen} />} title={productos.nombre} />\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Modal\r\n\t\t\t\tclosable={false}\r\n\t\t\t\tstyle={{ top: 30 }}\r\n\t\t\t\ttitle=\"Sugerencias de producto\"\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tfooter={[\r\n\t\t\t\t\t<Button danger key=\"back\" onClick={handleCancel}>\r\n\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t<CloseOutlined className=\"mr-1\" />Cerrar\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Button>,\r\n\t\t\t\t\tactualizar === false ? (\r\n\t\t\t\t\t\t<Button key=\"crear\" type=\"primary\" onClick={crearSugerencia}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t<CheckOutlined className=\"mr-1\" />Crear\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Button key=\"actualizar\" type=\"primary\" onClick={actualizarSugerencia}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t<CheckOutlined className=\"mr-1\" />Actualizar\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t<p className=\"text-center my-3\">Elige un producto que quieres sugerir.</p>\r\n\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Spin className=\"spin-sugerencia-list\" size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-lista\">\r\n\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\tpageStart={0}\r\n\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<List className=\"m-1\">{render}</List>\r\n\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Spin>\r\n\t\t\t</Modal>\r\n\t\t\t<div>\r\n\t\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 18 }}>\r\n\t\t\t\t\t\t¡Que esperas, crea una sugerencia ahora mismo!.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\t\tCrea sugerencias de productos para tu tienda.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\t\t\tEstas sugerencias aparecerán en la vista del producto.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-3\">\r\n\t\t\t\t\t<Button onClick={showModal}>Crear sugerencia</Button>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-3\">\r\n\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tshowModal('actualizar');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEditar sugerencia\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={showDeleteConfirm}>Quitar sugerencia</Button>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"d-lg-flex d-sm-block justify-content-center align-items-center mt-4\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow card-contenedor\"\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-sugerencia\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta title={producto.nombre} />\r\n\t\t\t\t</Card>\r\n\t\t\t\t<div className=\"contenedor-span d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<span>+</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t\t<Empty description=\"No hay sugerencia\" />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tclassName=\"shadow card-contenedor\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-sugerencia\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto sugerido\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws + sugerencia.imagen}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Meta title={sugerencia.nombre} />\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default Sugerencia;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Row, Input, Button, Drawer, notification, Space, List, Result, Spin } from 'antd';\r\nimport { RollbackOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport jwt_decode from 'jwt-decode';\r\nimport Sugerencia from './services/sugerencia';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './sugerencias.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Sugerencias(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ visibleReload, setVisibleReload ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t}\r\n\tfunction drawnerOpen() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisibleReload('d-none');\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t} else {\r\n\t\t\tsetVisibleReload('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetVisibleReload('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center mt-3\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mt-3\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdrawnerOpen();\r\n\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tVer / Crear Sugerencia\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img className=\"imagen-promocion-principal\" alt=\"producto\" src={aws + productos.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">{productos.nombre}</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tPRODUCTOS SUGERIDOS\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn este apartado puedes agregar sugerencias de compra de otro producto a un producto\r\n\t\t\t</p>\r\n\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={visibleReload}\r\n\t\t\t\t\tonClick={() => obtenerProductos(20, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t{productos.length === 0 ? (\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<List>{render}</List>\r\n\t\t\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} limite={20} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle={'Sugerencias'}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<Button onClick={drawnerClose}>Cancelar</Button>\r\n\t\t\t\t\t\t\t{/* <Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t<Sugerencia drawnerClose={drawnerClose}/>\r\n\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t</Drawer>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Sugerencias);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, List, Avatar, Input, Space, Result, notification, Spin, Alert, Form } from 'antd';\r\nimport { UploadOutlined, PictureOutlined, RollbackOutlined } from '@ant-design/icons';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport './carousel.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst layout = {\r\n\tlabelCol: { span: 10 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nfunction CarouselImages(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ imagen, setImagen ] = useState();\r\n\tconst [ imagenPreview, setImagenPreview ] = useState('');\r\n\t//states de obtener producto y obtener todos los productos\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\t//modal para crear una imagen de carousel\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\t//infiniteScroll\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ loadingList, setLoadingList ] = useState(false);\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ nombreImagen, setNombreImagen ] = useState('');\r\n\r\n\tconst reload = props.reload;\r\n\r\n\tconst formData = new FormData();\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetProducto([]);\r\n\t\t\t\tsetImagenPreview('');\r\n\t\t\t}\r\n\t\t\tobtenerTodosProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reloadData, reload ]\r\n\t);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tclienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerTodosProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerTodosProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst antdProps = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tsetImagen(file);\r\n\t\t\tlet reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = function() {\r\n\t\t\t\tsetImagenPreview(reader.result);\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerNombreImagen = (e) => {\r\n\t\tsetNombreImagen(e.target.value);\r\n\t};\r\n\r\n\tconst crearCarousel = async () => {\r\n\t\tsetLoading(true);\r\n\t\tif (producto.length !== 0) {\r\n\t\t\tformData.append('producto', producto._id);\r\n\t\t\tformData.append('nombre', producto.nombre);\r\n\t\t\tformData.append('imagen', imagen);\r\n\t\t} else {\r\n\t\t\tformData.append('nombre', nombreImagen);\r\n\t\t\tformData.append('imagen', imagen);\r\n\t\t}\r\n\t\tif (producto.length === 0 && nombreImagen === '') {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: 'El nombre de la imagen no debe ir vacío',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetLoading(false);\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post('/carousel/nuevo/', formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t}, 1500);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst render = data.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName={producto._id === productos._id ? 'list-item-carousel' : ''}\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tSeleccionar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta avatar={<Avatar src={aws + productos.imagen} />} title={productos.nombre} />\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Puedes subir una imagen de carousel ya sea que esta tenga referencia a un producto o no. Si hace referencia a un producto selecciona uno de la lista, si no hace referencia, la imagen debe llevar un nombre.\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row d-sm-block d-lg-flex\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center my-3\">Elige un producto y después una imagen</p>\r\n\t\t\t\t\t<div className=\"row justify-content-center mt-1\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tclassName=\"search-width-modal\"\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Spin className=\"spin-sugerencia-list\" size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-lista\">\r\n\t\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\t\tpageStart={0}\r\n\t\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<List className=\"m-1\">{render}</List>\r\n\t\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t{!producto.nombre ? (\r\n\t\t\t\t\t\t<Form {...layout}>\r\n\t\t\t\t\t\t\t<Form.Item label=\"Nombre de la imagen\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"nombreImagen\"\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'El nombre de la imagen no puede ir vacío' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"nombre de la imagen\" onChange={(e) => obtenerNombreImagen(e)} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h5>{producto.nombre}</h5>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center my-4\">\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<Upload {...antdProps} className=\"upload-text-display\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" /* disabled={producto.length !== 0 ? false : true} */>\r\n\t\t\t\t\t\t\t\t\t<UploadOutlined />Subir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcrearCarousel();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdisabled={imagenPreview !== '' ? false : true}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCrear\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1650x565px\" type=\"info\" showIcon />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"shadow imagen-preview-carousel d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{imagenPreview === '' ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen\"\r\n\t\t\t\t\t\t\t\tsrc={imagenPreview}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default CarouselImages;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Button, Input, Space, Modal, List, Row, Upload, Result, notification, Spin, Alert } from 'antd';\r\nimport {\r\n\tEyeOutlined,\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tPlusCircleOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport CarouselImages from './services/carousel';\r\nimport './carousel.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\n\r\nfunction Carousel(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t/* const [ productoCarousel, setProductoCarousel ] = useState([]); */\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ search, setSearch ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\r\n\tconst [ modalVisible, setModalVisible ] = useState(false);\r\n\tconst [ modalCrearVisible, setModalCrearVisible ] = useState(false);\r\n\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCarouseles();\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetProductosFiltrados(\r\n\t\t\t\tproductos.filter((producto) => {\r\n\t\t\t\t\tif (producto.nombre) {\r\n\t\t\t\t\t\treturn producto.nombre.toLowerCase().includes(search.toLowerCase());\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn producto;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ search, productos ]\r\n\t);\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerCarouseles = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carousel/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\t/* res.data.forEach((item) => {\r\n\t\t\t\t\tif(item.producto){\r\n\t\t\t\t\t\tsetProductoCarousel(item.producto)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsetProductoCarousel('')\r\n\t\t\t\t\t}\r\n\t\t\t\t}); */\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ACTUALIZAR IMAGEN\r\n\tconst propsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait actualizarImagen(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst actualizarImagen = async (formdata) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/carousel/${producto}/`, formdata, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerCarouseles();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ELIMINAR IMAGEN\r\n\tconst eliminarImagen = async (carouselID) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/carousel/${carouselID}/`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerCarouseles();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst showModal = () => {\r\n\t\tsetModalVisible(true);\r\n\t};\r\n\tconst closeModal = () => {\r\n\t\tsetModalVisible(false);\r\n\t};\r\n\r\n\tfunction closeModalCrear() {\r\n\t\tsetModalCrearVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\tfunction showModalCrear() {\r\n\t\tsetModalCrearVisible(true);\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(carouselID) {\r\n\t\tconfirm({\r\n\t\t\ttitle: '¿Quieres eliminarla?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarImagen(carouselID);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst render = productosFiltrados.map((carousel) => (\r\n\t\t<List.Item\r\n\t\t\tkey={carousel._id}\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetProducto(carousel);\r\n\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EyeOutlined />\r\n\t\t\t\t\t\tVer\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Upload {...propsActualizar} className=\"upload-text-display d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetProducto(carousel._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDeleteConfirm(carousel._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img className=\"imagen-promocion-principal\" alt=\"producto\" src={aws + carousel.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\t{carousel.nombre ? carousel.nombre : 'imagen sin nombre'}\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tBanner principal\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn esta sección puedes subir una imagen al banner en la pagina principal.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1710x330px\" type=\"info\" showIcon />\r\n\t\t\t</div>\r\n\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showModalCrear}\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tNueva imagen de publicidad\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t{productosFiltrados.length === 0 ? (\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<List>{render}</List>\r\n\t\t\t)}\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={producto.nombre ? producto.nombre : 'Imagen sin nombre'}\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tonCancel={closeModal}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\twidth={1200}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\t\t\t\t\t\talt=\"imagen-promocion-modal\"\r\n\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Crear nueva imagen publicitaria para el Carousel\"\r\n\t\t\t\tvisible={modalCrearVisible}\r\n\t\t\t\tonCancel={closeModalCrear}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\tcentered\r\n\t\t\t\twidth={800}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<CarouselImages reload={reload} />\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Carousel);\r\n","import React, { useState } from 'react';\r\nimport { Button, Spin, Collapse, notification } from 'antd';\r\nimport { PlusCircleOutlined } from '@ant-design/icons';\r\n\r\nimport ImagenEstilo1 from '../imagenes/estilo1.png';\r\nimport ImagenEstilo3 from '../imagenes/estilo3.png';\r\nimport ImagenEstilo5 from '../imagenes/estilo5.png';\r\nimport ImagenEstilo6 from '../imagenes/estilo6.png';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst { Panel } = Collapse;\r\n\r\nfunction RegistroTipoBanner(props) {\r\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst crearBannerBD = async (estilo) => {\r\n\t\tsetLoadingBackDrop(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/banner/`,\r\n\t\t\t\t{ estilo, publicado: false },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingBackDrop(false);\r\n\t\t\t\tprops.history.push(`/admin/banner/nuevo/${res.data.userStored._id}`);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingBackDrop(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Collapse ghost>\r\n\t\t\t\t<Panel\r\n\t\t\t\t\tshowArrow={false}\r\n\t\t\t\t\theader={\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tNueva sección\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tkey=\"1\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Spin size=\"large\" spinning={loadingBackDrop}>\r\n\t\t\t\t\t\t<div className=\"row d-flex justify-content-around shadow\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"my-3 shadow rounded d-flex justify-content-center align-items-center estilo-hover\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => crearBannerBD(1)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"estilo 1\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={ImagenEstilo1}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilos\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"250\"\r\n\t\t\t\t\t\t\t\t\t\theight=\"200\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"my-3 shadow rounded d-flex justify-content-center align-items-center estilo-hover\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => crearBannerBD(2)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"estilo 2\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={ImagenEstilo3}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilos\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"250\"\r\n\t\t\t\t\t\t\t\t\t\theight=\"200\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"my-3 shadow rounded d-flex justify-content-center align-items-center estilo-hover\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => crearBannerBD(3)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"estilo 3\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={ImagenEstilo5}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilos\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"250\"\r\n\t\t\t\t\t\t\t\t\t\theight=\"200\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"my-3 shadow rounded d-flex justify-content-center align-items-center estilo-hover\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => crearBannerBD(4)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"estilo 4\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={ImagenEstilo6}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilos\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"250\"\r\n\t\t\t\t\t\t\t\t\t\theight=\"200\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Spin>\r\n\t\t\t\t</Panel>\r\n\t\t\t</Collapse>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(RegistroTipoBanner);\r\n","import React, { useState, useEffect, Fragment, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Button, Modal, notification, Spin, message, Collapse } from 'antd';\r\nimport {\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tExclamationCircleOutlined,\r\n\tCheckSquareOutlined,\r\n\tCloseSquareOutlined,\r\n\tPictureOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport RegistroTipoBanner from './services/tipoBanner';\r\nimport aws from '../../../config/aws';\r\nimport './publicidad.scss';\r\n\r\nimport ImagenEstilo1 from './imagenes/estilo1.png';\r\nimport ImagenEstilo2 from './imagenes/estilo2.png';\r\nimport ImagenEstilo3 from './imagenes/estilo3.png';\r\nimport ImagenEstilo4 from './imagenes/estilo4.png';\r\nimport ImagenEstilo5 from './imagenes/estilo5.png';\r\nimport ImagenEstilo6 from './imagenes/estilo6.png';\r\nimport ImagenEspecial1 from './imagenes/especial1.png';\r\nimport ImagenEspecial2 from './imagenes/especial2.png';\r\nimport ImagenEspecial3 from './imagenes/especial3.png';\r\nimport { BannerContext } from '../../../context/admincontext';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default function Publicidad(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tconst [ bannerBD, setBannerBD ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ bannerSeleccionado, setBannerSeleccionado ] = useState({ banner: '', banners: '' });\r\n\tconst { reload, setReload, setActualizarDatos } = useContext(BannerContext);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerBannersBD();\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerBannersBD = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/banner/admin', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetBannerBD(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ELIMINAR BANNER\r\n\tconst eliminarBanner = async (banner) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/banner/${banner}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(banner) {\r\n\t\tconfirm({\r\n\t\t\ttitle: '¿Quieres eliminar este banner?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBanner(banner);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst errors = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderBanners = bannerBD.map((banner, index) => (\r\n\t\t<CollapseBanners\r\n\t\t\tkey={index}\r\n\t\t\tprops={props}\r\n\t\t\tbanner={banner}\r\n\t\t\tshowDeleteConfirm={showDeleteConfirm}\r\n\t\t\ttoken={token}\r\n\t\t\terrors={errors}\r\n\t\t\treload={reload}\r\n\t\t\tsetReload={setReload}\r\n\t\t\tsetActualizarDatos={setActualizarDatos}\r\n\t\t/>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tPublicidad\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn este apartado puedes subir una sección completa con un banner y los productos de una categoria en\r\n\t\t\t\tespecial en la pagina principal.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t<RegistroTipoBanner\r\n\t\t\t\t\treload={reload}\r\n\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\tbannerSeleccionado={bannerSeleccionado}\r\n\t\t\t\t\tsetBannerSeleccionado={setBannerSeleccionado}\r\n\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\tsetControl={setControl}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t{renderBanners}\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction CollapseBanners({ props, banner, showDeleteConfirm, token, errors, reload, setReload }) {\r\n\t//PUBLICAR BANNER\r\n\tconst publicarBanner = async (banner, publicado) => {\r\n\t\tif (banner.estilo === 3 && banner.banners.length < 2) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else if (banner.estilo === 4 && banner.banners.length < 3) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else if (banner.banners.length === 0) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.put(\r\n\t\t\t\t`/banner/publicar/${banner._id}`,\r\n\t\t\t\t{ publicado },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\tlet imagen;\r\n\r\n\tswitch (banner.estilo) {\r\n\t\tcase 1:\r\n\t\t\timagen = ImagenEstilo1;\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tif (banner.banners.length !== 0 && banner.banners[0].orientacion && banner.banners[0].orientacion === 1) {\r\n\t\t\t\timagen = ImagenEstilo4;\r\n\t\t\t} else if (\r\n\t\t\t\tbanner.banners.length !== 0 &&\r\n\t\t\t\tbanner.banners[0].orientacion &&\r\n\t\t\t\tbanner.banners[0].orientacion === 2\r\n\t\t\t) {\r\n\t\t\t\timagen = ImagenEstilo3;\r\n\t\t\t} else if (\r\n\t\t\t\tbanner.banners.length !== 0 &&\r\n\t\t\t\tbanner.banners[0].orientacion &&\r\n\t\t\t\tbanner.banners[0].orientacion === 3\r\n\t\t\t) {\r\n\t\t\t\timagen = ImagenEstilo2;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 3:\r\n\t\t\timagen = ImagenEstilo5;\r\n\t\t\tbreak;\r\n\t\tcase 4:\r\n\t\t\timagen = ImagenEstilo6;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\t/* simular imagenes */\r\n\tvar elementos = [];\r\n\tfor (let i = 0; i < banner.estilo - 1; i++) {\r\n\t\tlet array = [];\r\n\t\tarray.push(i);\r\n\t\telementos.push(array);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"my-3 shadow-sm border\">\r\n\t\t\t<div className=\"d-flex align-items-center banner-container\">\r\n\t\t\t\t<div className=\"estilo-imagen\">\r\n\t\t\t\t\t<img className=\"mr-3 imagen-promocion-principal\" alt=\"producto\" src={imagen} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<h5 className=\" img-publicidad\">\r\n\t\t\t\t\t<b>\r\n\t\t\t\t\t\t{banner.estilo === 1 ? (\r\n\t\t\t\t\t\t\t'Banner grande con productos'\r\n\t\t\t\t\t\t) : banner.estilo === 2 ? (\r\n\t\t\t\t\t\t\t'Banner entre productos'\r\n\t\t\t\t\t\t) : banner.estilo === 3 ? (\r\n\t\t\t\t\t\t\t'2 banner sin productos'\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'3 banners sin productos'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</b>\r\n\t\t\t\t</h5>\r\n\t\t\t\t<div className=\"grow\" />\r\n\t\t\t\t<Button\r\n\t\t\t\t\tghost\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"mx-2\"\r\n\t\t\t\t\tonClick={() => props.history.push(`/admin/banner/editar/${banner._id}`)}\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tghost\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"mx-2\"\r\n\t\t\t\t\tonClick={() => publicarBanner(banner, !banner.publicado)}\r\n\t\t\t\t\tstyle={banner.publicado ? { color: '#5cb85c', borderColor: '#5cb85c' } : null}\r\n\t\t\t\t>\r\n\t\t\t\t\t{banner.publicado ? 'Publicado' : 'Publicar'}\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tghost\r\n\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"mr-2\"\r\n\t\t\t\t\tonClick={() => showDeleteConfirm(banner._id)}\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t{banner.banners.length === 0 && banner.estilo > 2 ? (\r\n\t\t\t\t\telementos.map((res, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} className=\"\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\tindex + 1 === 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial1\r\n\t\t\t\t\t\t\t\t\t\t\t) : index + 1 === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial2\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial3\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : null}\r\n\t\t\t\t{banner.banners.map((res, index, array) => {\r\n\t\t\t\t\tif (banner.estilo === 3) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} className=\"mx-5 d-flex\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{res.imagenBanner ? (\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + res.imagenBanner}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 90 }} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{array.length === 1 ? (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial2}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else if (banner.estilo === 4) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} className=\"mx-5 d-flex\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{res.imagenBanner ? (\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + res.imagenBanner}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 90 }} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{array.length === 1 ? (\r\n\t\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial2}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial3}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t{array.length === 2 && index > 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial3}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"d-lg-flex\" key={res._id}>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300, height: 200 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{res.imagenBanner ? (\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"example\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + res.imagenBanner}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 90 }} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"ml-2 mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.tipo ? res.tipo.categoria ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Categoria: '\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : res.tipo.temporada ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Temporada: '\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Género'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.tipo ? res.tipo.categoria ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tres.tipo.categoria\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : res.tipo.temporada ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tres.tipo.temporada\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : res.tipo.genero ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tres.tipo.genero\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'sin categoria/temporada'\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.vincular ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckSquareOutlined style={{ color: '#5cb85c' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CloseSquareOutlined style={{ color: '#d9534f' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.vincular ? 'Vinculado' : 'No vinculado'}\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.mostrarTitulo ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckSquareOutlined style={{ color: '#5cb85c' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CloseSquareOutlined style={{ color: '#d9534f' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.mostrarTitulo ? 'Muestra titulo' : 'No muestra titulo'}\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.mostrarProductos ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckSquareOutlined style={{ color: '#5cb85c' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CloseSquareOutlined style={{ color: '#d9534f' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.mostrarProductos ? 'Muestra productos' : 'No muestra productos'}\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { List, Button, Modal, notification, Avatar } from 'antd';\r\nimport { EyeOutlined, EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport './blogList.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default function blogList(props) {\r\n\tconst { blogs, setReloadBlog, showDrawer, setAccion, setInfoBlog } = props;\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst deleteBlog = (blog) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Blog',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el blog ${blog.nombre}?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.delete(`/blog/${blog._id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'aplication/json',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Blog Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"blogs-list\">\r\n\t\t\t<List\r\n\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\tdataSource={blogs.docs}\r\n\t\t\t\trenderItem={(blog) => (\r\n\t\t\t\t\t<Blog\r\n\t\t\t\t\t\tblog={blog}\r\n\t\t\t\t\t\tdeleteBlog={deleteBlog}\r\n\t\t\t\t\t\tshowDrawer={showDrawer}\r\n\t\t\t\t\t\tsetAccion={setAccion}\r\n\t\t\t\t\t\tsetInfoBlog={setInfoBlog}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Blog(props) {\r\n\tconst { blog, deleteBlog, showDrawer, setAccion, setInfoBlog } = props;\r\n\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tactions={[\r\n\t\t\t\t<Link to={`/blog/${blog.url}`} target=\"_blank\">\r\n\t\t\t\t\t<Button type=\"dashed\" size={window.screen.width > 768 ? 'middle' : 'small'}>\r\n\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Link>,\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetInfoBlog(blog);\r\n\t\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\t\tshowDrawer();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditOutlined /> Editar\r\n\t\t\t\t</Button>,\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\tdanger\r\n\t\t\t\t\tonClick={() => deleteBlog(blog)}\r\n\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DeleteOutlined /> Eliminar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={<Avatar src={aws + blog.imagen} />}\r\n\t\t\t\ttitle={<p className=\"h5 font-weight-bold\">{blog.nombre}</p>}\r\n\t\t\t\tdescription={<p className=\"h6\">{blog.administrador}</p>}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import {createContext} from 'react';\r\n\r\nexport const BlogContext = createContext();","import React, { useContext, useState, useEffect } from 'react';\r\nimport { BlogContext } from '../../contexts/BlogContext';\r\nimport { Form, Input, Button, notification, Upload, Alert } from 'antd';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport aws from '../../../../config/aws';\r\n\r\nexport default function ActualizarBlog(props) {\r\n\tconst { setReloadBlog, token, setVisible } = props;\r\n\r\n\tconst blogContext = useContext(BlogContext);\r\n\tconst [ form ] = Form.useForm();\r\n\tvar urlGuion = '';\r\n\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\t///capturar datos maualmente}\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnombre: blogContext.nombre,\r\n\t\tadministrador: blogContext.administrador,\r\n\t\turl: blogContext.url,\r\n\t\tdescripcion: blogContext.descripcion\r\n\t});\r\n\r\n\tconst monstrarInformacionBlog = () => {\r\n\t\tform.setFieldsValue({\r\n\t\t\tnombre: blogContext.nombre,\r\n\t\t\tadministrador: blogContext.administrador,\r\n\t\t\turl: blogContext.url,\r\n\t\t\tdescripcion: blogContext.descripcion\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tmonstrarInformacionBlog();\r\n\t\t},\r\n\t\t[ blogContext ]\r\n\t);\r\n\r\n\t//Layout para formulario(columnas)\r\n\tconst layout = {\r\n\t\tlabelCol: { span: 6 },\r\n\t\twrapperCol: { span: 16 }\r\n\t};\r\n\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction obtenerUrl(text) {\r\n\t\tconst trim = text.trim();\r\n\t\tconst datos = trim.split(' ');\r\n\t\tfor (var i = 0; i < datos.length; i++) {\r\n\t\t\tif (datos.length - 1 === i) {\r\n\t\t\t\turlGuion += datos[i];\r\n\t\t\t} else {\r\n\t\t\t\turlGuion += datos[i] + '-';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn urlGuion;\r\n\t\t/* setUrl(urlSinGion); */\r\n\t}\r\n\r\n\tconst enviarDatos = async () => {\r\n\t\tif (datos.nombre === '' || datos.administrador === '' || datos.url === '' || datos.descripcion === '') {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'Todos los datos son obligatorios'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!accion) {\r\n\t\t\t\tobtenerUrl(datos.url);\r\n\t\t\t} else {\r\n\t\t\t\turlGuion = blogContext.url;\r\n\t\t\t}\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tif (files.length === 0) {\r\n\t\t\t\tformData.append('nombre', datos.nombre);\r\n\t\t\t\tformData.append('administrador', datos.administrador);\r\n\t\t\t\tformData.append('url', urlGuion);\r\n\t\t\t\tformData.append('descripcion', datos.descripcion);\r\n\t\t\t} else {\r\n\t\t\t\tformData.append('nombre', datos.nombre);\r\n\t\t\t\tformData.append('administrador', datos.administrador);\r\n\t\t\t\tformData.append('url', urlGuion);\r\n\t\t\t\tformData.append('descripcion', datos.descripcion);\r\n\t\t\t\tformData.append('imagen', files);\r\n\t\t\t}\r\n\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/blog/${blogContext._id}`, formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t Authorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Actualización exitosa',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerValores = (e) => {\r\n\t\tif (e.target.name === 'url') {\r\n\t\t\tsetAccion(false);\r\n\t\t}\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst capturarInfoEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, descripcion: content });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"formulario-blog\">\r\n\t\t\t<Form name=\"nest-messages\" {...layout} form={form} onFinish={enviarDatos}>\r\n\t\t\t\t<Form.Item label=\"Titulo del blog:\" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Titulo del Blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Autor: \" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"administrador\">\r\n\t\t\t\t\t\t<Input name=\"administrador\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Url (Campo unico) \" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"url\">\r\n\t\t\t\t\t\t<Input name=\"url\" placeholder=\"Url del blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item name=\"descripcion\" label=\"Contenido del blog\">\r\n\t\t\t\t\t<Editor\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonEditorChange={capturarInfoEditor}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert message=\"No hay un tamaño recomendado para esta imagen\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form.Item label=\"Imagen principal del Blog:\">\r\n\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Imagen Actual\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\tsrc={aws + blogContext.imagen}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Form, Input, Button, notification, Upload, message, Alert } from 'antd';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { UploadOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nexport default function RegistrarBlog(props) {\r\n\tconst { setReloadBlog, token, setVisible } = props;\r\n\r\n\t//Variablo que trae la informacion del post\r\n\tconst [ blogData, setBlogData ] = useState({});\r\n\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\r\n\tvar urlGuion = '';\r\n\r\n\t//Layout para formulario(columnas)\r\n\tconst layout = {\r\n\t\tlabelCol: { span: 6 },\r\n\t\twrapperCol: { span: 16 }\r\n\t};\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.forEach((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst processPost = async (e) => {\r\n\t\tif (blogData.descripcion === undefined) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'La descripcion del blog es obligatoria'\r\n\t\t\t});\r\n\t\t} else if (files.length === 0) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'La imagen es obligatoria'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!accion) {\r\n\t\t\t\tobtenerUrl(blogData.url);\r\n\t\t\t}\r\n\t\t\tconst hide = message.loading('Accion en proceso....', 0);\r\n\t\t\tsetTimeout(hide, 2000);\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('nombre', blogData.nombre);\r\n\t\t\tformData.append('administrador', blogData.administrador);\r\n\t\t\tformData.append('url', urlGuion);\r\n\t\t\tformData.append('descripcion', blogData.descripcion);\r\n\t\t\tformData.append('imagen', files);\r\n\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post('/blog/', formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Registro exitoso',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\t//Funcion que quita los espacios y los remplasa por guiones\r\n\tfunction obtenerUrl(text) {\r\n\t\tconst trim = text.trim();\r\n\t\tconst datos = trim.split(' ');\r\n\t\tfor (var i = 0; i < datos.length; i++) {\r\n\t\t\tif (datos.length - 1 === i) {\r\n\t\t\t\turlGuion += datos[i];\r\n\t\t\t} else {\r\n\t\t\t\turlGuion += datos[i] + '-';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn urlGuion;\r\n\t}\r\n\r\n\t//Funcion que captura la imagen seleccionada por el usuario\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\t//Funcion que escucha la variable que trae la informacion del blog\r\n\r\n\tconst capturarInfoEditor = (content, editor) => {\r\n\t\tsetBlogData({ ...blogData, descripcion: content });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"formulario-blog\">\r\n\t\t\t<Form name=\"nest-messages\" {...layout} onFinish={processPost} onFinishFailed={onError}>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Crea un título llamativo: \"\r\n\t\t\t\t\tonChange={(e) => setBlogData({ ...blogData, nombre: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Titulo obligatorio' } ]} noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input value={blogData.nombre} name=\"nombre\" placeholder=\"Titulo del Blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Autor: \"\r\n\t\t\t\t\tonChange={(e) => setBlogData({ ...blogData, administrador: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Autor obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"administrador\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"administrador\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Url (Campo unico) \"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tsetAccion(false);\r\n\t\t\t\t\t\tsetBlogData({ ...blogData, url: e.target.value });\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'La url es obligatoria' } ]} noStyle name=\"url\">\r\n\t\t\t\t\t\t<Input name=\"url\" placeholder=\"Url del blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item name=\"descripcion\" label=\"Contenido del blog\">\r\n\t\t\t\t\t<Editor\r\n\t\t\t\t\t\tvalue={blogData.descripcion ? blogData.descripcion : ''}\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonEditorChange={capturarInfoEditor}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert message=\"No hay un tamaño recomendado para esta imagen\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form.Item label=\"Imagen principal del Blog:\">\r\n\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" size=\"large\" icon={<CheckOutlined />}>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, {useState,useEffect } from 'react';\r\nimport {Button,notification,Drawer} from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport {PlusCircleOutlined } from '@ant-design/icons';\r\nimport './blog.scss';\r\nimport queryString from 'query-string';\r\nimport clienteAxios from '../../../config/axios';\r\nimport Spin from '../../../components/Spin';\r\nimport BlogsList from './services/blogList';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport { BlogContext } from '../contexts/BlogContext';\r\nimport ActualizarBlog from './services/ActualizarBlog';\r\nimport RegistrarBlog from './services/RegistrarBlog';\r\n\r\n\r\n\r\n\r\nfunction BlogAdmin(props) {\r\n\r\n    //Tomar la paginacion actual\r\n    const {location,history} = props;\r\n    const {page = 1} = queryString.parse(location.search);\r\n    \r\n    //Uses\r\n    const [ accion, setAccion ] = useState(false);\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [blogs,setBlogs] = useState([]);\r\n    const [reloadBlog, setReloadBlog] = useState(false);\r\n\r\n    const [infoBlog,setInfoBlog] = useState({});\r\n    \r\n\r\n    //Obtener token de localStorage\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n    \r\n    //Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n            return jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n    }\r\n\r\n    //Traer todos los blogs\r\n    function getBlogsApi(limit,page){\r\n        setLoading(true);\r\n        clienteAxios.get(`/blog?limit=${limit}&page=${page}`)\r\n        .then((res) => {\r\n                setBlogs(res.data.posts);\r\n                setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        });\r\n    }\r\n    //Ejecutar funcion traer blogs\r\n    useEffect(() => {\r\n        getBlogsApi(20,page);\r\n        setReloadBlog(false);\r\n\t}, [page,reloadBlog]);\r\n\r\n    //Verificar el JWT\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n    \r\n    //Fuciones para abrir y cerrar el Drawer\r\n    const showDrawer = () => {\r\n      setVisible(true);\r\n    };\r\n    const drawnerClose = () => {\r\n        setVisible(false);\r\n        setInfoBlog({});\r\n      };\r\n\r\n    //Mostrar el Spin\r\n    if (loading) {\r\n        return <Spin/>;\r\n    }\r\n    \r\n    if(!blogs){\r\n        return null;\r\n    }\r\n\r\n    return (\r\n            <div className=\"blog\">\r\n                <Drawer\r\n                    title={accion === true ? 'Actualizar Blog' : 'Registra nuevo Blog'}\r\n                    width={window.screen.width > 768 ? 1000 : window.screen.width}\r\n                    placement={'right'}\r\n                    onClose={drawnerClose}\r\n                    visible={visible}\r\n                    bodyStyle={{ paddingBottom: 80 }}\r\n                    footer={\r\n                        <div\r\n                            style={{\r\n                                textAlign: 'right'\r\n                            }}\r\n                        >\r\n                            <Button onClick={drawnerClose} type=\"primary\">\r\n                                Cerrar\r\n                            </Button>\r\n                        </div>\r\n                    }\r\n                >\r\n                    { accion === true ? (\r\n                        <BlogContext.Provider value={infoBlog}>\r\n                            <ActualizarBlog setReloadBlog={setReloadBlog} setLoading={setLoading} token={token} setVisible={setVisible}  />\r\n                        </BlogContext.Provider>\r\n                        \r\n                    ):(\r\n\r\n                            <RegistrarBlog setReloadBlog={setReloadBlog} setLoading={setLoading} token={token} setVisible={setVisible} />\r\n\r\n                    )}\r\n                </Drawer>\r\n                \r\n                <div className=\"blog__add-post\">\r\n                <p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n                    Tus blogs\r\n                </p>\r\n                    <Button \r\n                        type=\"primary\"\r\n                        size=\"large\"\r\n                        onClick={() => {\r\n                            setAccion(false);\r\n                            showDrawer()\r\n                            setInfoBlog({});\r\n                        }}\r\n                        className=\"ml-3\"\r\n                        icon={<PlusCircleOutlined style={{ fontSize: 24 }} />}>\r\n                            Crear Blog\r\n                    </Button>\r\n                </div>\r\n\r\n                <BlogsList \r\n                    blogs={blogs} \r\n                    setReloadBlog={setReloadBlog} \r\n                    showDrawer={showDrawer} \r\n                    setAccion={setAccion} \r\n                    setInfoBlog={setInfoBlog} \r\n                />\r\n\r\n                <Pagination \r\n                    blogs={blogs} \r\n                    location={location}  \r\n                    history={history}\r\n                    limite={20}\r\n                />\r\n            </div>\r\n    )\r\n}\r\nexport default withRouter(BlogAdmin);","import React, { useState, useEffect, Fragment } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport { Row, Button } from 'antd';\r\n\r\nimport ReactExport from 'react-export-excel'; //LIBRERIA EXCEL\r\nimport { withRouter } from 'react-router-dom';\r\nconst ExcelFile = ReactExport.ExcelFile; //ARCHIVO DE EXCEL\r\nconst ExcelSheet = ReactExport.ExcelSheet; //HOJA DE EXCEL\r\nconst ExcelColumn = ReactExport.ExcelColumn; //COLUMNA DE EXCEL\r\n\r\nfunction ConsutaExcel(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tconst [ consulta, setConsulta ] = useState([]);\r\n\t//const [data, setData] = useState([]);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tconst obtenerConsulta = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/todos/`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetConsulta(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerConsulta();\r\n\t}, []);\r\n\r\n\tconst datos = consulta.map((datos) => {\r\n\t\tconst clientes = {};\r\n\r\n\t\tclientes.nombre = `${datos.nombre} ${datos.apellido}`;\r\n\t\tclientes.telefono = datos.telefono;\r\n\t\tclientes.email = datos.email;\r\n\r\n\t\tif (datos.direccion.length === 0) {\r\n\t\t\tclientes.direccion = '';\r\n\t\t\tclientes.ciudad = '';\r\n\t\t} else {\r\n\t\t\tclientes.direccion = `${datos.direccion[0].calle_numero} ${datos.direccion[0].colonia}`;\r\n\t\t\tclientes.ciudad = `${datos.direccion[0].ciudad}, ${datos.direccion[0].estado}, ${datos.direccion[0].pais}`;\r\n\t\t}\r\n\r\n\t\treturn clientes;\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<ExcelFile\r\n\t\t\t\t\telement={\r\n\t\t\t\t\t\t<Button size=\"large\" type=\"primary\">\r\n\t\t\t\t\t\t\tDescargar datos de clientes\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfilename=\"Datos Clientes\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExcelSheet data={datos} name=\"Datos de clientes\">\r\n\t\t\t\t\t\t<ExcelColumn label=\"Nombre\" value=\"nombre\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"Telefonos\" value=\"telefono\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"E-mail\" value=\"email\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"Domicilio\" value=\"direccion\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"Ciudad\" value=\"ciudad\" />\r\n\t\t\t\t\t</ExcelSheet>\r\n\t\t\t\t</ExcelFile>\r\n\t\t\t</Row>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nexport default withRouter(ConsutaExcel);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Table, Input, notification, Avatar, Spin, Row, Button } from 'antd';\r\nimport { RollbackOutlined, UserOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './clientes.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nimport ConsutaExcel from './consutaExcel';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Clientes(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ clientes, setClientes ] = useState([]);\r\n\tconst [ clientesPaginados, setClientesPaginados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else if (decoded['rol'] !== true) {\r\n\t\t\t\tprops.history.push('/');\r\n\t\t\t}else{\r\n\t\t\t\tobtenerClientes(20, page);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Foto de perfil',\r\n\t\t\tdataIndex: 'imagen',\r\n\t\t\tkey: 'imagen',\r\n\t\t\trender: (imagen) => {\r\n\t\t\t\treturn !imagen ? (\r\n\t\t\t\t\t<Avatar icon={<UserOutlined />} />\r\n\t\t\t\t) : imagen.includes('https') ? (\r\n\t\t\t\t\t<Avatar src={imagen} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Avatar src={aws + imagen} />\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Nombre',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\trender: (nombre) => <p className=\"h5\">{nombre}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Apellido',\r\n\t\t\tdataIndex: 'apellido',\r\n\t\t\tkey: 'apellido',\r\n\t\t\trender: (apellido) => (!apellido ? <p className=\"h5\">-</p> : <p className=\"h5\">{apellido}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Telefono',\r\n\t\t\tdataIndex: 'telefono',\r\n\t\t\tkey: 'telefono',\r\n\t\t\trender: (telefono) => (!telefono ? <p className=\"h5\">-</p> : <p className=\"h5\">{telefono}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Email',\r\n\t\t\tdataIndex: 'email',\r\n\t\t\tkey: 'email',\r\n\t\t\trender: (email) => <p className=\"h5\">{email}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Dirección',\r\n\t\t\tdataIndex: 'direccion',\r\n\t\t\tkey: 'direccion',\r\n\t\t\trender: (direccion) => {\r\n\t\t\t\treturn direccion.map((res) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={res._id}>\r\n\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t{res.calle_numero}, {res.colonia}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ciudad',\r\n\t\t\tdataIndex: 'direccion',\r\n\t\t\tkey: 'direccion',\r\n\t\t\trender: (ciudad) => {\r\n\t\t\t\treturn ciudad.map((res) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={res._id}>\r\n\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t{res.ciudad}, {res.estado}, {res.pais}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t];\r\n\r\n\tasync function obtenerClientes(limit, page) {\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetClientes(res.data.posts.docs);\r\n\t\t\t\tsetClientesPaginados(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerClientesFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tobtenerClientes(10, page);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(`/cliente/filtrados?nombre=${busqueda}&apellido=${busqueda}&direccion=${busqueda}`, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetClientesPaginados(res.data.posts);\r\n\t\t\t\t\tsetClientes(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Buscar un cliente\"\r\n\t\t\t\t\tonSearch={(value) => obtenerClientesFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\tonClick={() => obtenerClientes(10, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\r\n\t\t\t<ConsutaExcel />\r\n\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario mt-5\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={clientes}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(clientes) => clientes._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={clientesPaginados} location={location} history={history} limite={20} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Clientes;\r\n","import React from 'react'\r\nimport {Link } from 'react-router-dom';\r\nimport './bannerOrientacion.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nexport default function Imagen_Banner(props) {\r\n    \r\n    const {imagen, link, imagenLocal, vincular } = props;\r\n        return(\r\n            <div className=\"container-imagenes\">\r\n                <div className=\"container-image\">\r\n                    <img\r\n                        onClick={() =>\r\n                            {if (vincular !== false) {\r\n                                props.history.push(`/searching/${ link.categoria || link.temporada || link.genero }`);\r\n                            }\r\n                        }}\r\n                        className=\"image-orientancion\"\r\n                        src={imagenLocal ? imagen : aws + imagen}\r\n                        alt=\"Imgen publicitaria\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    \r\n}\r\n","import React, { useContext } from 'react';\r\nimport aws from '../../../../config/aws';\r\n// import DOMPurify from 'dompurify';\r\nimport { Card, Tooltip } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './productos.scss';\r\n// import { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\n\r\nconst gridStyle = { width: '100%', marginBottom: '1.5rem' };\r\n\r\nexport default function CardSecundaria(props) {\r\n\tconst { productos } = props;\r\n\tconst { colores } = useContext(MenuContext);\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.bodyPage.card.background,\r\n\t\t\tborder: \"none\",\r\n\t\t\t\"& .text-color\": {\r\n\t\t\t\tcolor: colores.bodyPage.card.text\r\n\t\t\t}\r\n\t\t},\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-3 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName={\"contenedor-card-producto-secundario \" + classes.background}\r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* <div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className={\"contenedor-imagen-oferta \" + classes.background}>\r\n\t\t\t\t\t\t\t\t\t\t{/* <div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-secundario\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"margen\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\" row contenedor-precios-sec\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 text-color rebajado-sec mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"h5 card-precio-rebaja d-inline mr-1 text-color\">\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6 contenedor-titulos-productos-sec titulo-elipsis-sec text-color\">\r\n\t\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6 card-div\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName={\"contenedor-card-producto-secundario margen-b \" + classes.background }\r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-secundario\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName={\"margen-dentro \" + classes.background}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t<div className=\"row contenedor-informacion\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-7  margen-precios-promo\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-sec infor-center margen-precios\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" title={formatoMexico(productos.precio)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"font-prin text-color\" >${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-5 infor-center contenedor-titulos-productos-sec titulo-elipsis-sec\">\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" title={productos.nombre}>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque titulo-producto text-color\">{productos.nombre}</p>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row contenedor-informacion\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\" col-lg-6 infor-center contenedor-precios-sec margen-precios-promo\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-peque precio-producto rebajado-sec mr-2 text-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" title={formatoMexico(promo.precioPromocion)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-secun precios card-precio-rebaja d-inline mr-1 text-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-6 contenedor-titulos-productos-sec titulo-elipsis-sec text-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" title={productos.nombre}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque titulo-producto\">{productos.nombre}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","  import React, { useContext } from 'react';\r\nimport aws from '../../../../config/aws';\r\nimport DOMPurify from 'dompurify';\r\nimport { Card } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './card_producto.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nexport default function Card_Producto_Frente(props) {\r\n\tconst { productos } = props;\r\n\tconst { colores } = useContext(MenuContext);\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.bodyPage.card.background,\r\n\t\t\tborder: \"none\",\r\n\t\t\t\"& .text-color\": {\r\n\t\t\t\tcolor: colores.bodyPage.card.text\r\n\t\t\t}\r\n\t\t},\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card.Grid hoverable style={gridStyle} className={\"contenedor-card-producto-principal \" + classes.background}>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName={\"contenedor-card-body \" + classes.background}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto text-color\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t\t\t{/* <div\r\n\t\t\t\t\t\t\t\tclassName=\"text-color\"\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.productoPromocion.descripcion)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/* <div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto text-color mr-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<h3 className=\"h5 precio-rebaja d-inline mr-1 text-color\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card.Grid>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\" >\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card.Grid hoverable style={gridStyle} className={\"frente contenedor-card-producto-principal \" + classes.background}>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName={\"frente-bajo frente contenedor-card-body \" + classes.background}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"oferta-frente\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>-{agregarPorcentaje(promo.precioPromocion, productos.precio)}%</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-8 col-lg-8\" style={{padding: '1%', margin: '0%'}}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"frente contenedor-titulos-productos\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-producto-frente text-color\">{productos.nombre}</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-4 col-lg-4 cont-precios-frente\" style={{padding: '3%', margin: '0%'}}>\r\n\t\t\t\t\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"frente contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"titulo-producto-frente precio-rebaja text-color\">${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"frente contenedor-precios-productos text-color\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"titulo-producto-frente precio-producto  mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"titulo-producto-frente precio-rebaja d-inline mr-1 text-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-producto-frente porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tstyle={{padding: '0%', margin: '0%'}}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 col-lg-12 font-descrip-card-frente text-color description-menu\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<p \r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"overflow-ellipsis description description-menu text-justify\"\r\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.descripcion)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card.Grid>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result } from 'antd';\r\nimport Spin from '../../../components/Spin';\r\nimport '../Productos/Card_Secundaria/productos.scss'\r\nimport '../Productos/Cards_Normales/card_producto.scss';\r\nimport CardSecundaria from '../Productos/Card_Secundaria/card_secundaria';\r\nimport Card_Producto_Frente from '../Productos/Cards_Normales/card_producto_frente';\r\nimport Imagen_Banner from './BannerOrientacion/imagenBanner'\r\n\r\n// import Pagination from '../../../components/Pagination/pagination';\r\n// import queryString from 'query-string';\r\n// import ComponentProductos from '../Productos/componente_productos';\r\n/* const gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' }; */\r\n\r\n\r\nfunction CardsProductos({tipo, orientacion, banner, imagenLocal}) {\r\n\t//const { location, history } = props.propiedades;\r\n\t//const { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n    const [ loading, setLoading ] = useState(false);\r\n    \r\n    useEffect(() => {\r\n        async function obtenerProductos() {\r\n            setLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t// tipo.categoria ? `categoria=${tipo.categoria}` : `temporada=${tipo.temporada}`\r\n                .get(`/productos/filter?${tipo.categoria ? `categoria=${tipo.categoria}` : tipo.temporada ? `temporada=${tipo.temporada}` : `genero=${tipo.genero}` }`)\r\n                .then((res) => {\r\n                    setProductos(res.data.posts);\r\n                    setProductosPaginacion(res.data.posts);\r\n                    setLoading(false);\r\n                })\r\n                .catch((err) => {\r\n                    if(err.response){\r\n                        notification.error({\r\n                            message: 'Error',\r\n                            description: err.response.data.message,\r\n                            duration: 2\r\n                        });\r\n                    }else{\r\n                        notification.error({\r\n                            message: 'Error de conexion',\r\n                            description: 'Al parecer no se a podido conectar al servidor.',\r\n                            duration: 2\r\n                        });\r\n                    }\r\n                });\r\n        }\r\n\r\n       obtenerProductos()\r\n    }, [tipo])\r\n\r\n\r\n\tconst render = productos.map((productos, index) => {\r\n\t\tif(orientacion > 0){\r\n\t\t\tif(orientacion === 1 && index === 0 ){\r\n\t\t\t\treturn <Imagen_Banner key={index} vincular={banner.vincular} imagen={banner.imagenBanner} link={banner.tipo} imagenLocal={imagenLocal} />\r\n\t\t\t}else if(orientacion === 2 && index === 2){\r\n\t\t\t\treturn <Imagen_Banner key={index} vincular={banner.vincular} imagen={banner.imagenBanner}\tlink={banner.tipo} imagenLocal={imagenLocal}/>\r\n\t\t\t}else if(orientacion === 3 && index === 4){\r\n\t\t\t\treturn <Imagen_Banner key={index} vincular={banner.vincular} imagen={banner.imagenBanner} link={banner.tipo} imagenLocal={imagenLocal}/>\r\n\t\t\t}else if(index <= 4){\r\n\t\t\t\treturn <CardSecundaria key={index} productos={productos} imagenLocal={imagenLocal} />\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(index <= 4){\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Card_Producto_Frente key={index} productos={productos} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\r\n\t});\r\n\t// const render = productos.map((productos, index) => {\r\n\t// \tif(orientacion > 0){\r\n\t// \t\tif(orientacion === 1 && index === 0 ){\r\n\t// \t\t\treturn <Imagen_Banner imagen={banner.imagenBanner} link={banner.tipo} />\r\n\t// \t\t}else if(orientacion === 2 && index === 2){\r\n\t// \t\t\treturn <Imagen_Banner imagen={banner.imagenBanner}\tlink={banner.tipo}/>\r\n\t// \t\t}else if(orientacion === 3 && index === 4){\r\n\t// \t\t\treturn <Imagen_Banner imagen={banner.imagenBanner} link={banner.tipo}/>\r\n\t// \t\t}else if(index <= 4){\r\n\t// \t\t\treturn <CardSecundaria key={productos._id} productos={productos} />\r\n\t// \t\t}\r\n\t// \t}else{\r\n\t// \t\tif(index <= 5){\r\n\t// \t\t\treturn (\r\n\t// \t\t\t\t<CardSecundaria key={productos._id} productos={productos} />\r\n\t// \t\t\t)\r\n\t// \t\t}\r\n\t// \t}\r\n\t\t\r\n\r\n\t// });\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{/* <div className=\"principal-productos\"><p>NUESTROS PRODUCTOS</p></div> */}\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center cont-div-card\">\r\n\t\t\t\t<div className=\"justify-content-center align-items-center cont-div-card\">\r\n\t\t\t\t\t<div style={{ maxWidth: '95vw', paddingBottom: 0, marginBottom: 0 }} className=\"row d-flex justify-content-center align-items-center\">\r\n\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* <Pagination\r\n\t\t\t\tblogs={productosPaginacion}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 40}\r\n\t\t\t/> */}\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default CardsProductos;","import React from 'react';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\nimport Imagen_Banner from './imagenBanner';\r\nimport CardsProductos from '../cardsProductos';\r\n\r\nexport default function Banner_Orientacion({ banner, imagenLocal }) {\r\n\tconst render = banner.banners.map((subBanner, index) => (\r\n\t\t<CardsProductos key={index} tipo={subBanner.tipo} orientacion={subBanner.orientacion} banner={subBanner} imagenLocal={imagenLocal} />\r\n\t));\r\n\r\n\treturn(\r\n\t\t<div className=\"mt-2\">\r\n\t\t\t{render}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useContext } from 'react';\r\n//import {useSpring, animated} from 'react-spring'\r\n\r\nimport './bannerPromocion.scss'\r\nimport CardsProductos from '../cardsProductos';\r\n\r\n// import clienteAxios from '../../../../config/axios';\r\nimport {Link, withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\n\r\nimport TweenOne from 'rc-tween-one';\r\nimport BannerAnim, { Element } from 'rc-banner-anim';\r\nimport 'rc-banner-anim/assets/index.css';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nconst BgElement = Element.BgElement;\r\n//hola mundio\r\n\r\n function Banner_Largo(props) {\r\n    const {banner, imagenLocal } = props;\r\n    const { colores } = useContext(MenuContext);\r\n\r\n    /* const handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n    }; */\r\n    const useStyles = makeStyles({\r\n\t\ttext: {\r\n\t\t\tcolor: colores.bodyPage.text,\r\n\t\t},\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n    const render = banner.banners.map((banner, index) => {\r\n\r\n        return (\r\n            <div key={index} className=\"cont-principal\">\r\n                {/* {banner.mostrarTitulo !== false ? (\r\n                    <TweenOne key=\"demo\" animation={{ y: 30, opacity: 0, type: 'from', delay: 800 }}>\r\n                        <h1 className={\"tit-banner font-prin \" + classes.text}>{banner.tipo.categoria || banner.tipo.temporada }</h1>\r\n                    </TweenOne>\r\n                 ) : \"\"} */}\r\n\r\n                {banner.imagenBanner || banner.imagenBanner !== '' ? (\r\n                    <>\r\n                    {/* <div className=\"banner-prin mx-auto mt-2\" >  */}\r\n                      {/* <BannerAnim autoPlay  activeIndex={index} onSelect={handleSelect}  prefixCls=\"banner-prin mx-auto\" > */}\r\n                        {/* <Element prefixCls=\"banner-user-elem\" animation={{ opacity: 0, type: 'from', delay: 800 }}> */}\r\n                            <div\r\n                                onClick={() =>\r\n                                    {if (banner.vincular !== false) {\r\n                                        props.history.push(`/searching/${ banner.tipo.categoria || banner.tipo.temporada || banner.tipo.genero }`);\r\n                                    }\r\n                                }}\r\n                                // key=\"bg\"\r\n                                className=\"banner-prom mx-auto mt-2\"\r\n                                // style={{\r\n                                //     backgroundImage: imagenLocal ? `url(${banner.imagenBanner})` : `url(${aws + banner.imagenBanner})`,\r\n                                //     cursor: 'pointer',\r\n                                // }}\r\n                            >\r\n                                <img \r\n                                    className=\"banner-img mx-auto\"\r\n                                    alt=\"\"\r\n                                    src={imagenLocal ? (banner.imagenBanner ): (aws + banner.imagenBanner)}\r\n                                />\r\n                            </div>  \r\n                            {/* </BgElement> */}\r\n                        {/* </Element> */}\r\n                      {/* </BannerAnim> */}\r\n                    {/* </div> */}\r\n                    </>\r\n                    ) : \r\n                    null\r\n                }\r\n\r\n                <div>\r\n                    {banner.mostrarProductos !== false ? (\r\n                            <div className=\"mx-auto div-cards\">\r\n                                <CardsProductos className=\"mx-auto\" tipo={banner.tipo} />\r\n                                <div className=\"d-flex justify-content-center \">\r\n                                    <Link\r\n                                        className=\"font-secun\"\r\n                                        to={`/searching/${banner.tipo.categoria || banner.tipo.temporada || banner.tipo.genero}`} >\r\n                                        Ver todos los productos\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                    ) : \"\"}\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    })\r\n\r\n    return (\r\n        <div className=\"cont-principal\">\r\n           {render}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Banner_Largo);\r\n","import React from 'react';\r\nimport './banners.scss'\r\nimport {Link, withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport './banners.scss'\r\n\r\nfunction Banner_Doble(props) {\r\n\r\n    const { banner, imagenLocal } = props;\r\n    \r\n    const render = banner.banners.map((banner) => {\r\n        return(\r\n            <div key={banner._id} className=\"col-lg-6 container-imagenes\">\r\n                <div className=\"container-banner-doble mt-2\">\r\n                        <img\r\n                            onClick={() =>\r\n                                {if (banner.vincular !== false) {\r\n                                    props.history.push(`/searching/${ banner.tipo.categoria || banner.tipo.temporada || banner.tipo.genero }`);\r\n                                }\r\n                            }}\r\n                            className=\"imagen-doble \" \r\n                            src={imagenLocal ? banner.imagenBanner : aws + banner.imagenBanner}\r\n                            alt=\"Imgen publicitaria\"\r\n                        />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    )\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                {render}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default withRouter(Banner_Doble);\r\n","import React from 'react';\r\nimport './banners.scss'\r\nimport {Link, withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport './banners.scss'\r\n\r\nfunction Banner_Triple(props) {\r\n    const { banner, imagenLocal } = props;\r\n\r\n    const render = banner.banners.map((banner) => {\r\n        return(\r\n            <div key={banner._id} className=\"col-lg-4 container-imagenes\">\r\n                <div className=\"container-banner-triple\">\r\n                        <img\r\n                            onClick={() =>\r\n                                {if (banner.vincular !== false) {\r\n                                    props.history.push(`/searching/${ banner.tipo.categoria || banner.tipo.temporada || banner.tipo.genero }`);\r\n                                }\r\n                            }}\r\n                            className=\"imagen-triple\"\r\n                            src={imagenLocal ? banner.imagenBanner : aws + banner.imagenBanner}\r\n                            alt=\"Imgen publicitaria\"\r\n                        />\r\n                </div>\r\n            </div>\r\n        )\r\n        }\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    {render}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n        \r\n}\r\n\r\nexport default withRouter(Banner_Triple);\r\n","import React from 'react';\r\n\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nimport Banner_Orientacion from './BannerOrientacion/banner_orientacion';\r\nimport Banner_Largo from './BannerLargo/BannerLargo';\r\nimport Banner_Doble from './BannerCuadrados/bannerDoble';\r\nimport Banner_Triple from './BannerCuadrados/bannerTriple';\r\n\r\nexport default function Banner_Promocionales({ banner, imagenLocal }) {\r\n\tif(!banner) return null\r\n\r\n\tconst render = banner.map((banner, index) => {\r\n\t\tif (banner.estilo === 1) {\r\n\t\t\treturn <Banner_Largo key={index} banner={banner} imagenLocal={imagenLocal} />;\r\n\t\t} else if (banner.estilo === 2) {\r\n\t\t\treturn <Banner_Orientacion key={index} banner={banner} imagenLocal={imagenLocal} />;\r\n\t\t} else if (banner.estilo === 3) {\r\n\t\t\treturn <Banner_Doble key={index} banner={banner} imagenLocal={imagenLocal} />;\r\n\t\t} else if (banner.estilo === 4) {\r\n\t\t\treturn <Banner_Triple key={index} banner={banner} imagenLocal={imagenLocal} />;\r\n\t\t}\r\n\t});\r\n\r\n\treturn <div>{render}</div>;\r\n}\r\n","import { Divider } from 'antd';\r\nimport React from 'react';\r\nimport Banner_Promocionales from '../../../users/BannerPromociones/bannerPromocionales';\r\n\r\nexport default function PreviewBanner({ datos, estilo, previewImage }) {\r\n\tconst array_banner = [\r\n\t\t{\r\n\t\t\testilo,\r\n\t\t\tbanners: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttipo: { [datos.tipo[0]]: datos.tipo[1] },\r\n\t\t\t\t\timagenBanner: previewImage ? previewImage : datos.imagenBanner,\r\n\t\t\t\t\tvincular: datos.vincular,\r\n\t\t\t\t\tmostrarProductos: datos.mostrarProductos,\r\n\t\t\t\t\tmostrarTitulo: datos.mostrarTitulo,\r\n\t\t\t\t\torientacion: datos.orientacion ? datos.orientacion : null\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className=\"mt-5\">\r\n\t\t\t<div>\r\n\t\t\t\t{estilo < 3 ? (\r\n                    <h1>Preview del banner</h1>\r\n                ) : null}\r\n\t\t\t</div>\r\n\t\t\t<Divider />\r\n\t\t\t{estilo < 3 ? (\r\n\t\t\t\t<Banner_Promocionales banner={array_banner} imagenLocal={previewImage ? true : false} />\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useCallback, useContext, Fragment } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Form, Modal, Checkbox, Cascader, Alert, Space } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\nimport '../publicidad.scss';\r\nimport ImagenEstilo2 from '../imagenes/estilo2.png';\r\nimport ImagenEstilo3 from '../imagenes/estilo3.png';\r\nimport ImagenEstilo4 from '../imagenes/estilo4.png';\r\nimport ImagenEspecial1 from '../imagenes/especial1.png';\r\nimport ImagenEspecial2 from '../imagenes/especial2.png';\r\nimport ImagenEspecial3 from '../imagenes/especial3.png';\r\nimport { BannerContext } from '../../../../context/admincontext';\r\nimport PreviewBanner from './previewBanner';\r\n\r\nfunction getBase64(file) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.readAsDataURL(file);\r\n\t\treader.onload = () => resolve(reader.result);\r\n\t\treader.onerror = (error) => reject(error);\r\n\t});\r\n}\r\n\r\nexport default function RegistroPublicidad(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst { reload, setReload } = useContext(BannerContext);\r\n\tconst idBanner = props.match.params.idBanner;\r\n\tconst accion = props.match.params.accion;\r\n\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\tconst [ temporadasBD, setTemporadasBD ] = useState([]);\r\n\tconst [ generosBD, setGenerosBD ] = useState([]);\r\n\tconst [ bannerRender, setBannerRender ] = useState({ banner: '', banners: '' });\r\n\tconst [ bannerSeleccionado, setBannerSeleccionado ] = useState({ banner: '', banners: '' });\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttipo: '',\r\n\t\tvincular: false,\r\n\t\tmostrarProductos: bannerRender.banner.estilo === 2 ? true : false,\r\n\t\tmostrarTitulo: false,\r\n\t\timagenBanner: '',\r\n\t\torientacion: 2\r\n\t});\r\n\tconst [ disabledCheck, setDisabledCheck ] = useState(true);\r\n\tconst [ disabledReg3, setDisabledReg3 ] = useState(0);\r\n\r\n\tconst [ saveAndPublish, setSaveAndPublish ] = useState(false);\r\n\r\n\t/* UPLOAD ANTD */\r\n\tconst [ openPreview, setOpenPreview ] = useState(false);\r\n\tconst [ previewImage, setPreviewImage ] = useState('');\r\n\tconst [ previewTitle, setPreviewTitle ] = useState('');\r\n\tconst [ fileList, setFileList ] = useState([]);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\r\n\tconst handleCancel = () => setOpenPreview(false);\r\n\r\n\tconst limpiarCampos = () => {\r\n\t\tsetDisabledCheck(true);\r\n\t\tsetFileList([]);\r\n\t\tsetDatos({\r\n\t\t\ttipo: '',\r\n\t\t\tvincular: false,\r\n\t\t\tmostrarProductos: bannerRender.banner.estilo === 2 ? true : false,\r\n\t\t\tmostrarTitulo: false,\r\n\t\t\timagenBanner: '',\r\n\t\t\torientacion: 2\r\n\t\t});\r\n\t\tform.resetFields();\r\n\t};\r\n\r\n\t/* UPLOAD ANTD */\r\n\tconst uploadProps = {\r\n\t\tfileList: fileList,\r\n\t\tlistType: 'picture-card',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tif (file.type === 'image/png' || file.type === 'image/jpg' || file.type === 'image/jpeg') {\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Formato de imagen no válido',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetDisabled(true);\r\n\t\t},\r\n\t\tonChange: async ({ fileList, file }) => {\r\n\t\t\tif (fileList.length !== 0) {\r\n\t\t\t\tsetDatos({ ...datos, imagenBanner: file });\r\n\t\t\t\tsetFileList(fileList);\r\n\t\t\t\tsetPreviewImage(URL.createObjectURL(file));\r\n\t\t\t} else {\r\n\t\t\t\tsetDatos({ ...datos, imagenBanner: '' });\r\n\t\t\t\tsetFileList([]);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tform.resetFields([ 'imagen' ]);\r\n\t\t\t\tsetPreviewImage('');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPreview: async (file) => {\r\n\t\t\tif (!file.url && !file.preview) {\r\n\t\t\t\tfile.preview = await getBase64(file.originFileObj);\r\n\t\t\t}\r\n\t\t\tsetPreviewImage(file.url || file.preview);\r\n\t\t\tsetOpenPreview(true);\r\n\t\t\tsetPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1));\r\n\t\t}\r\n\t};\r\n\r\n\tconst selectTipo = (tipo) => {\r\n\t\tsetDatos({ ...datos, tipo: tipo });\r\n\t\tsetDisabledCheck(false);\r\n\t};\r\n\r\n\tconst obtenerOrientacion = (orientacion) => {\r\n\t\tsetDatos({ ...datos, orientacion: orientacion });\r\n\t};\r\n\r\n\tconst obtenerChecks = (e) => setDatos({ ...datos, [e.target.name]: e.target.checked });\r\n\r\n\tconst errors = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet categorias = [];\r\n\t\t\t\tres.data.map((categoria) => {\r\n\t\t\t\t\tcategorias.push({ value: categoria.categoria, label: categoria.categoria });\r\n\t\t\t\t});\r\n\t\t\t\tsetCategoriasBD(categorias);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerTemporadas() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/agrupar/temporadas`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet temporadas = [];\r\n\t\t\t\tres.data.forEach((temporada) => {\r\n\t\t\t\t\ttemporadas.push({ label: temporada._id, value: temporada._id });\r\n\t\t\t\t});\r\n\t\t\t\tsetTemporadasBD(temporadas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/agrupar/generos`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet generos = [];\r\n\t\t\t\tres.data.forEach((genero) => {\r\n\t\t\t\t\tif(genero._id !== 'Ninguno'){\r\n\t\t\t\t\t\tgeneros.push({ label: genero._id, value: genero._id });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tsetGenerosBD(generos);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst enviarDatos = async () => {\r\n\t\tif (!datos.tipo) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Selecciona un tipo',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tif (!datos.imagenBanner && datos.tipo && datos.mostrarProductos === false) {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'si una categoria esta seleccionada, \"mostrar productos\" es obligatorio',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t} else if (bannerSeleccionado.banner.estilo === 2 && !datos.imagenBanner) {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'En este tipo de banner la imagen es obligatoria',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tconst formData = new FormData();\r\n\t\t\t\tif (datos.imagenBanner.length !== 0) {\r\n\t\t\t\t\tformData.append('imagen', datos.imagenBanner);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tformData.append('imagenBanner', '');\r\n\t\t\t\t}\r\n\t\t\t\tif (bannerSeleccionado.banner.estilo === 2) {\r\n\t\t\t\t\tformData.append('orientacion', datos.orientacion);\r\n\t\t\t\t}\r\n\t\t\t\tformData.append(datos.tipo[0], datos.tipo[1]);\r\n\t\t\t\tformData.append('vincular', datos.vincular);\r\n\t\t\t\tformData.append('mostrarProductos', datos.mostrarProductos);\r\n\t\t\t\tformData.append('mostrarTitulo', datos.mostrarTitulo);\r\n\r\n\t\t\t\tif (bannerSeleccionado.banners.length !== 0) {\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.put(\r\n\t\t\t\t\t\t\t`/banner/${bannerSeleccionado.banner._id}/action/${bannerSeleccionado.banners._id}`,\r\n\t\t\t\t\t\t\tformData,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\tsetDisabledReg3(0);\r\n\t\t\t\t\t\t\tif (bannerSeleccionado.banner.estilo < 3) {\r\n\t\t\t\t\t\t\t\tprops.history.push('/admin/publicidad');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(saveAndPublish){\r\n\t\t\t\t\t\t\t\tpublicarBanner(true);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tpublicarBanner(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.put(`/banner/${bannerSeleccionado.banner._id}`, formData, {\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\tsetDisabledReg3(0);\r\n\t\t\t\t\t\t\tif (bannerSeleccionado.banner.estilo < 3) {\r\n\t\t\t\t\t\t\t\tprops.history.push('/admin/publicidad');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(saveAndPublish){\r\n\t\t\t\t\t\t\t\tpublicarBanner();\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tpublicarBanner(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst llenarCampos = useCallback(\r\n\t\t(banner, banners) => {\r\n\t\t\tif (banners.length !== 0) {\r\n\t\t\t\tsetBannerSeleccionado({ banner, banners });\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\t...datos,\r\n\t\t\t\t\timagenBanner: banners.imagenBanner ? banners.imagenBanner : '',\r\n\t\t\t\t\ttipo: banners.tipo.categoria\r\n\t\t\t\t\t\t? [ 'categoria', banners.tipo.categoria ]\r\n\t\t\t\t\t\t: banners.tipo.temporada ? [ 'temporada', banners.tipo.temporada ] : [ 'genero', banners.tipo.genero ],\r\n\t\t\t\t\tvincular: banners.vincular,\r\n\t\t\t\t\tmostrarProductos: banners.mostrarProductos,\r\n\t\t\t\t\tmostrarTitulo: banners.mostrarTitulo,\r\n\t\t\t\t\torientacion: banners.orientacion\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!banners.imagenBanner || banners.imagenBanner === '') {\r\n\t\t\t\t\tsetFileList([]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetFileList([\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tuid: '-1',\r\n\t\t\t\t\t\t\tname: 'imagen actual',\r\n\t\t\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\t\t\turl: aws + banners.imagenBanner\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (banners.tipo.length === 0) {\r\n\t\t\t\t\tform.resetFields([ 'tipo' ]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t\r\n\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (banners.tipo.categoria) {\r\n\t\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\t\ttipo: [ 'categoria', banners.tipo.categoria ]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (banners.tipo.temporada) {\r\n\t\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\t\ttipo: [ 'temporada', banners.tipo.temporada ]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\t\ttipo: [ 'genero', banners.tipo.genero ]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ form ]\r\n\t);\r\n\r\n\tconst obtenerBannerBD = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/banner/${idBanner}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (accion === 'nuevo') {\r\n\t\t\t\t\tsetBannerSeleccionado({ banner: res.data, banners: [] });\r\n\t\t\t\t\tsetBannerRender({ banner: res.data, banners: [] });\r\n\t\t\t\t} else if (bannerSeleccionado.banner < 3) {\r\n\t\t\t\t\tsetBannerSeleccionado({ banner: res.data, banners: res.data.banners });\r\n\t\t\t\t\tsetBannerRender({ banner: res.data, banners: res.data.banners });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tres.data.banners.map((banners) => {\r\n\t\t\t\t\t\tsetBannerSeleccionado({ banner: res.data, banners });\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tsetBannerRender({ banner: res.data, banners: res.data.banners });\r\n\t\t\t\tif (accion === 'editar' && res.data.estilo < 3) {\r\n\t\t\t\t\tres.data.banners.map((banners) => {\r\n\t\t\t\t\t\tllenarCampos(res.data, banners);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst publicarBanner = async (publicado) => {\r\n\t\tif (bannerRender.banner.estilo === 3 && bannerRender.banners.length < 2 && publicado) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else if (bannerRender.banner.estilo === 4 && bannerRender.banners.length < 3 && publicado) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else if (bannerRender.banners.length === 0 && publicado) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.put(\r\n\t\t\t\t`/banner/publicar/${bannerRender.banner._id}`,\r\n\t\t\t\t{ publicado },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif(publicado){\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerTemporadas();\r\n\t\t\tobtenerGeneros();\r\n\t\t\tobtenerBannerBD();\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tconst options = [\r\n\t\t{\r\n\t\t\tvalue: 'categoria',\r\n\t\t\tlabel: 'Categoria',\r\n\t\t\tname: 'categoria',\r\n\t\t\tchildren: categoriasBD\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 'temporada',\r\n\t\t\tlabel: 'Temporada',\r\n\t\t\tname: 'temporada',\r\n\t\t\tchildren: temporadasBD\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 'genero',\r\n\t\t\tlabel: 'Género',\r\n\t\t\tname: 'genero',\r\n\t\t\tchildren: generosBD\r\n\t\t}\r\n\t];\r\n\r\n\t/* simular imagenes */\r\n\tvar elementos = [];\r\n\tfor (let i = 0; i < bannerRender.banner.estilo - 1; i++) {\r\n\t\tlet array = [];\r\n\t\tarray.push(i);\r\n\t\telementos.push(array);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t{bannerRender.banner.estilo === 2 ? (\r\n\t\t\t\t\t<div className=\"d-flex justify-content-around pb-3 mb-3 border-bottom\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\tonClick={() => obtenerOrientacion(1)}\r\n\t\t\t\t\t\t\tstyle={datos.orientacion === 1 ? { border: '1px solid #1890FF' } : null}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<h6 className=\" position-absolute\">\r\n\t\t\t\t\t\t\t\t<b>Diseño 1</b>\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t<img alt=\"estilos banners\" src={ImagenEstilo4} className=\"imagen-estilo-registro\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\tonClick={() => obtenerOrientacion(2)}\r\n\t\t\t\t\t\t\tstyle={datos.orientacion === 2 ? { border: '1px solid #1890FF' } : null}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<h6 className=\" position-absolute\">\r\n\t\t\t\t\t\t\t\t<b>Diseño 2</b>\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t<img alt=\"estilos banners\" src={ImagenEstilo3} className=\"imagen-estilo-registro\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\tonClick={() => obtenerOrientacion(3)}\r\n\t\t\t\t\t\t\tstyle={datos.orientacion === 3 ? { border: '1px solid #1890FF' } : null}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<h6 className=\"position-absolute\">\r\n\t\t\t\t\t\t\t\t<b>diseño 3</b>\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t<img alt=\"estilos banners\" src={ImagenEstilo2} className=\"imagen-estilo-registro\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{bannerRender.banner.estilo > 2 ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mb-3\">\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t<b>Selecciona un banner</b>\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-center d-flex justify-content-around pb-3 mb-3 border-bottom\">\r\n\t\t\t\t\t\t\t{bannerRender.banners.length !== 0 ? (\r\n\t\t\t\t\t\t\t\tbannerRender.banners.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Fragment key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen {index + 1}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tllenarCampos(bannerRender.banner, res);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + res.imagenBanner}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{bannerRender.banners.length === 1 && bannerRender.banner.estilo === 3 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen 2</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 2);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetBannerSeleccionado({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanner: bannerRender.banner,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanners: []\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial2}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t{bannerRender.banners.length === 1 && bannerRender.banner.estilo === 4 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen 2</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 2);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetBannerSeleccionado({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanner: bannerRender.banner,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanners: []\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial2}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen 3</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 3);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetBannerSeleccionado({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanner: bannerRender.banner,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanners: []\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 3 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t{index > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\tbannerRender.banners.length === 2 &&\r\n\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.estilo === 4 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen 3</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 3);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetBannerSeleccionado({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanner: bannerRender.banner,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanners: []\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 3 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\telementos.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={disabledReg3 === index + 1 ? { border: '1px solid #1890FF' } : null}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\" position-absolute\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen {index + 1}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex + 1 === 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : index + 1 === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial2\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial3\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<Form form={form} hideRequiredMark onFinish={enviarDatos} id=\"MyForm\">\r\n\t\t\t\t\t\t\t<div className=\"row \">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Tipo de producto\" labelCol={{ span: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"tipo\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Cascader\r\n\t\t\t\t\t\t\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTipo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona uno\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.estilo > 2 && !disabledReg3 ? true : false\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item labelCol={{ span: 4 }} label=\"Imagen\" className=\"image-upload-container\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"imagenBanner\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...uploadProps}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.estilo > 2 && !disabledReg3 ? true : false\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{fileList.length >= 1 ? null : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginTop: 8 }}>Upload</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t{bannerRender.banner.estilo === 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTamaño recomendado para esta imagen es: <b>alto=330px</b>,{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>largo=1400px</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t) : bannerRender.banner.estilo === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTamaño recomendado para esta imagen es: <b>alto=260px</b>,{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>largo=430px</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t) : bannerRender.banner.estilo === 3 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTamaño recomendado para esta imagen es: <b>alto=700px</b>,{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>largo=470px</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTamaño recomendado para esta imagen es: <b>alto=530px</b>,{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>largo=360px</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-5\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"vincular\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={datos.vincular}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerChecks}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledCheck}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tVincular banner\r\n\t\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"mostrarProductos\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdatos.mostrarProductos ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdatos.mostrarProductos\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : bannerRender.banner.estilo === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdatos.mostrarProductos\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerChecks}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledCheck ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledCheck\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : bannerRender.banner.estilo === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.estilo > 2 ? true : disabledCheck\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tMostrar Productos\r\n\t\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"mostrarTitulo\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={datos.mostrarTitulo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerChecks}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledCheck ? disabledCheck : bannerRender.banner.estilo > 2 ? true : disabledCheck}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tMostrar Titulo\r\n\t\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h4>{bannerRender.banner.publicado ? 'Banner publicado' : 'Banner no publicado'}</h4>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-lg-flex d-block justify-content-around\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tghost\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => props.history.push('/admin/publicidad')}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t{/* <Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tghost\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => publicarBanner(!bannerRender.banner.publicado)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.publicado ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ color: '#5cb85c', borderColor: '#5cb85c' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{bannerRender.banner.publicado ? 'Publicado' : 'Publicar'}\r\n\t\t\t\t\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tform=\"MyForm\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tGuardar sin publicar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tform=\"MyForm\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setSaveAndPublish(true)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tGuardar y publicar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Modal forceRender visible={openPreview} title={previewTitle} footer={null} onCancel={handleCancel}>\r\n\t\t\t\t\t<img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<PreviewBanner datos={datos} estilo={bannerRender.banner.estilo} previewImage={previewImage} />\r\n\t\t\t</Spin>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport './ofertas.scss';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../config/aws';\r\n\r\nimport BannerAnim, { Element } from 'rc-banner-anim';\r\nimport 'rc-banner-anim/assets/index.css';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\n\r\nconst BgElement = Element.BgElement;\r\n\r\nfunction CarouselOfertas(props) {\r\n\t/* const [ index, setIndex ] = useState(0); */\r\n\tconst { datosContx } = useContext(MenuContext);\r\n\t/* const [ esPromocion, setEsPromocion ] = useState(false); */\r\n\r\n\t/* const handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n\t}; */\r\n\r\n\tif (datosContx.carrucel && datosContx.carrucel.length === 0 || !datosContx.carrucel) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst render = datosContx.carrucel.map((carousel) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Element prefixCls=\"banner-user-elem\" key={carousel._id}>\r\n\t\t\t\t\t<BgElement\r\n\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\tprops.history.push(\r\n\t\t\t\t\t\t\t/* esPromocion\r\n\t\t\t\t\t\t\t? `/vista_producto/${carousel.productoPromocion._id}`\r\n\t\t\t\t\t\t\t:  */carousel.producto ? `/vista_producto/${carousel.producto}` : '/'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tkey=\"bg\"\r\n\t\t\t\t\t\tclassName=\"bg banner-elemento\"\r\n\t\t\t\t\t\talt=\"img-oferta\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tbackgroundImage: `url(${aws + carousel.imagen})`,\r\n\t\t\t\t\t\t\tcursor: 'pointer' \r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</BgElement>\r\n\t\t\t\t</Element>\r\n\t\t\t\t\r\n\t\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<BannerAnim autoPlay /* activeIndex={index} */ /* onSelect={handleSelect} */ prefixCls=\"banner-user\" delay={200}>\r\n\t\t\t\t{render}\r\n\t\t</BannerAnim>\r\n\t);\r\n}\r\n\r\nexport default withRouter(CarouselOfertas);\r\n","import React, { useContext } from 'react';\r\n\r\nimport {withRouter } from 'react-router-dom';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\nimport Banner_Promocionales from './bannerPromocionales';\r\n\r\nfunction Consulta_Banners(props) {\r\n\tconst { datosContx } = useContext(MenuContext);\r\n\r\n    return (\r\n        <div className=\"container-fluid\" style={{padding: '1%'}}>\r\n\t\t\t <Banner_Promocionales banner={datosContx.banners}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Consulta_Banners);\r\n\r\n","import React from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Form, Input, Button, Checkbox } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 12 }\r\n};\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 7, span: 10 }\r\n};\r\n\r\nfunction Registro(props) {\r\n\tconst onFinish = async (values) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/cliente/', values)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\tif (vista) {\r\n\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\tprops.history.push(vista);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"col-12\">\r\n\t\t\t<Form {...layout}  name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n\t\t\t\t<Form.Item label=\"Nombre\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'El nombre es obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Apellido\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'El apellido es obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Correo\">\r\n\t\t\t\t\t<Form.Item name=\"email\" rules={[ { required: true, message: 'El email es obligatorio' } ]} noStyle>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Contraseña\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"contrasena\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'La contraseña es obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Confirmar contraseña\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"repeatContrasena\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'La contraseña es obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"d-flex justify-content-center\"\r\n\t\t\t\t\tname=\"aceptarPoliticas\"\r\n\t\t\t\t\tvaluePropName=\"checked\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvalidator: (_, value) =>\r\n\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t\t\t? Promise.resolve()\r\n\t\t\t\t\t\t\t\t\t: Promise.reject('Debes aceptar las políticas para registrarte')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Checkbox>Acepto las políticas, terminos y condiciones.</Checkbox>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\">\r\n\t\t\t\t\t\tRegistrarse\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Registro);\r\n","import React,{useState} from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { notification, Form, Input, Button, Alert } from 'antd';\r\n\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 14 }\r\n};\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 7, span: 10 }\r\n};\r\n\r\nfunction Login(props) {\r\n\r\n\tconst [mostrarDiv, setMostrarDiv] = useState('d-none');\r\n\tconst [mostrarMensaje, setmostrarMensaje] = useState('d-none');\r\n\r\n\tconst onFinish = async (values) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/cliente/auth', values)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\tif (vista) {\r\n\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\tprops.history.push(vista);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tprops.history.push('/admin');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tif (err.response.status === 404 || err.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t  });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst onRecuperar = async (email) => {\r\n\t\t\tawait clienteAxios.post('/cliente/restablecer/pass',email)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetmostrarMensaje(\"\");\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tif (err.response.status === 404 || err.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t  });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\t}\r\n\r\n\tconst mostrarDivClick = () => {\r\n\t\tsetMostrarDiv(\"\")\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"col-12\">\r\n\t\t\t<Form {...layout} name=\"basic\" className=\"font-descrip\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n\t\t\t\t<Form.Item label=\"Correo\" >\r\n\t\t\t\t\t<Form.Item name=\"email\" rules={[ { required: true, message: 'El email es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Contraseña\" >\r\n\t\t\t\t\t<Form.Item name=\"contrasena\" rules={[ { required: true, message: 'La contraseña es obligatoria!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\" >\r\n\t\t\t\t\t\tContinuar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<p onClick={mostrarDivClick} style={{cursor: 'pointer',color: '#0084ff'}}>¿Has olvidado tu contrasena?</p>\t\t\t\t\r\n\t\t\t</Form>\r\n\t\t\t<div  className={`${mostrarDiv} col-12 mt-2`}>\r\n\t\t\t\t<Form {...layout} name=\"basic\" initialValues={{ remember: true }} onFinish={onRecuperar}>\r\n\t\t\t\t\t<Form.Item label=\"Correo\" >\r\n\t\t\t\t\t\t<Form.Item name=\"emailCliente\" rules={[ { required: true, message: 'El email es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\" >\r\n\t\t\t\t\t\tEnviar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tclassName={`${mostrarMensaje}`}\r\n\t\t\t\t\t\tmessage=\"Correo enviado\"\r\n\t\t\t\t\t\tdescription=\"Se a enviado un correo para actualizar su contraseña\"\r\n\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Login);\r\n","\r\nexport default {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_DATA_BASE_URL,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROYECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n    measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n  };","import React, { useState, useEffect } from 'react';\r\nimport { notification } from 'antd';\r\nimport firebaseConfig from '../../config/firebase';\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\nimport clienteAxios from '../../config/axios';\r\nimport * as firebase from 'firebase/app';\r\n/* import * as firebaseui from 'firebaseui'; */\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n/* var ui = new firebaseui.auth.AuthUI(firebase.auth());\r\nui.disableAutoSignIn(); */\r\n\r\nfunction Firebase() {\r\n\tconst [ user, setUser ] = useState(false);\r\n\r\n\tconst uiConfig = {\r\n\t\tsignInFlow: 'popup',\r\n\t\tsignInOptions: [ firebase.auth.GoogleAuthProvider.PROVIDER_ID ],\r\n\t\tcallbacks: {\r\n\t\t  // Avoid redirects after sign-in.\r\n\t\t  signInSuccessWithAuthResult: () => false\r\n\t\t}\r\n\t};\r\n \r\n\tuseEffect(() => {\r\n\t\tlet valores = {\r\n\t\t\tnombre: '',\r\n\t\t\tapellido: '',\r\n\t\t\temail: '',\r\n\t\t\tcontrasena: '',\r\n\t\t\timagen: ''\r\n\t\t};\r\n\t\tfunction onAuthStateChange() {\r\n\t\t\treturn firebase.auth().onAuthStateChanged(async (user) => {\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\tconst displayname = user.displayName.split(' ');\r\n\t\t\t\t\tvalores = {\r\n\t\t\t\t\t\tnombre: displayname[0],\r\n\t\t\t\t\t\tapellido: displayname[1],\r\n\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\timagen: user.photoURL\r\n\t\t\t\t\t};\r\n\t\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.post('/cliente/auth/firebase/', valores)\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t//Usuario creado correctamente\r\n\t\t\t\t\t\t\tsetUser(!!user);\r\n\t\t\t\t\t\t\tconst token = res.data.token;\r\n\t\t\t\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\t\t\t\tif (vista) {\r\n\t\t\t\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\t\t\t\twindow.location.href = `${vista}`\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\twindow.location.href = '/'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tif(err.response){\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetUser(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tonAuthStateChange();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t{user ? (\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<div>Signed In!</div>\r\n\t\t\t\t</span>\r\n\t\t\t) : (\r\n\t\t\t\t<StyledFirebaseAuth uiCallback={ui => ui.disableAutoSignIn()} uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Firebase;\r\n","import React, { useContext, useEffect } from 'react'\r\nimport Registro from '../Registro/registro'\r\nimport Login from '../Login/login'\r\nimport Firebase from '../../../components/Firebase/firebase'\r\nimport { Tabs, Divider } from 'antd'\r\nimport './entrar.scss'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { MenuContext } from '../../../context/carritoContext'\r\nimport { makeStyles } from '@material-ui/styles'\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Entrar(props) {\r\n    const token = localStorage.getItem('token')\r\n    const { colores } = useContext(MenuContext);\r\n\r\n    useEffect( () => {\r\n        if(token){\r\n            props.history.push('/')\r\n        }\r\n    })\r\n\r\n    const useStyles = makeStyles({\r\n\t\ttext: {\r\n\t\t\tcolor: colores.bodyPage.text\r\n\t\t}\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n    return(\r\n        <div>\r\n            <p className={\"font-descrip text-center mb-4 mt-4 \" + classes.text}>\r\n                Si aun no tienes cuenta regístrate dando click en <strong>Crear cuenta</strong>\r\n            </p>\r\n            <div className=\"tabs\">\r\n                <Tabs centered className=\" shadow col-12 col-lg-4 bg-white rounded tabs-colors\" defaultActiveKey=\"1\">\r\n                    <TabPane className=\"tab-color\" tab=\"Iniciar Sesión\" key=\"1\">\r\n                        <div className=\"mt-3\">\r\n                            <Login />\r\n                        </div>\r\n                        <Divider />\r\n                        <div>\r\n                            <p className=\"font-descrip\">Accede con tu cuenta de Google o Facebook.</p>\r\n                            <Firebase />\r\n                        </div>\r\n                    </TabPane>\r\n                    <TabPane className=\"tab-color\" tab=\"Crear cuenta\" key=\"2\">\r\n                        <div className=\"mt-3\">\r\n                            <Registro />\r\n                        </div>\r\n                    </TabPane>\r\n                </Tabs>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Entrar)","import React, { createContext, useState } from \"react\"\r\n\r\nexport const CarritoContext = createContext()\r\n\r\nexport const CarritoProvider = ({ children }) => {\r\n    const [ activador, setActivador ] = useState(true);\r\n    const [ validacion, setValidacion ] = useState(false);\r\n\r\n  return (\r\n    <CarritoContext.Provider value={{activador, setActivador, validacion, setValidacion}}>\r\n      {children}\r\n    </CarritoContext.Provider>\r\n  );\r\n};","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarPedidoCarrito(idcliente, token) {\r\n\t/* idcliente, idproducto, categoria, cantidad, talla, precio, total, token */\r\n\tconst res = await clienteAxios\r\n        .get(`/carrito/${idcliente}`, {\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n\t\t})\r\n\t\r\n\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\tif(res.idarticulo.activo === false){\r\n            return [];\r\n        }else if(res.idarticulo.eliminado && res.idarticulo.eliminado === true){\r\n            return [];\r\n        }else{\r\n            return res;\r\n        }\r\n\t});\r\n\r\n\tvar carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\r\n\tvar pedido = [];\r\n\r\n\tcarrito.forEach((carrito) => {\r\n\t\tconst medida = carrito.medida.map((res) => {\r\n\t\t\tif (res.talla) {\r\n\t\t\t\treturn res.talla;\r\n\t\t\t} else if (res.numero) {\r\n\t\t\t\treturn res.numero;\r\n            }\r\n            return null;\r\n        });\r\n\t\tvar precio;\r\n\t\t\r\n        if(!carrito.promocion){\r\n            precio = carrito.idarticulo.precio\r\n        }else{\r\n            precio = carrito.promocion.precioPromocion\r\n        }\r\n\r\n\t\tswitch (carrito.idarticulo.tipoCategoria) {\r\n\t\t\tcase 'Ropa':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\ttalla: medida[0],\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Calzado':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\tnumero: medida[0],\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Otros':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n        }\r\n\t});\r\n\r\n\tvar subtotal = 0;\r\n\tvar total = 0;\r\n\r\n\tcarrito.forEach((res) => {\r\n\t\tif(res.promocion){\r\n\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad\r\n\t\t}else{\r\n\t\t\tsubtotal += res.idarticulo.precio * res.cantidad\r\n\t\t}\r\n\t\ttotal = subtotal;\r\n\t});\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso',\r\n\t\t\t\tcarrito: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { notification, Modal, Select, Avatar, List, Button } from 'antd';\r\n/* import { ShoppingCartOutlined, TagsOutlined, BellOutlined, WhatsAppOutlined } from '@ant-design/icons'; */\r\nimport aws from '../../../../config/aws';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\n/* import DatosCliente from '../../Vista_Producto/subs/datos_cliente';\r\n */\r\nconst { Option } = Select;\r\n\r\nexport default function ApartadoCarrito(props) {\r\n\tconst { cliente, token } = props;\r\n\tconst [ visible, setVisible ] = props.modal;\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ apartadoMultiple, setApartadoMultiple ] = useState([]);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('REGOGIDO');\r\n\r\n\tconst error = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCarrito = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${cliente._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst apartadoMultiple = [];\r\n\t\t\t\tconst apartadoMultipleCompleto = [];\r\n\t\t\t\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\t\t\t\tif (res.idarticulo.activo === false) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t} else if (res.idarticulo.eliminado && res.idarticulo.eliminado === true) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tconst carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\r\n\t\t\t\tcarrito.forEach((carrito) => {\r\n\t\t\t\t\tconst medida = carrito.medida.map((res) => {\r\n\t\t\t\t\t\tif (res.talla) {\r\n\t\t\t\t\t\t\treturn res.talla;\r\n\t\t\t\t\t\t} else if (res.numero) {\r\n\t\t\t\t\t\t\treturn res.numero;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar precio;\r\n\r\n\t\t\t\t\tif (!carrito.promocion) {\r\n\t\t\t\t\t\tprecio = carrito.idarticulo.precio;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tprecio = carrito.promocion.precioPromocion;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tswitch (carrito.idarticulo.tipoCategoria) {\r\n\t\t\t\t\t\tcase 'Ropa':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { talla: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { talla: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Calzado':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { numero: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { numero: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Otros':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar subtotal = 0;\r\n\t\t\t\tvar total = 0;\r\n\r\n\t\t\t\tcarrito.forEach((res) => {\r\n\t\t\t\t\tif (res.promocion) {\r\n\t\t\t\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsubtotal += res.idarticulo.precio * res.cantidad;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttotal = subtotal;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetApartadoMultiple(apartadoMultiple);\r\n\t\t\t\tsetProducto(apartadoMultipleCompleto);\r\n\t\t\t\tsetTotal(total);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst apartarCarrito = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/apartado/multiple',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: cliente._id,\r\n\t\t\t\t\tapartadoMultiple: apartadoMultiple,\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEnvio\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\twindow.location.href = '/pedidos';\r\n\t\t\t\t}, 1000);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\tconst handleOk = () => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetVisible(false);\r\n\t\t\tapartarCarrito();\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (visible) {\r\n\t\t\t\tobtenerCarrito();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ visible ]\r\n\t);\r\n\r\n\tconst articulos = producto.map((res, index) => {\r\n\t\treturn (\r\n\t\t\t<List.Item key={index} className=\"row\">\r\n\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t<Avatar size={64} src={aws + res.producto.imagen} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t<h5>{res.producto.nombre}</h5>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t<h6>Cantidad: {res.cantidad}</h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{res.medida ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t{res.medida.numero ? (\r\n\t\t\t\t\t\t\t\t\t<h6>Talla: {res.medida.numero}</h6>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h6>Talla: {res.medida.talla}</h6>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(res.precio)}</h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</List.Item>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tstyle={{ top: 20 }}\r\n\t\t\ttitle=\"Ordenar para retirar en restaurant\"\r\n\t\t\tvisible={visible}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\tfooter={null}\r\n\t\t\twidth={700}\r\n\t\t>\r\n\t\t\t<List>{articulos}</List>\r\n\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t<h6 className=\"mr-2\">Ordenado por:</h6>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<b>{cliente.nombre}</b>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t<h4>Total: ${formatoMexico(total)}</h4>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-end align-items-center mt-1\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"color-boton color-font-boton\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tstyle={{ width: 170 }}\r\n\t\t\t\t\tonClick={() => handleOk()}\r\n\t\t\t\t>\r\n\t\t\t\t\tOrdenar\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { message } from 'antd';\r\n\r\nexport async function actualizarCantidad(cliente, articulo, categoria, cantidad, medida, token) {\r\n    var datos = {};\r\n\tswitch (categoria) {\r\n\t\tcase 'Otros':\r\n            datos = {\r\n                cantidad: cantidad\r\n            }\r\n\t\t\tbreak;\r\n\t\tcase 'Ropa':\r\n            datos = {\r\n                cantidad: cantidad,\r\n                talla: medida\r\n            }\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n            datos = {\r\n                cantidad: cantidad,\r\n                numero: medida\r\n            }\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.put(`/carrito/${cliente}/articulo/${articulo}`, datos, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n            message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((err) => {\r\n        });\r\n        return true;\r\n}\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification, message } from 'antd';\r\n\r\nexport async function AgregarPedido(idcliente, idproducto, categoria, cantidad, talla, precio, total, token) {\r\n\tvar pedido = [];\r\n\r\n\tconst medida = talla.map((res) => {\r\n\t\tif (res.talla) {\r\n\t\t\treturn res.talla;\r\n\t\t} else if (res.numero) {\r\n\t\t\treturn res.numero;\r\n\t\t}\r\n\t\treturn null;\r\n\t});\r\n\r\n\tswitch (categoria) {\r\n\t\tcase 'Ropa':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\ttalla: medida[0],\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tnumero: medida[0],\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tcase 'Otros':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport async function AgregarApartado(idcliente, idproducto, cantidad, precio, talla, tipoEntrega, token, categoria) {\r\n\tvar apartado = [];\r\n\tconst medida = talla.map((res) => {\r\n\t\tif (res.talla) {\r\n\t\t\treturn res.talla;\r\n\t\t} else if (res.numero) {\r\n\t\t\treturn res.numero;\r\n\t\t}\r\n\t\treturn null\r\n\t});\r\n\tswitch (categoria) {\r\n\t\tcase 'Ropa':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\tmedida: [ { talla: medida[0] } ],\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\tmedida: [ { numero: medida[0] } ],\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'Otros':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(`/apartado/nuevo/${idcliente}`, apartado, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport async function EliminarArticuloCarrito(idcliente, articulo, token) {\r\n\tawait clienteAxios\r\n\t\t.delete(`/carrito/${idcliente}/articulo/${articulo}`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\treturn true;\r\n}\r\n","import React, { useState } from 'react';\r\nimport { notification, Modal, Select, Avatar, List, Button } from 'antd';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport { AgregarApartado } from './services/consultas_individuales';\r\n/* import DatosCliente from '../Vista_Producto/subs/datos_cliente'; */\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function ModalApartado(props) {\r\n\tconst [ visible, setVisible ] = props.visible;\r\n\tconst { carrito, cliente, token } = props;\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('REGOGIDO');\r\n\r\n\tconst handleOk = (e) => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tlet precio;\r\n\t\t\tif (carrito.promocion && carrito.promocion.length !== 0) {\r\n\t\t\t\tprecio = carrito.promocion.precioPromocion;\r\n\t\t\t} else {\r\n\t\t\t\tprecio = carrito.idarticulo.precio;\r\n\t\t\t}\r\n\t\t\tAgregarApartado(\r\n\t\t\t\tcliente._id,\r\n\t\t\t\tcarrito.idarticulo._id,\r\n\t\t\t\tcarrito.cantidad,\r\n\t\t\t\tprecio,\r\n\t\t\t\tcarrito.medida,\r\n\t\t\t\ttipoEnvio,\r\n\t\t\t\ttoken,\r\n\t\t\t\tcarrito.idarticulo.tipoCategoria\r\n\t\t\t);\r\n\t\t\tsetVisible(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tstyle={{ top: 20 }}\r\n\t\t\ttitle=\"Ordenar para retirar en restaurant\"\r\n\t\t\tvisible={visible}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\t/* cancelText=\"Cancelar\"\r\n\t\t\tokText={false}\r\n\t\t\tonOk={false} */\r\n\t\t\tfooter={false}\r\n\t\t\twidth={700}\r\n\t\t>\r\n\t\t\t<List>\r\n\t\t\t\t<List.Item className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t\t<Avatar size={64} src={aws + carrito.idarticulo.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t<h5>{carrito.idarticulo.nombre}</h5>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t<h6>Cantidad: {carrito.cantidad}</h6>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{carrito.medida.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t{carrito.medida.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\tif (res.talla) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Talla: {res.talla}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t} else if (res.numero) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Talla: {res.numero}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(carrito.idarticulo.precio)}</h6>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(carrito.promocion.precioPromocion)}</h6>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t<h6 className=\"mr-2\">Ordenado por:</h6>\r\n\t\t\t\t\t\t\t<p><b>{cliente.nombre}</b></p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</List.Item>\r\n\t\t\t</List>\r\n\r\n\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t<h4>Total: ${formatoMexico(carrito.idarticulo.precio * carrito.cantidad)}</h4>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4>Total: ${formatoMexico(carrito.promocion.precioPromocion * carrito.cantidad)}</h4>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-end align-items-center mt-1\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"color-boton color-font-boton\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tstyle={{ width: 170 }}\r\n\t\t\t\t\tonClick={() => handleOk()}\r\n\t\t\t\t>\r\n\t\t\t\t\tOrdenar\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","\r\nexport function verificarArticulos(carrito) {\r\n\tif (carrito.idarticulo.tallas.length !== 0) {\r\n\t\tconst talla = carrito.idarticulo.tallas.map((tallas) => {\r\n\t\t\tif (carrito.medida && carrito.medida[0].talla === tallas.talla) {\r\n\t\t\t\treturn carrito.medida[0].talla;\r\n\t\t\t}else {\r\n                return null\r\n            }\r\n        });\r\n        return talla.filter((talla) => talla !== null);\r\n\t} else if (carrito.idarticulo.numeros.length !== 0) {\r\n\t\tconst numero = carrito.idarticulo.numeros.map((numeros) => {\r\n\t\t\tif (carrito.medida && carrito.medida[0].numero === numeros.numero) {\r\n\t\t\t\treturn carrito.medida[0].numero\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n        });\r\n        return numero.filter((talla) => talla !== null);\r\n\t}\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './carrito.scss';\r\nimport { List, InputNumber, Button, Select, Form, Tag, Modal } from 'antd';\r\nimport { ShoppingCartOutlined, HomeOutlined,AlertOutlined, ExportOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje, verificarDiasLaborales } from '../../../config/reuserFunction';\r\nimport { CarritoContext } from './context_carrito/context-carrito';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\nimport { actualizarCantidad } from './services/consultasCarrito';\r\nimport { obtenerSubtotal } from './services/obtenerStock';\r\nimport { AgregarPedido, EliminarArticuloCarrito } from './services/consultas_individuales';\r\nimport ModalApartado from './modal_apartado';\r\nimport aws from '../../../config/aws';\r\nimport { verificarArticulos } from './verificarArticulos';\r\n\r\nconst { Option } = Select;\r\nconst styles = { fontSize: 20 };\r\nconst { confirm } = Modal;\r\n\r\nfunction ListaCarrito(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ medida, setMedida ] = useState([]);\r\n\tconst [ cantidad, setCantidad ] = useState();\r\n\tconst [ disponible, setDisponible ] = useState('');\r\n\tconst { carrito, cliente, token } = props;\r\n\tconst [ medidaDisponible, setMedidaDisponible ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst { activador, setActivador, setValidacion } = useContext(CarritoContext);\r\n\tconst { datosContx } = useContext(MenuContext);\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ precio, setPrecio ] = useState(0);\r\n\tconst [ eliminado, setEliminado ] = useState(false);\r\n\tconst [ laboral, setLaboral ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\t/* verificar dia No laboral */\r\n\t\tsetLaboral(verificarDiasLaborales(datosContx));\r\n\t}, [datosContx])\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetDisponible('');\r\n\t\t\tsetCantidad(carrito.cantidad);\r\n\t\t\tverificar();\r\n\r\n\t\t\tif (carrito.idarticulo.activo === false) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tsetDisponible('disponibilidad-carrito');\r\n\t\t\t} else if (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\tsetDisponible('disponibilidad-carrito');\r\n\t\t\t\tsetEliminado(true);\r\n\t\t\t}\r\n\r\n\t\t\tif (carrito.promocion) {\r\n\t\t\t\tsetPrecio(carrito.promocion.precioPromocion);\r\n\t\t\t} else {\r\n\t\t\t\tsetPrecio(carrito.idarticulo.precio);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ carrito ]\r\n\t);\r\n\r\n\tfunction verificar() {\r\n\t\tif (carrito.idarticulo.tallas.length !== 0) {\r\n\t\t\tconst talla = carrito.idarticulo.tallas.filter((tallas) => carrito.medida[0].talla === tallas.talla);\r\n\t\t\tconst tallaCantidad = carrito.idarticulo.tallas.filter(\r\n\t\t\t\t(tallas) => carrito.medida[0].talla === tallas.talla && tallas.cantidad !== 0\r\n\t\t\t);\r\n\t\t\tif (talla.length === 0 || tallaCantidad.length === 0) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tif (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\t\tsetValidacion(false);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetValidacion(true);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetMedida([ talla[0].talla, tallaCantidad[0].cantidad ]);\r\n\t\t\t}\r\n\t\t} else if (carrito.idarticulo.numeros.length !== 0) {\r\n\t\t\tconst numero = carrito.idarticulo.numeros.filter((numeros) => carrito.medida[0].numero === numeros.numero);\r\n\t\t\tconst numeroCantidad = carrito.idarticulo.numeros.filter(\r\n\t\t\t\t(numeros) => carrito.medida[0].numero === numeros.numero && numeros.cantidad !== 0\r\n\t\t\t);\r\n\r\n\t\t\tif (numero.length === 0 || numeroCantidad.length === 0) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tif (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\t\tsetValidacion(false);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetValidacion(true);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetMedida([ numero[0].numero, numeroCantidad[0].cantidad ]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction medidaChange(medida) {\r\n\t\tsetCantidad(carrito.cantidad);\r\n\t\tsetMedida(medida);\r\n\t\tsetValidacion(true);\r\n\t\tsetMedidaDisponible('');\r\n\t\tsetValidateStatus('warning');\r\n\t\tsetMedidaDisponible('Guarda los cambios');\r\n\t}\r\n\tfunction cantidadChange(cantidad) {\r\n\t\tsetCantidad(cantidad);\r\n\t\tif (cantidad !== 0) {\r\n\t\t\tsetValidacion(true);\r\n\t\t\tsetValidateStatus('warning');\r\n\t\t\tsetMedidaDisponible('Guarda los cambios');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction actualizar(articulo, categoria) {\r\n\t\tif (actualizarCantidad(cliente._id, articulo, categoria, cantidad, medida[0], token)) {\r\n\t\t\tsetActivador(!activador);\r\n\t\t\tsetValidacion(false);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetMedidaDisponible('');\r\n\t\t}\r\n\t}\r\n\tfunction comprar() {\r\n\t\tAgregarPedido(\r\n\t\t\tcliente._id,\r\n\t\t\tcarrito.idarticulo._id,\r\n\t\t\tcarrito.idarticulo.tipoCategoria,\r\n\t\t\tcarrito.cantidad,\r\n\t\t\tcarrito.medida,\r\n\t\t\tprecio,\r\n\t\t\tcarrito.subtotal,\r\n\t\t\ttoken\r\n\t\t);\r\n\t}\r\n\r\n\tfunction eliminar() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminar articulo?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\tif (EliminarArticuloCarrito(cliente._id, carrito._id, token)) {\r\n\t\t\t\t\tsetActivador(!activador);\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction apartado() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<List.Item className=\"d-block p-4\" key={carrito._id}>\r\n\t\t\t<div className={`row ${disponible}`}>\r\n\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t<div className=\"contenedor-imagen-vista-carrito\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt=\"articulo producto\"\r\n\t\t\t\t\t\t\tclassName=\"imagen-vista-carrito\"\r\n\t\t\t\t\t\t\tsrc={aws + carrito.idarticulo.imagen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-lg-9\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-8\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Link to={`/vista_producto/${carrito.idarticulo._id}`}>\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"font-carrito\">{carrito.idarticulo.nombre}</h3>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"precio-carrito\">${formatoMexico(carrito.idarticulo.precio)}</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-anterior-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(carrito.idarticulo.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-promocion-carrito mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(carrito.promocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-promocion-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\tcarrito.promocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.precio\r\n\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"d-block d-lg-flex\">\r\n\t\t\t\t\t\t\t\t\t<Tag className=\"font-des-car detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\tCategoria: {carrito.idarticulo.categoria}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t{/* <Tag className=\"font-des-car detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\tGénero: {carrito.idarticulo.genero}\r\n\t\t\t\t\t\t\t\t\t</Tag> */}\r\n\t\t\t\t\t\t\t\t\t{carrito.idarticulo.color && carrito.idarticulo.color !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t<Tag className=\"font-des-car detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\t\tColor: {carrito.idarticulo.color}\r\n\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t{carrito.idarticulo.colorHex && carrito.idarticulo.colorHex !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: carrito.idarticulo.colorHex,\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: 30,\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: 30\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{disponible.length ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulo-disponible font-des-car\">Producto no disponible</p>\r\n\t\t\t\t\t\t\t\t) : eliminado === true ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulo-disponible font-des-car\">Este producto ya no existe</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-4\">\r\n\t\t\t\t\t\t\t<div className=\"justify-content-center\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<Form form={form} initialValues={{ cantidad: carrito.cantidad }} className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito col-6 col-lg-12\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\thelp={medidaDisponible}\r\n\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medida[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={cantidadChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={carrito.idarticulo.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={cantidadChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito-talla col-6 col-lg-12\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={verificarArticulos(carrito)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 90 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={medidaChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.tallas.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled value={res.talla}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : carrito.idarticulo.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.numeros.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled value={res.numero}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option>-</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{/* <Form.Item className=\"inputs-carrito\" />\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Subtotal\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 10 }}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito\"\r\n\t\t\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"color-boton-sec color-font-boton font-des-car\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => actualizar(carrito._id, carrito.idarticulo.tipoCategoria)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tModificar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-vista-carrito font-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(obtenerSubtotal(carrito.cantidad, precio))}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{/* <div className=\"float-right\" /> */}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t{disponible.length !== 0 ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"d-block d-lg-inline font-des-car\" onClick={() => eliminar()}>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={styles} />Eliminar producto\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"row d-flex justify-content-center\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-fonts font-des-car \"\r\n\t\t\t\t\t\t\t\tonClick={() => comprar()}\r\n\t\t\t\t\t\t\t\tdisabled={medidaDisponible !== '' || laboral ? true : false}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AlertOutlined style={styles} />Ordenar individual\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\ttype=\"link\" \r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-fonts font-des-car\" \r\n\t\t\t\t\t\t\t\tonClick={() => eliminar()}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<DeleteOutlined style={styles} />Eliminar producto\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-fonts font-des-car\"\r\n\t\t\t\t\t\t\t\tonClick={() => apartado()}\r\n\t\t\t\t\t\t\t\tdisabled={medidaDisponible !== '' || laboral ? true : false}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<HomeOutlined style={styles} />Recoger individual\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<ModalApartado visible={[ visible, setVisible ]} carrito={carrito} cliente={cliente} token={token} />\r\n\t\t</List.Item>\r\n\t);\r\n}\r\nexport default ListaCarrito;\r\n","\r\nexport function obtenerStockCarrito(carrito){\r\n    var nuevo = carrito.articulos.map((res) => {\r\n        if(res.idarticulo.activo === false){\r\n            return [];\r\n        }else if (res.idarticulo.eliminado && res.idarticulo.eliminado === true){\r\n            return [];\r\n        }else{\r\n            return res;\r\n        }\r\n    });\r\n    return nuevo\r\n}\r\n\r\nexport function obtenerSubtotal(cantidad, precio){\r\n    const subtotal = precio * cantidad\r\n   return subtotal;\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './carrito.scss';\r\nimport { List, Button, message, Result, Space } from 'antd';\r\nimport {  AlertOutlined,HomeOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, verificarDiasLaborales } from '../../../config/reuserFunction';\r\nimport { CarritoContext } from './context_carrito/context-carrito';\r\nimport { MenuContext } from '../../../context/carritoContext.js';\r\nimport { obtenerStockCarrito } from './services/obtenerStock';\r\nimport { AgregarPedidoCarrito } from './services/pedido_carrito';\r\nimport ApartadoCarrito from './services/apartado_carrito';\r\nimport ListaCarrito from './lista_carrito';\r\nimport Spin from '../../../components/Spin';\r\n\r\nconst styles = { fontSize: 20 };\r\n\r\nfunction MostrarDatosProductos(props) {\r\n\tconst [ carrito, setCarrito ] = useState([]);\r\n\tconst [ cliente, setCliente ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ nuevoCarrito, setNuevoCarrito ] = useState([]);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst { activador, setActivador, validacion } = useContext(CarritoContext);\r\n\tconst { datosContx } = useContext(MenuContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ laboral, setLaboral ] = useState(false);\r\n\r\n\t//toma del token para el usuario\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerDatosCarrito() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCliente(res.data.cliente);\r\n\t\t\t\tsetCarrito(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\t/* verificar dia No laboral */\r\n\t\tsetLaboral(verificarDiasLaborales(datosContx));\r\n\t}, [datosContx])\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else {\r\n\t\t\t\tobtenerDatosCarrito();\r\n\t\t\t\tsetActivador(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ activador ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (carrito.articulos) {\r\n\t\t\t\tvar nuevo = obtenerStockCarrito(carrito);\r\n\t\t\t\tconst result = nuevo.filter((arr) => arr.length !== 0);\r\n\t\t\t\tsetNuevoCarrito(result);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ carrito ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tvar subtotal = 0;\r\n\t\t\tvar total = 0;\r\n\r\n\t\t\tnuevoCarrito.forEach((res) => {\r\n\t\t\t\tif (res.promocion) {\r\n\t\t\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsubtotal += res.idarticulo.precio * res.cantidad;\r\n\t\t\t\t}\r\n\t\t\t\ttotal = subtotal;\r\n\t\t\t\tsetTotal(total);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ nuevoCarrito ]\r\n\t);\r\n\r\n\tfunction crearPedido() {\r\n\t\tif (validacion) {\r\n\t\t\tmessage.error('Aun no se ha modificado la cantidad');\r\n\t\t} else {\r\n\t\t\tAgregarPedidoCarrito(cliente._id, token);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction apartarCarrito() {\r\n\t\tif (validacion) {\r\n\t\t\tmessage.error('Aun no se ha modificado la cantidad');\r\n\t\t} else {\r\n\t\t\tsetVisible(true);\r\n\t\t}\r\n\t}\r\n\r\n\tif (carrito.length === 0 || carrito.articulos.length === 0) {\r\n\t\treturn (\r\n\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t<Result\r\n\t\t\t\t\tclassName=\"mt-5\"\r\n\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\ttitle=\"Aun no tienes articulos en tu carrito\"\r\n\t\t\t\t\textra={<Link to=\"/productos\">¡Empieza a comprar ahora!</Link>}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<h1 className=\"principal navbar-menu-general font-carrito\">Bievenido a tu pedido {cliente.nombre}</h1>\r\n\t\t\t\t<List\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tdataSource={carrito.articulos}\r\n\t\t\t\t\trenderItem={(carrito) => <ListaCarrito carrito={carrito} cliente={cliente} token={token} />}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"row mt-5 justify-content-center p-5\">\r\n\t\t\t\t\t<div className=\"col-lg-5 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-sec-car\" style={{display: 'inline' }}>Cantidad de productos: </p>\r\n\t\t\t\t\t\t\t\t<p className=\"font-sec-car\" style={{ display: 'inline', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{nuevoCarrito.length}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p  className=\"font-sec-car\" style={{ display: 'inline' }}>Total: </p>\r\n\t\t\t\t\t\t\t\t<p  className=\"font-sec-car\" style={{ display: 'inline', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t${total !== 0 ? formatoMexico(total) : 0}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-5 d-flex justify-content-center align-items-center mt-4\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"p-1\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-boton color-font-boton font-des-car \"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250, textAlign: 'center' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => crearPedido()}\r\n\t\t\t\t\t\t\t\t\tdisabled={laboral}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<AlertOutlined style={styles} /> Ordenar ahora\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"p-1\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-boton color-font-boton font-des-car\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250, textAlign: 'center' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => apartarCarrito()}\r\n\t\t\t\t\t\t\t\t\tdisabled={laboral}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<HomeOutlined style={styles} /> Recoger en restaurante\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<ApartadoCarrito cliente={cliente} token={token} modal={[ visible, setVisible ]} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(MostrarDatosProductos);\r\n","  import React, { useContext } from 'react';\r\nimport aws from '../../../../config/aws';\r\n/* import DOMPurify from 'dompurify'; */\r\nimport { Card } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './card_producto.scss';\r\n/* import { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction'; */\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport DOMPurify from 'dompurify';\r\nimport { agregarPorcentaje, formatoMexico } from '../../../../config/reuserFunction';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nexport default function Card_Producto(props) {\r\n\tconst { productos } = props;\r\n\tconst { colores } = useContext(MenuContext);\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.bodyPage.card.background,\r\n\t\t\tborder: \"none\",\r\n\t\t\t\"& .text-color\": {\r\n\t\t\t\tcolor: colores.bodyPage.card.text\r\n\t\t\t}\r\n\t\t},\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col-prin col-lg-2 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card.Grid hoverable style={gridStyle} className={\"contenedor-card-producto-principal \" + classes.background}>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName={\"contenedor-card-body \" + classes.background}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"oferta-frente\">\r\n\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-principal\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t\t\t<p className=\" titulo-producto text-color\">{productos.productoPromocion.nombre}</p>\r\n\t\t\t\t\t\t\t\t{/* <div\r\n\t\t\t\t\t\t\t\t\tclassName=\"font-peque description\"\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.productoPromocion.descripcion)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/* <div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"font-peque precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<h3 className=\"font-prin precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<p className=\"font-peque porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>  */}\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card.Grid>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col-prin col-lg-2 col-6 centrar\" style={{padding: '1%', margin: '0%'}}>\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card.Grid hoverable style={gridStyle} className={\"contenedor-card-producto-principal \" + classes.background}>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName={\"contenedor-card-body \" + classes.background}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"oferta-frente\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>-{agregarPorcentaje(promo.precioPromocion, productos.precio)}%</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-principal\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-8 col-lg-8 contenedor-titulos-productos\" style={{padding: '1%', margin: '0%'}}>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-producto-menu text-color\">{productos.nombre}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-4 col-lg-4 cont-precios-frente \" style={{padding: '1%', margin: '0%'}}>\r\n\t\t\t\t\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"precio-prin precio-rebaja \">${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-peque precio-producto mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"font-prin precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tstyle={{padding: '0%', margin: '0%'}}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 col-lg-12 font-descrip-card-frente text-color mt-1\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<p \r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{padding: '4%', margin: '0%'}}\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"description-menu text-justify\"\r\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.descripcion)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card.Grid>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result, Row } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './Cards_Normales/card_producto.scss';\r\nimport Card_Producto from './Cards_Normales/card_producto';\r\nimport Spin from '../../../components/Spin';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nfunction ConsultaProductos(props) {\r\n\tconst { location, history } = props.propiedades;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst { colores } = useContext(MenuContext);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(40, page);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tasync function obtenerProductos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.bodyPage.background\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: colores.bodyPage.text\r\n\t\t}\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n\tconst render = productos.map((productos) => {\r\n\t\treturn (<Card_Producto key={productos._id} productos={productos} />);\r\n\t});\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className={\"contenedor-home-background \" + classes.background}>\r\n\t\t\t\t<div className=\"row float-left\">\r\n\t\t\t\t\t<p className={\"font-prin mb-0 text-center \" + classes.text}>¡Conoce nuestro Menú!</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{render}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Pagination\r\n\t\t\t\tblogs={productosPaginacion}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 40}\r\n\t\t\t/>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default ConsultaProductos;\r\n","import React from 'react';\r\nimport ConsultaProductos from './consulta_productos';\r\n\r\nfunction Productos(props) {\r\n\treturn (\t\r\n\t\t<ConsultaProductos propiedades={props} />\r\n\t);\r\n}\r\n\r\nexport default Productos;\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport queryString from 'query-string';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nimport { List } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport DOMPurify from 'dompurify';\r\nimport './BlogList.scss';\r\n\r\nexport default function BlogList(props) {\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ blogs, setBlogs ] = useState([]);\r\n\r\n\tfunction getBlogsApi(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/blog?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetBlogs(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error del servidor',\r\n\t\t\t\t\tdescription: 'Paso algo en el servidor, al parecer la conexion esta fallando.'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tgetBlogsApi(10, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div id=\"blog\" className=\"container\">\r\n\t\t\t\t<p className=\"font-prin text-center p-3\">¡Nuestro Blog!</p>\r\n\t\t\t\t<div className=\"container-fluid bg-white shadow-lg\">\r\n\t\t\t\t\t<div id=\"cards\">\r\n\t\t\t\t\t\t<BlogsList2 blogs={blogs} setLoading={setLoading} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Pagination blogs={blogs} location={location} history={history} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction BlogsList2(props) {\r\n\tconst { blogs } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<List\r\n\t\t\t\tclassName=\"p-3\"\r\n\t\t\t\titemLayout=\"vertical\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tdataSource={blogs.docs}\r\n\t\t\t\trenderItem={(blog) => <Blog blog={blog} />}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Blog(props) {\r\n\tconst { blog } = props;\r\n\r\n\treturn (\r\n\t\t<Link to={`/blog/${blog.url}`} className=\"blogList\">\r\n\t\t\t<List.Item\r\n\t\t\t\tclassName=\"blogList__lista list-hover  mb-5\"\r\n\t\t\t\tkey={blog.nombre}\r\n\t\t\t\textra={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-blog-list\">\r\n\t\t\t\t\t\t<img className=\"imagen-blog-list\" alt={blog.nombre} src={aws + blog.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\ttitle={<p className=\"blogList__title titulo-blog\">{blog.nombre}</p>}\r\n\t\t\t\t\tdescription={<p className=\"blogList__author\">Autor: {blog.administrador}</p>}\r\n\t\t\t\t/>\r\n\t\t\t\t{\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={'blogList__content-description m-0'}\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(blog.descripcion) }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p>Leer mas</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</List.Item>\r\n\t\t</Link>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport Spin from '../../../../components/Spin';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\n\r\nimport './ShowBlog.scss';\r\n\r\nexport default function ShowBlog(props) {\r\n\tconst { url } = props;\r\n\tconst [ infoBlog, setInfoBlog ] = useState({});\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tasync function ObtenerBlog() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/blog/${url}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetInfoBlog(res.data.post);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tObtenerBlog();\r\n\t\t},\r\n\t\t[ url ]\r\n\t);\r\n\r\n\t/* var styleDivImagen = {\r\n\t\theight: '400px',\r\n\t\tbackgroundImage: `url(https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${infoBlog.imagen})`,\r\n\t\tbackgroundSize: 'cover cover',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundPosition: '50% 50%'\r\n\t}; */\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"info-blog bg-white shadow\">\r\n\t\t\t\t{/* <div className=\"info-blog__div-imagen\" style={styleDivImagen} /> */}\r\n\t\t\t\t<div className=\"contenedor-imagen-blog-principal\">\r\n\t\t\t\t\t<img className=\"imagen-blog-principal\" alt=\"imagen blog principal\" src={aws+infoBlog.imagen} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"p-5\">\r\n\t\t\t\t\t<h1 className=\"info-blog__titulo m-3\"> {infoBlog.nombre} </h1>\r\n\t\t\t\t\t<div className=\"info-blog__fecha m-3\"> {formatoFecha(infoBlog.createdAt)} </div>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"info-blog__descripcion\"\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: infoBlog.descripcion }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport BlogList from './services/BlogList'\r\nimport ShowBlog from './services/ShowBlog';\r\n\r\nimport {useParams} from 'react-router-dom'\r\n    \r\nexport default function Blog(props) {\r\n\r\n    const {location,history} = props;\r\n    const {url} = useParams();\r\n\r\n\r\n\r\n    return(\r\n        <div>\r\n            {url ? (\r\n                <ShowBlog  url={url} />\r\n            ):(\r\n                <BlogList location={location} history={history} />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Tag, Divider, Card, Result } from 'antd';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBus } from '@fortawesome/free-solid-svg-icons';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Meta } = Card;\r\n\r\nconst DetallesPedido = (props) => {\r\n\tconst { detallePedido } = props;\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles de Orden</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID de Orden: </h6>\r\n\t\t\t\t\t<p className=\"\"> {detallePedido._id} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de Orden:</h6>\r\n\t\t\t\t\t<p className=\"\"> {formatoFecha(detallePedido.createdAt)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">No. de productos:</h6>\r\n\t\t\t\t\t<p className=\"\">x {detallePedido.pedido.length} </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estatus de Orden:</h6>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\tclassName=\"my-2\"\r\n\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\tdetallePedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t) : detallePedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t) : detallePedido.estado_pedido === 'Tomado' ? (\r\n\t\t\t\t\t\t\t\t\t\t'#F26F48'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{detallePedido.estado_pedido}\r\n\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t\t\t\t<p className=\"text-danger my-2\">Pedido cancelado</p>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<p className=\"text-success my-2\">Pedido realizado</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-2\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t\t<p className=\"\"> $ {formatoMexico(detallePedido.total)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-2\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Tipo de pago:</h6>\r\n\t\t\t\t\t<p className=\"\"> {detallePedido.tipo_pago} </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Divider className=\"text-center\">Productos de Orden</Divider>\r\n\t\t\t<div className=\"row d-flex justify-content-center\">{detallePedido.pedido.map((producto) => <Producto key={producto._id} producto={producto} />)}</div>\r\n\r\n\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t''\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider className=\"text-center\">Seguimiento de pedido</Divider>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faBus} style={{ fontSize: '50px' }} />}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección de envio:</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{/* {' '} */}\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tdetallePedido.direccion ? (\r\n\t\t\t\t\t\t\t\t\t\t\t`${detallePedido.direccion.calle_numero} Colonia ${detallePedido.direccion.colonia} \r\n\t\t\t\t\t\t\t\t\t\t\t${detallePedido.direccion.ciudad} ${detallePedido.direccion.estado} \r\n\t\t\t\t\t\t\t\t\t\t\t${detallePedido.direccion.pais}.`\r\n\t\t\t\t\t\t\t\t\t\t) : ( \r\n\t\t\t\t\t\t\t\t\t\t\t`${detallePedido.cliente.direccion[0].calle_numero} Colonia ${detallePedido.cliente.direccion[0].colonia} \r\n\t\t\t\t\t\t\t\t\t\t\t${detallePedido.cliente.direccion[0].ciudad} ${detallePedido.cliente.direccion[0].estado} \r\n\t\t\t\t\t\t\t\t\t\t\t${detallePedido.cliente.direccion[0].pais}.`\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tdetallePedido.direccion ? (\r\n\t\t\t\t\t\t\t\t\t\t\t`Referencia: ${detallePedido.direccion.entre_calles}. CP: ${detallePedido.direccion.cp}`\r\n\t\t\t\t\t\t\t\t\t\t) : ( \r\n\t\t\t\t\t\t\t\t\t\t\t`Referencia: ${detallePedido.cliente.direccion[0].entre_calles}. \r\n\t\t\t\t\t\t\t\t\t\t\t CP: ${detallePedido.cliente.direccion[0].cp}`\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Código de seguimiento: </span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={`${detallePedido.url}${detallePedido.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t{detallePedido.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos h4 mt-3\">Total: $ {formatoMexico(detallePedido.total)}</h6>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction Producto(props) {\r\n\tconst { producto } = props;\r\n\r\n\treturn (\r\n\t\t<div key={producto.producto._id} className=\"col-lg-4 col-sm-12 mb-3\">\r\n\t\t\t<Card\r\n\t\t\t\t/* hoverable */\r\n\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\tcover={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-pedido\">\r\n\t\t\t\t\t\t<img alt=\"example\" className=\"imagen-detalle-pedido\" src={aws + producto.producto.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\ttitle={producto.producto.nombre}\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h6 className=\"precio-rebaja\">Cantidad de articulos: {producto.cantidad}</h6>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t{producto.talla ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.talla}</h2>\r\n\t\t\t\t\t\t\t\t) : producto.numero ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.numero}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DetallesPedido;\r\n","import React from 'react';\r\nimport { Tag, Divider, Col, Card, Result } from 'antd';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBus } from '@fortawesome/free-solid-svg-icons';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Meta } = Card;\r\n\r\nexport default function detalleApartado(props) {\r\n\tconst { detalleApartado } = props;\r\n\tlet multiple;\r\n\r\n\tif (detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0) {\r\n\t\tmultiple = detalleApartado.apartadoMultiple.map((info) => {\r\n\t\t\tconst producto = detalleApartado.productosMultiple.map((producto) => {\r\n\t\t\t\tif (info.producto === producto._id) {\r\n\t\t\t\t\treturn <ProductosMultiple key={producto._id} producto={producto} info={info} />;\r\n\t\t\t\t}\r\n\t\t\t\treturn (<div key={producto._id} />)\r\n\t\t\t});\r\n\t\t\treturn producto;\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles de orden</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID de Orden: </h6>\r\n\t\t\t\t\t<p className=\"\"> {detalleApartado._id} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de Orden:</h6>\r\n\t\t\t\t\t<p className=\"\"> {formatoFecha(detalleApartado.createdAt)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estatus:</h6>\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\tdetalleApartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detalleApartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'Orden aceptada'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'Orden en proceso'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'Orden enviada'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'Orden entregada'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'Orden cancelada'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Tipo de entrega:</h6>\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\tcolor={detalleApartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Paqueteria:</h6>\r\n\t\t\t\t\t\t<p> {detalleApartado.paqueteria} </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envio:</h6>\r\n\t\t\t\t\t\t<p> {detalleApartado.fecha_envio} </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t<Divider className=\"text-center\">Productos de Orden</Divider>\r\n\r\n\t\t\t{detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0 ? (\r\n\t\t\t\t<div className=\"row d-flex justify-content-center\">{multiple}</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"row d-flex justify-content-center\">\r\n\t\t\t\t\t<Producto producto={detalleApartado} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider className=\"text-center\">Seguimiento de  Orden</Divider>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faBus} style={{ fontSize: '50px' }} />}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección de envio:</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`${detalleApartado.cliente.direccion[0].calle_numero} Colonia ${detalleApartado\r\n\t\t\t\t\t\t\t\t\t\t.cliente.direccion[0].colonia} ${detalleApartado.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.ciudad} ${detalleApartado.cliente.direccion[0].estado} ${detalleApartado\r\n\t\t\t\t\t\t\t\t\t\t.cliente.direccion[0].pais}.`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`Referencia: ${detalleApartado.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.entre_calles}. CP: ${detalleApartado.cliente.direccion[0].cp}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Codigó de seguimiento: </span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={`${detalleApartado.url}${detalleApartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t{detalleApartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t\t<div className=\"mt-3 d-flex justify-content-end\">\r\n\t\t\t\t{detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0 ? (\r\n\t\t\t\t\t<h3>Total: $ {formatoMexico(detalleApartado.total)}</h3>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h3>Total: $ {detalleApartado.precio ? formatoMexico(detalleApartado.precio) : formatoMexico(detalleApartado.producto.precio)}</h3>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Producto({ producto }) {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Col span={4} key={producto.producto._id} className=\"col-lg-12 col-sm-12\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\t/* hoverable */\r\n\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\tbodyStyle={{ paddingLeft: 15, paddingRight: 15 }}\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-detalle-apartado\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"example\"\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-detalle-apartado\"\r\n\t\t\t\t\t\t\t\tsrc={aws + producto.producto.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta\r\n\t\t\t\t\t\ttitle={producto.producto.nombre}\r\n\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t{producto.precio ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">${formatoMexico(producto.precio)}</h2>\r\n\t\t\t\t\t\t\t\t) : producto.promocion && producto.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.promocion[0].precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.producto.precio)}\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{producto.medida && producto.medida.length !== 0 ? producto.medida[0].talla ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.medida[0].talla}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.medida[0].numero}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction ProductosMultiple({ producto, info }) {\r\n\treturn (\r\n\t\t<div key={producto._id} className=\"col-lg-4 col-sm-12\">\r\n\t\t\t<Card\r\n\t\t\t\t/* hoverable */\r\n\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\tbodyStyle={{ paddingLeft: 15, paddingRight: 15 }}\r\n\t\t\t\tcover={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-detalle-apartado\">\r\n\t\t\t\t\t\t<img alt=\"example\" className=\"imagen-detalle-apartado\" src={aws + producto.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\ttitle={producto.nombre}\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">${formatoMexico(info.precio)}</h2>\r\n\t\t\t\t\t\t\t{info.medida ? info.medida.talla ? (\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {info.medida.talla}</h2>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {info.medida.numero}</h2>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { Tag, Button, List, Avatar, Tooltip } from 'antd';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport aws from '../../../config/aws';\r\n\r\nexport default function ApartadoMultiple({ apartado, showModal, setDetalleApartado, setElige, deleteApartado }) {\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={apartado._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top color-boton m-2 w-100\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetElige(true);\r\n\t\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tVer mi pedido\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENVIADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'd-none'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'd-flex justify-content-top align-items-top m-2 w-100'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tghost\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar pedido\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t<span className=\"text-primary\"> x {apartado.apartadoMultiple.length}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(apartado.total)} </span>{' '}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t<Tag className=\"\" color={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envío por paquetería' : 'Recoger a sucursal'}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center centrar-avatar\">\r\n\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\tmaxCount={1}\r\n\t\t\t\t\t\t\tsize={80}\r\n\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{apartado.productosMultiple.map((res) => (\r\n\t\t\t\t\t\t\t\t<Tooltip key={res._id} title={res.nombre} placement=\"top\">\r\n\t\t\t\t\t\t\t\t\t<Avatar src={aws + res.imagen} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-primary\"> x {apartado.apartadoMultiple.length}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(apartado.total)} </span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold m-0\">Fecha de apartado:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(apartado.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' && apartado.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Seguimiento:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{apartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${apartado.url}${apartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSeguír envío\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t¡Hola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{apartado.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tapartado.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu orden esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport DetallesPedido from './detalles';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport './pedidos.scss';\r\nimport DetalleApartado from './detalleApartado';\r\nimport { Modal, Tag, Button, List, Result, Tabs, notification, Avatar, Tooltip } from 'antd';\r\nimport { EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport aws from '../../../config/aws';\r\nimport Spin from '../../../components/Spin';\r\nimport ApartadoMultiple from './apartadoMultiple';\r\nimport detalleApartado from './detalleApartado';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { confirm } = Modal;\r\n\r\nexport default function PedidosUsuario(props) {\r\n\tconst [ pedidos, setPedidos ] = useState([]);\r\n\tconst [ apartados, setApartados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ Elige, setElige ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ showInfo, setshowInfo ] = useState(false);\r\n\tconst [ estado, setEstado ] = useState(false);\r\n\tconst { colores } = useContext(MenuContext);\r\n\r\n\t//modal del pedido\r\n\tconst [ detallePedido, setDetallePedido ] = useState({});\r\n\tconst [ detalleApartado, setDetalleApartado ] = useState({});\r\n\r\n\tconst showModal = (e) => {\r\n\t\tsetVisible(e);\r\n\t};\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tconst obtenerPedidos = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetPedidos(res.data);\r\n\t\t\t\t\tsetshowInfo(true);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerApartados() {\r\n\t\t/* setLoading(true); */\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/apartado/cliente/apartados/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetApartados(res.data);\r\n\t\t\t\t\tsetshowInfo(true);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else {\r\n\t\t\t\tobtenerPedidos();\r\n\t\t\t\tobtenerApartados();\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tsetPedidos([]);\r\n\t\t\t\tsetshowInfo(false);\r\n\t\t\t\tsetEstado(false);\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ estado, token, props ]\r\n\t);\r\n\r\n\tconst deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error del servidor',\r\n\t\t\t\t\t\t\tdescription: 'Paso algo en el servidor, al parecer la conexion esta fallando.'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\ttext: {\r\n\t\t\tcolor: colores.bodyPage.text\r\n\t\t}\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<h4 className={\"text-center m-3 \" + classes.text}>Mis Ordenes</h4>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tcentered\r\n\t\t\t\t\tclassName=\"shadow bg-white rounded tabs-colors\"\r\n\t\t\t\t\tdefaultActiveKey=\"1\"\r\n\t\t\t\t\ttype=\"card\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<TabPane tab=\"Envios a domicilio\" key=\"1\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{showInfo !== true ? (\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Parece que aun no tienes Ordenes\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Ve y realiza tus compras. ¿Que esperas?\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={pedidos}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(pedido) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Pedido\r\n\t\t\t\t\t\t\t\t\t\t\t\tpedido={pedido}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDetallePedido={setDetallePedido}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"Recoger en restaurante\" key=\"2\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{showInfo !== true ? (\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Parece que aun no tienes Ordenes\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Ve y realiza tus compras para poder verlas\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={apartados}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(apartado) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (apartado.apartadoMultiple && apartado.apartadoMultiple.length !== 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ApartadoMultiple\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteApartado={deleteApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Apartado\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteApartado={deleteApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t</Tabs>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"detalle\"\r\n\t\t\t\twidth={900}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={() => {\r\n\t\t\t\t\tshowModal(false);\r\n\t\t\t\t}}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t{Elige === true ? (\r\n\t\t\t\t\t<DetalleApartado detalleApartado={detalleApartado} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<DetallesPedido detallePedido={detallePedido} />\r\n\t\t\t\t)}\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction Pedido(props) {\r\n\tconst { pedido, showModal, setDetallePedido, setElige, detallePedido } = props;\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={pedido._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top color-boton\"\r\n\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetElige(false);\r\n\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\tsetDetallePedido(pedido);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\tVer mi orden\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t<span className=\"text-primary\"> x {pedido.pedido.length}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de pago: </span>\r\n\t\t\t\t\t<span className=\"text-primary\"> {pedido.tipo_pago}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(pedido.total)}</span>{' '}\r\n\t\t\t\t</p>\r\n\t\t\t\t\r\n\t\t\t\t{/* <p className=\"h6\"><span className=\"font-weight-bold\">Pedido el:</span> {formatoFecha(pedido.createdAt)}</p> */}\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Pedido:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tpedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : pedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : pedido.estado_pedido === 'Tomado' ? (\r\n\t\t\t\t\t\t\t\t'#F26F48'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\" d-flex justify-content-center\" style={{ width: 200 }}>\r\n\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\tmaxCount={1}\r\n\t\t\t\t\t\t\tsize={90}\r\n\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{pedido.pedido.map((res) => (\r\n\t\t\t\t\t\t\t\t<Tooltip key={res.producto._id} title={res.producto.nombre} placement=\"top\">\r\n\t\t\t\t\t\t\t\t\t<Avatar src={aws + res.producto.imagen} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\tProductos: <span className=\"text-primary\"> x {pedido.pedido.length}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estatus:</span>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\t\tpedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t\t) : pedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t\t) : pedido.estado_pedido === 'Tomado' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#F26F48'\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Total de la compra:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(pedido.total)}</span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de pago: </span> <br/>\r\n\t\t\t\t\t\t\t\t<span > {pedido.tipo_pago}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Fecha de pedido:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(pedido.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* \t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">Pedido no realizado </p>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tComprar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-success\">Pedido realizado</p>\r\n\t\t\t\t\t\t\t\t\t\t{pedido.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Seguimiento: {pedido.codigo_seguimiento} </p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a href={`${pedido.url}${pedido.codigo_seguimiento}`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeguir envio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t¡Hola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{pedido.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tpedido.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n\r\nfunction Apartado({ apartado, showModal, setDetalleApartado, setElige, deleteApartado }) {\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={apartado._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top m-2 w-100 color-boton\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetElige(true);\r\n\t\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tVer mi pedido\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENVIADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'd-none'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'd-flex justify-content-top align-items-top m-2 w-100'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tghost\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar pedido\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Producto:</span>\r\n\t\t\t\t\t<span className=\"ml-1\">{apartado.producto.nombre}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Precio:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\">\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t$ {apartado.precio ? (\r\n\t\t\t\t\t\t\tformatoMexico(apartado.precio)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(apartado.producto.precio)\r\n\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t</span>{' '}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t<Tag className=\"\" color={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envío por paquetería' : 'Recoger a sucursal'}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center centrar-avatar\">\r\n\t\t\t\t\t\t<Avatar src={aws + apartado.producto.imagen} size={80} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Producto:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"\"> {apartado.producto.nombre}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Precio:</span>{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\">\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t${' '}\r\n\t\t\t\t\t\t\t\t\t{apartado.precio ? (\r\n\t\t\t\t\t\t\t\t\t\tformatoMexico(apartado.precio)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tformatoMexico(apartado.producto.precio)\r\n\t\t\t\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold m-0\">Fecha de apartado:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(apartado.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' && apartado.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Seguimiento:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{apartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${apartado.url}${apartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSeguír envío\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t¡Hola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{apartado.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tapartado.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Result, Row } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './ofertas.scss';\r\nimport Card_Producto from '../Productos/Cards_Normales/card_producto'\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction Ofertas(props) {\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(40, page);\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tasync function obtenerProductos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t< Card_Producto key={productos._id} productos={productos} />\r\n\t));\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t<p className=\"font-prin mb-0 text-center\">¡Encuentra ofertas todos los días!</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{render}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(Ofertas);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result, Row } from 'antd';\r\nimport Card_Producto from '../Productos/Cards_Normales/card_producto';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction ResultadoBusqueda(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst url = props.match.params.url;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function obtenerProductosFiltrados() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.get(\r\n\t\t\t\t\t\t`/productos/search?nombre=${url}&categoria=${url}&subcategoria=${url}&genero=${url}&color=${url}&temporada=${url}`\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tobtenerProductosFiltrados();\r\n\t\t},\r\n\t\t[ url ]\r\n\t);\r\n\r\n\tconst render = productos.map((productos) => <Card_Producto key={productos._id} productos={productos} />);\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<h3 className=\"ml-5 mt-4 mb-4 font-prin\">\r\n\t\t\t\t{productos.length} resultados de la busqueda \"{url}\"\r\n\t\t\t</h3>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{render}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default ResultadoBusqueda;\r\n","import React, { useCallback, useEffect, useState, useContext } from 'react';\r\nimport { Form, Input, Divider, Button, Avatar, notification } from 'antd';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport jwt_decode from 'jwt-decode';\r\nimport aws from '../../../../config/aws';\r\nimport './ActualizarUsuario.scss';\r\n\r\nexport default function ActualizarUsuario(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { datosUser, decoded, token, setLoading, setAccion } = props;\r\n\r\n\tconst [ avatar, setAvatar ] = useState(null);\r\n\tconst [ enviarFile, setEnviarFile ] = useState([]);\r\n\tconst [ datosFormulario, setdatosFormulario ] = useState({});\r\n\r\n\tconst [ password, setPassword ] = useState({});\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst mostrarDatosUser = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tif (decoded.imagen) {\r\n\t\t\t\t\tsetAvatar({\r\n\t\t\t\t\t\tpreview: aws+decoded.imagen\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tlet direccion = {};\r\n\t\t\t\tif (datosUser.direccion.length > 0) {\r\n\t\t\t\t\tdireccion = datosUser.direccion[0];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmostrarDatosUser({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t\tsetdatosFormulario({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tasync function enviarDatosUser() {\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tif (password.contrasenaActual) {\r\n\t\t\tif (password.contrasena && password.repeatContrasena) {\r\n\t\t\t\tif (password.contrasena === password.repeatContrasena) {\r\n\t\t\t\t\tformData.append('contrasena', password.contrasena);\r\n\t\t\t\t\tformData.append('repeatContrasena', password.repeatContrasena);\r\n\t\t\t\t\tformData.append('contrasenaActual', password.contrasenaActual);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Las contrasenas no son iguales',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tformData.append('nombre', datosFormulario.nombre);\r\n\t\tformData.append('apellido', datosFormulario.apellido);\r\n\t\tformData.append('email', datosFormulario.email);\r\n\t\tformData.append('telefono', datosFormulario.telefono);\r\n\t\tformData.append('calle_numero', datosFormulario.calle_numero);\r\n\t\tformData.append('entre_calles', datosFormulario.entre_calles);\r\n\t\tformData.append('cp', datosFormulario.cp);\r\n\t\tformData.append('colonia', datosFormulario.colonia);\r\n\t\tformData.append('ciudad', datosFormulario.ciudad);\r\n\t\tformData.append('estado', datosFormulario.estado);\r\n\t\tformData.append('pais', datosFormulario.pais);\r\n\r\n\t\tif (decoded.tipoSesion === 'APIRestAB') {\r\n\t\t\tformData.append('imagen', enviarFile);\r\n\t\t}\r\n\t\tsetAccion(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\tlocalStorage.setItem('token', res.data.token);\r\n\t\t\t\t\t/* window.location.reload(); */\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\tconst decoded = jwt_decode(res.data.token);\r\n\t\t\t\t\tsetAvatar({\r\n\t\t\t\t\t\tpreview: aws+decoded.imagen\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (decoded === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetdatosFormulario({\r\n\t\t\t...datosFormulario,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst datosPassword = (e) => {\r\n\t\tsetPassword({\r\n\t\t\t...password,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Form layout=\"horizontal\" size={'large'} form={form} onFinish={enviarDatosUser}>\r\n\t\t\t\t{decoded.tipoSesion !== 'APIRestAB' ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"upload-user-perfil\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-circle\"\r\n\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\tsrc={decoded.imagenFireBase}\r\n\t\t\t\t\t\t\t\tstyle={{ width: '200px' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<UploadAvatar\r\n\t\t\t\t\t\tavatar={avatar}\r\n\t\t\t\t\t\tsetAvatar={setAvatar}\r\n\t\t\t\t\t\tnombre={decoded.nombre}\r\n\t\t\t\t\t\tsetEnviarFile={setEnviarFile}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Divider style={{ fontSize: 22 }}>Información Personal</Divider>\r\n\r\n\t\t\t\t<h5>Nombre:</h5>\r\n\t\t\t\t<Form.Item name=\"nombre\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Nombre obligatorio' } ]} noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Apellidos:</h5>\r\n\t\t\t\t<Form.Item name=\"apellido\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"apellido\" placeholder=\"Apellidos\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Email:</h5>\r\n\t\t\t\t<Form.Item name=\"email\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Correo electronico obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"email\" placeholder=\"Correo electronico\" disabled />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Telefono:</h5>\r\n\t\t\t\t<Form.Item name=\"telefono\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Telefono obligatorio' } ]} noStyle name=\"telefono\">\r\n\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"+52 3171234567\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Divider className=\"mt-5\" style={{ fontSize: 22 }}>\r\n\t\t\t\t\tDatos domiciliarios\r\n\t\t\t\t</Divider>\r\n\r\n\t\t\t\t<h5>Direccion:</h5>\r\n\t\t\t\t<Form.Item name=\"calle_numero\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"calle_numero\" placeholder=\"Calle y numero de calle\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Referencia:</h5>\r\n\t\t\t\t<Form.Item name=\"entre_calles\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"entre_calles\" placeholder=\"Calles de referencia\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Codigo postal:</h5>\r\n\t\t\t\t<Form.Item name=\"cp\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Codigo postal obligatorio' } ]} noStyle name=\"cp\">\r\n\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Colonia:</h5>\r\n\t\t\t\t<Form.Item name=\"colonia\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Colonia obligatoria' } ]} noStyle name=\"colonia\">\r\n\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Ciudad: </h5>\r\n\t\t\t\t<Form.Item name=\"ciudad\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Localidad obligatoria' } ]} noStyle name=\"ciudad\">\r\n\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Localidad\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Estado:</h5>\r\n\t\t\t\t<Form.Item name=\"estado\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Estado obligatoria' } ]} noStyle name=\"estado\">\r\n\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>País:</h5>\r\n\t\t\t\t<Form.Item name=\"pais\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'País obligatoria' } ]} noStyle name=\"pais\">\r\n\t\t\t\t\t\t<Input name=\"pais\" placeholder=\"País\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t{decoded.tipoSesion === 'FireBase' ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Divider style={{ fontSize: 22 }}>Contraseña</Divider>\r\n\t\t\t\t\t\t<h5>Contraseña Actual:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"contrasenaActual\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"contrasenaActual\" placeholder=\"Contraseña actual\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<h5>Contraseña:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"contrasena\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"contrasena\" placeholder=\"Contraseña\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<h5>Confirmar Contraseña:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"repeatContrasena\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"repeatContrasena\" placeholder=\"Confirmar contraseña\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"d-flex justify-content-center pb-3\">\r\n\t\t\t\t\t<Button htmlType=\"submit\" className=\"color-boton color-font-boton\" size=\"large\" style={{ width: 150, fontSize: 20 }}>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction UploadAvatar(props) {\r\n\tconst { avatar, setAvatar, nombre, setEnviarFile } = props;\r\n\r\n\tconst onDrop = useCallback(\r\n\t\t(acceptedFiles) => {\r\n\t\t\tconst file = acceptedFiles[0];\r\n\t\t\tsetAvatar({ file, preview: URL.createObjectURL(file) });\r\n\t\t\tsetEnviarFile(file);\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ setAvatar ]\r\n\t);\r\n\r\n\tconst { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n\t\taccept: 'image/jpg, image/png, image/jpeg',\r\n\t\tnoKeyboard: true,\r\n\t\tonDrop\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Divider className=\"\" style={{ fontSize: 22 }}>\r\n\t\t\t\tImagen de perfil\r\n\t\t\t</Divider>\r\n\t\t\t<div className=\"upload-user-perfil\" {...getRootProps()}>\r\n\t\t\t\t<input {...getInputProps()} />\r\n\t\t\t\t{isDragActive ? (\r\n\t\t\t\t\t<Avatar size={200} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p className=\"\" style={{ fontSize: 150 }}>\r\n\t\t\t\t\t\t\t{nombre.charAt(0)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t) : avatar ? (\r\n\t\t\t\t\t<Avatar size={200} src={avatar.preview} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p style={{ fontSize: 150 }}>{nombre.charAt(0)}</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Avatar size={200} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p style={{ fontSize: 150 }}>{nombre.charAt(0)}</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport axios from 'axios'\r\n\r\nimport { Form, Input, Button, Result, notification, Alert } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\r\nimport Spin from '../../../../components/Spin';\r\n\r\n\r\nimport '../confirmacion.scss';\r\nimport tokenEstados from '../../../../config/tokenEstados';\r\n\r\nconst consultaCodigos = axios.create({\r\n    baseURL : `https://api-sepomex.hckdrk.mx/query/`\r\n})\r\n\r\nexport default function Traer_datos(props) {\r\n\r\n\tconst {setValue} =  props;\r\n\r\n\tconst { datosUser, decoded, setCurrent, current, setDatosActualizados, token } = props;\r\n\tconst [ datosFormulario, setdatosFormulario ] = useState({});\r\n\r\n\tconst [envioRechadazo, setEnvioRechazado] = useState(\"\");\r\n\tconst [envioTotal, setEnvioTotal] = useState(false);\r\n    const [alertRechazo, setAlertRechazo] = useState(false);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst mostrarDatosUser = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tlet direccion = {};\r\n\t\t\t\tif (datosUser.direccion.length > 0) {\r\n\t\t\t\t\tdireccion = datosUser.direccion[0];\r\n\t\t\t\t}\r\n\t\t\t\tmostrarDatosUser({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t\tsetdatosFormulario({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tasync function envios() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/politicasEnvio/estados/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.map((total) => {\r\n\t\t\t\t\tsetEnvioTotal(total);\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: ''\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tenvios();\r\n\t}, [])\r\n\r\n\tfunction enviarDatosUser() { \r\n\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tformData.append('nombre', datosFormulario.nombre);\r\n\t\tformData.append('apellido', datosFormulario.apellido);\r\n\t\tformData.append('email', datosFormulario.email);\r\n\t\tformData.append('telefono', datosFormulario.telefono);\r\n\t\tformData.append('calle_numero', datosFormulario.calle_numero);\r\n\t\tformData.append('entre_calles', datosFormulario.entre_calles);\r\n\t\tformData.append('cp', datosFormulario.cp);\r\n\t\tformData.append('colonia', datosFormulario.colonia);\r\n\t\tformData.append('ciudad', datosFormulario.ciudad);\r\n\t\tformData.append('estado', datosFormulario.estado);\r\n\t\tformData.append('pais', datosFormulario.pais);\r\n\r\n\t\tsetLoading(true);\r\n\t\t// if (envioTotal.todos === true || envioTotal === false) {\r\n\t\t\tclienteAxios\r\n\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosActualizados(datosFormulario);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif(error.response){\r\n\t\t\t\t\tif (error.response.status === 404 || error.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: `${error.response.data.message}`,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Error de conexion',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t// }else{\r\n\t\t// \tconsultaCodigos\r\n\t\t// \t.get(`/info_cp/${datosFormulario.cp}?token=${tokenEstados}`)\r\n\t\t// \t.then((res) => {\r\n\t\t// \tconst data = res.data[0].response.municipio;\r\n\t\t// \t\tclienteAxios\r\n\t\t// \t\t\t.get(`/politicasEnvio/estado/municipio/${data}`)\r\n\t\t// \t\t\t.then((res) => {\r\n\t\t// \t\t\t\tclienteAxios\r\n\t\t// \t\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t// \t\t\t\t\theaders: {\r\n\t\t// \t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t// \t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t// \t\t\t\t\t}\r\n\t\t// \t\t\t\t})\r\n\t\t// \t\t\t\t.then((res) => {\r\n\t\t// \t\t\t\t\tsetDatosActualizados(datosFormulario);\r\n\t\t// \t\t\t\t\tsetLoading(false);\r\n\t\t// \t\t\t\t\tsetCurrent(current + 1);\r\n\t\t// \t\t\t\t})\r\n\t\t// \t\t\t\t.catch((error) => {\r\n\t\t// \t\t\t\t\tsetLoading(false);\r\n\t\t// \t\t\t\t\tif(error.response){\r\n\t\t// \t\t\t\t\t\tif (error.response.status === 404 || error.response.status === 500) {\r\n\t\t// \t\t\t\t\t\t\tnotification.error({\r\n\t\t// \t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t// \t\t\t\t\t\t\t\tdescription: `${error.response.data.message}`,\r\n\t\t// \t\t\t\t\t\t\t\tduration: 2\r\n\t\t// \t\t\t\t\t\t\t});\r\n\t\t// \t\t\t\t\t\t} else {\r\n\t\t// \t\t\t\t\t\t\tnotification.error({\r\n\t\t// \t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t// \t\t\t\t\t\t\t\tdescription: 'Error de conexion',\r\n\t\t// \t\t\t\t\t\t\t\tduration: 2\r\n\t\t// \t\t\t\t\t\t\t});\r\n\t\t// \t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t}else{\r\n\t\t// \t\t\t\t\t\tnotification.error({\r\n\t\t// \t\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t// \t\t\t\t\t\t\tdescription:\r\n\t\t// \t\t\t\t\t\t\t'Al parecer no se a podido conectar al servidor.',\r\n\t\t// \t\t\t\t\t\t});\r\n\t\t// \t\t\t\t\t}\r\n\r\n\t\t// \t\t\t\t});\r\n\t\t// \t\t\t})\r\n\t\t// \t\t\t.catch((err) => {\r\n\t\t// \t\t\t\tsetEnvioRechazado(err.response.data.message);\r\n\t\t// \t\t\t\tsetAlertRechazo(true);\r\n\t\t// \t\t\t\tsetLoading(false);\r\n\t\t// \t\t\t});\r\n\t\t// \t})\r\n\t\t// \t.catch((err) => {\r\n\t\t// \t\tnotification.error({\r\n\t\t// \t\tmessage: 'Error',\r\n\t\t// \t\tdescription: 'El codigo postal insertado no existe'\r\n\t\t// \t\t});\r\n\t\t// \t\tsetLoading(false);\r\n\t\t// \t});\r\n\t\t// }\r\n\t}\r\n\r\n\r\n\r\n\tif (decoded === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetdatosFormulario({\r\n\t\t\t...datosFormulario,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"shadow-lg bg-white rounded\">\r\n\t\t\t\t<Form className=\"mt-5\" layout=\"horizontal\" size={'middle'} form={form} onFinish={enviarDatosUser}>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\tclassName=\"m-0\"\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faUser} style={{ fontSize: '100px' }} />}\r\n\t\t\t\t\t\textra={\r\n\t\t\t\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Nombre:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"nombre\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Nombre obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Apellidos:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"apellido\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"apellido\" placeholder=\"Apellidos\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Teléfono:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"telefono\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Telefono obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"+52 3171234567\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"calle_numero\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Calle y numero de calle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Referencia:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"entre_calles\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"entre_calles\" placeholder=\"Calles de referencia\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Código postal:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"cp\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Codigo postal obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cp\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Colonia:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"colonia\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Colonia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"colonia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Ciudad:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"ciudad\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Localidad obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Localidad\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Estado:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"estado\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Estado obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"estado\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">País:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"pais\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'País obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"pais\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"pais\" placeholder=\"País\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t {\r\n                    alertRechazo === true ? (\r\n                        <Alert\r\n                            className=\"mt-2 text-center\"\r\n                            message=\"Lo sentimos\"\r\n                            description={envioRechadazo}\r\n                            type=\"error\"\r\n                            showIcon\r\n                        />\r\n                    ) : (\r\n                        <div />\r\n                    )\r\n                \t}\r\n\t\t\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center p-3\">\r\n\t\t\t\t\t\t<Button className=\"color-boton\" htmlType=\"submit\" size=\"large\">\r\n\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n\tCardNumberElement,\r\n\tCardCvcElement,\r\n\tCardExpiryElement,\r\n\tElements,\r\n\tuseElements,\r\n\tuseStripe\r\n} from '@stripe/react-stripe-js';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\n\r\nimport { Form, Button, notification } from 'antd';\r\n\r\nimport './Animacion_Tarjeta.scss';\r\n\r\nimport img_visa from '../img/logos/visa.png';\r\nimport img_mastercard from '../img/logos/mastercard.png';\r\nimport chip_tarjeta from '../img/chip-tarjeta.png';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nexport default function Verificacion_Tarjeta(props) {\r\n    const {setIdPago,prev,setCurrent,current} = props;\r\n    const stripePromise = loadStripe(process.env.REACT_APP_STRIPE_LLAVE);\r\n    return (\r\n        <div>\r\n            <Elements stripe={stripePromise}>\r\n                <CheckoutForm prev={prev} setCurrent={setCurrent} current={current} setIdPago={setIdPago} />\r\n            </Elements>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CheckoutForm = (props) => {\r\n\tconst { prev, setCurrent, current, setIdPago } = props;\r\n\tconst stripe = useStripe();\r\n\tconst elements = useElements();\r\n\r\n\tconst [ name, setName ] = useState('');\r\n\tconst [ postal, setPostal ] = useState('');\r\n\t/* \tconst [ loading, setLoading ] = useState(false); */\r\n\r\n\tconst [ typeCard, setTypeCard ] = useState('visa');\r\n\tconst [ numbrerCard, setNumbrerCard ] = useState('');\r\n\tconst [ dateCard1, setDateCard1 ] = useState('');\r\n\tconst [ dateCard2, setDateCard2 ] = useState('');\r\n\tconst [ activeCard, setActiveCard ] = useState('');\r\n\tconst [ controlClick, setcontrolClick ] = useState(false);\r\n\tconst [ cvvCard, setCvvCard ] = useState('---');\r\n\r\n\tuseEffect(() => {\r\n\t\tsetTypeCard('visa');\r\n\t\tsetNumbrerCard('');\r\n\t\tsetActiveCard('');\r\n\t}, []);\r\n\r\n\tconst rotartarjeta = () => {\r\n\t\tif (!controlClick) {\r\n\t\t\tsetActiveCard('active');\r\n\t\t\tsetcontrolClick(true);\r\n\t\t} else {\r\n\t\t\tsetActiveCard('');\r\n\t\t\tsetcontrolClick(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst cardOnChage = (e) => {\r\n\t\tsetActiveCard('');\r\n\t\tif (e.brand === 'visa') {\r\n\t\t\tsetTypeCard('visa');\r\n\t\t} else {\r\n\t\t\tsetTypeCard('mastercard');\r\n\t\t}\r\n\t\tif (!e.complete) {\r\n\t\t\tsetNumbrerCard('#### ### - incomplet');\r\n\t\t} else {\r\n\t\t\tsetNumbrerCard('#### #### #### ####');\r\n\t\t}\r\n\t};\r\n\r\n\tconst cardDateOnChange = (e) => {\r\n\t\tsetActiveCard('');\r\n\t\tif (e.complete) {\r\n\t\t\tsetDateCard2('AA');\r\n\t\t} else {\r\n\t\t\tsetDateCard1('MM');\r\n\t\t}\r\n\t};\r\n\r\n\tconst cvvChange = (e) => {\r\n\t\tsetActiveCard('active');\r\n\t\tif (e.complete) {\r\n\t\t\tsetCvvCard('###');\r\n\t\t} else {\r\n\t\t\tsetCvvCard('##-');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSubmit = async () => {\r\n\t\tif (!stripe || !elements) {\r\n\t\t\t// Stripe.js has not loaded yet. Make sure to disable\r\n\t\t\t// form submission until Stripe.js has loaded.\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst cardElement = elements.getElement(CardNumberElement);\r\n\r\n\t\tconst payload = await stripe.createPaymentMethod({\r\n\t\t\ttype: 'card',\r\n\t\t\tcard: cardElement,\r\n\t\t\tbilling_details: {\r\n\t\t\t\tname,\r\n\t\t\t\taddress: {\r\n\t\t\t\t\tpostal_code: postal\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (payload.error) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Parece que hubo un error con tu tarjeta.'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetIdPago(payload.paymentMethod);\r\n\t\t\tsetCurrent(current + 1);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={!stripe}>\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t<div className=\"contenedor \">\r\n\t\t\t\t\t<section\r\n\t\t\t\t\t\tclassName={`tarjeta ${activeCard} d-none d-md-none d-lg-block`}\r\n\t\t\t\t\t\tid=\"tarjeta\"\r\n\t\t\t\t\t\tonClick={rotartarjeta}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"delantera\">\r\n\t\t\t\t\t\t\t<div className=\"logo-marca\" id=\"logo-marca\">\r\n\t\t\t\t\t\t\t\t<img src={typeCard === 'visa' ? img_visa : img_mastercard} alt=\"\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<img src={chip_tarjeta} className=\"chip\" alt=\"\" />\r\n\t\t\t\t\t\t\t<div className=\"datos\">\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"numero\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">Número Tarjeta</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"numero\"> {numbrerCard} </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"flexbox\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"nombre\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"label\">Nombre Tarjeta</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"nombre\"> {name} </p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"expiracion\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"label\">Expiración</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"expiracion\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"mes\"> {dateCard1} </span> {dateCard1 ? '/' : ''}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"year\"> {dateCard2} </span>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"trasera w-100\">\r\n\t\t\t\t\t\t\t<div className=\"barra-magnetica\" />\r\n\t\t\t\t\t\t\t<div className=\"datos\">\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"firma\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">Firma</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"firma\">\r\n\t\t\t\t\t\t\t\t\t\t<p>{name}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"ccv\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">CCV</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ccv\"> {cvvCard} </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</section>\r\n\r\n\t\t\t\t\t<Form onFinish={handleSubmit} className=\"active mt-5\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cardNumber\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tNúmero Tarjeta\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardNumberElement\r\n\t\t\t\t\t\t\t\t\tid=\"cardNumber\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => cardOnChage(e)}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '18px',\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#424770',\r\n\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.025em',\r\n\t\t\t\t\t\t\t\t\t\t'::placeholder': {\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#aab7c4'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"name\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tNombre\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Nombre del propietario\"\r\n\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetName(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetActiveCard('');\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row mt-3\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"expiry\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tExpiración\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardExpiryElement\r\n\t\t\t\t\t\t\t\t\tid=\"expiry\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => cardDateOnChange(e)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cvc\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tCVC\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardCvcElement\r\n\t\t\t\t\t\t\t\t\tid=\"cvc\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tcvvChange(e);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('active')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"postal\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tCódigo postal\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"postal\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"12345\"\r\n\t\t\t\t\t\t\t\t\tvalue={postal}\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetPostal(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetActiveCard('');\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tonClick={prev}\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tdisabled={!stripe}\r\n\t\t\t\t\t\t\t\tclassName=\"m-1 color-boton\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button htmlType=\"submit\" size=\"large\" disabled={!stripe} className=\"m-1 color-boton\">\r\n\t\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n","/* eslint-disable jsx-a11y/alt-text */\r\nimport React from 'react';\r\nimport { List } from 'antd';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\nimport '../confirmacion.scss';\r\n\r\nexport default function Traer_pedido(props) {\r\n\tconst { datosPedido, pedidoCompleto, datosEnvio } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* <h1 className=\"text-center\">Tu pedido:</h1> */}\r\n\t\t\t<div className=\"d-flex justify-content-end text-right px-4 mr-2 mt-3 info-pedido\">\r\n\t\t\t\t<div className=\"__subs\">\r\n\t\t\t\t\t{datosEnvio.descuento ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"h6 font-weight-bold\">Descuento de: $ {datosEnvio.descuento}</p> */}\r\n\t\t\t\t\t\t\t{/* <p className=\"text-success h6 font-weight-bold\">El descuento si aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"text-danger h6 font-weight-bold\">El descuento no aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"text-danger h6 font-weight-bold\">El descuento no aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{datosEnvio.costoEnvio ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold d-inline\">\r\n\t\t\t\t\t\t\t\tCosto envío:{' '}\r\n\t\t\t\t\t\t\t\t{/* <p className=\"d-inline\" style={{ textDecoration: 'line-through' }}>\r\n\t\t\t\t\t\t\t\t\t$ {datosEnvio.costoEnvio}\r\n\t\t\t\t\t\t\t\t</p> */}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold text-success d-inline\">Envío gratis </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">Costo envío: $ {datosEnvio.costoEnvio} </p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<p className=\"mt-4 h4 font-weight-bold\">\r\n\t\t\t\t\t\tTotal: ${' '}\r\n\t\t\t\t\t\t{datosEnvio.descuento ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio - datosEnvio.descuento)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<List\r\n\t\t\t\t\tclassName=\"p-3 info-pedido\"\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tdataSource={datosPedido}\r\n\t\t\t\t\trenderItem={(producto) => <Productos pedido={producto} />}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Productos(props) {\r\n\tconst { pedido } = props;\r\n\treturn (\r\n\t\t<List.Item className=\"c0\">\r\n\t\t\t<div className=\"row c1\">\r\n\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\tsrc={aws+pedido.producto.imagen}\r\n\t\t\t\t\t\t\t\theight=\"80\"\r\n\t\t\t\t\t\t\t\twidth=\"80\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle={<p className=\"__nombres\">{pedido.producto.nombre}</p>}\r\n\t\t\t\t\t\tdescription={<p className=\"__categ\">{pedido.producto.categoria}</p>}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\" col-lg-3\">\r\n\t\t\t\t\t<p className=\"__tupedido\">Cantidad: {pedido.cantidad}</p>\r\n\r\n\t\t\t\t\t{pedido.producto.tipoCategoria === 'calzado' ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Medida: {pedido.numero}</p>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Color: {pedido.producto.color}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{pedido.producto.tipoCategoria === 'ropa' ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Talla: {pedido.talla}</p>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Color: {pedido.producto.color}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\" col-lg-2\">\r\n\t\t\t\t\t<p style={{ fontSize: '20px', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t${formatoMexico(pedido.cantidad * pedido.precio)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport Traer_pedido from './traer_pedido';\r\nimport { Button, notification } from 'antd';\r\nimport { AlertOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCcVisa, faCcMastercard } from '@fortawesome/free-brands-svg-icons';\r\nimport { faTruck } from '@fortawesome/free-solid-svg-icons';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nimport './Confirnacion_Final.scss';\r\n\r\nexport default function Confirmacion_Final(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst {\r\n\t\tdatosPedido,\r\n\t\tidPago,\r\n\t\tpedidoCompleto,\r\n\t\ttoken,\r\n\t\thistory,\r\n\t\tdatosActualizados,\r\n\t\tpagoTarjeta,\r\n\t\tcurrent,\r\n\t\tsetCurrent\r\n\t} = props;\r\n\tconst [ direccion, setDireccion ] = useState({});\r\n\tconst [ datosEnvio, setDatosEnvio ] = useState({});\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDireccion(datosActualizados);\r\n\t\ttraerCostosEnvio();\r\n\t\tsetLoading(true);\r\n\t}, []);\r\n\r\n\tconst traerCostosEnvio = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosEnvio(res.data);\r\n\t\t\t\tif (res.data.descuento) {\r\n\t\t\t\t\tif (pedidoCompleto.total >= res.data.promocionEnvio) {\r\n\t\t\t\t\t\tsetTotal(\r\n\t\t\t\t\t\t\tparseFloat(pedidoCompleto.total) +\r\n\t\t\t\t\t\t\t\tparseFloat(res.data.costoEnvio) -\r\n\t\t\t\t\t\t\t\tparseFloat(res.data.descuento)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetTotal(parseFloat(pedidoCompleto.total) + parseFloat(res.data.costoEnvio));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTotal(parseFloat(pedidoCompleto.total) + parseFloat(res.data.costoEnvio));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {});\r\n\t};\r\n\r\n\tconst crearPagoEnEfectivo = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\ttotal\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/pedido/total/${pedidoCompleto._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(async (res) => {\r\n\t\t\t\tlet centavo = Math.round(100 * parseFloat(total));\r\n\t\t\t\tconst newPedido = pedidoCompleto;\r\n\t\t\t\tnewPedido.total = total;\r\n\t\t\t\tconst datosPago = {\r\n\t\t\t\t\tpedidoCompleto: newPedido\r\n\t\t\t\t};\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.post('/pedidos/entrega/realizado', datosPago, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\thistory.push(`/success/${pedidoCompleto._id}`);\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tconsole.log(error.response);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif (error.response) {\r\n\t\t\t\t\t\t\thistory.push(`/error/${pedidoCompleto._id}/${error.response.data.message}`);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\thistory.push(`/error/${pedidoCompleto._id}`);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst crearPago = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\ttotal\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/pedido/total/${pedidoCompleto._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(async (res) => {\r\n\t\t\t\tlet centavo = Math.round(100 * parseFloat(total));\r\n\t\t\t\tconst newPedido = pedidoCompleto;\r\n\t\t\t\tnewPedido.total = total;\r\n\t\t\t\tconst datosPago = {\r\n\t\t\t\t\tsesionStripe: idPago,\r\n\t\t\t\t\tpedidoCompleto: newPedido,\r\n\t\t\t\t\tamount: centavo\r\n\t\t\t\t};\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.post('/pago/', datosPago, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\thistory.push(`/success/${pedidoCompleto._id}`);\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif (error.response) {\r\n\t\t\t\t\t\t\thistory.push(`/error/${pedidoCompleto._id}/${error.response.data.err.code}`);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\thistory.push(`/error/${pedidoCompleto._id}`);\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<h3 className=\"font-weight-bold\">Resumen de compra</h3>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"shadow-lg bg-white rounded confirmacion_final\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-6 info-domicilio\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-direccion-conf shadow-sm\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"h4 font-weight-bold\">Dirección de envío</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row m-0\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-none text-center icono-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faTruck}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '50px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-9 col-sm-12 m-sm-2 contenido-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.calle_numero}, {direccion.entre_calles}, {direccion.colonia},{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.ciudad}, {direccion.estado}, {direccion.pais}, CP{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.cp}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"shadow-sm contenedor-info-pago\">\r\n\t\t\t\t\t\t\t\t<p className=\"h4 font-weight-bold\">Información de pago</p>\r\n\t\t\t\t\t\t\t\t{pagoTarjeta ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"row my-3 mx-0\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-12 text-center icono-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={'visa'}\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={idPago.card.brand === 'visa' ? faCcVisa : faCcMastercard}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '50px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-7 m-2 contenido-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo tarjeta:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{idPago.card.funding}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tarjeta:</span> *********{idPago.card.last4}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Expira:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{idPago.card.exp_month}/{idPago.card.exp_year}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"m-3\">\r\n\t\t\t\t\t\t\t\t\t\t<h6>*Pago en efectivo</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<Traer_pedido\r\n\t\t\t\t\t\t\tsetTotal={setTotal}\r\n\t\t\t\t\t\t\tdatosEnvio={datosEnvio}\r\n\t\t\t\t\t\t\tdatosPedido={datosPedido}\r\n\t\t\t\t\t\t\tpedidoCompleto={pedidoCompleto}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t{!pagoTarjeta ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName=\"color-boton my-5\"\r\n\t\t\t\t\t\t\tstyle={{ width: 200, textAlign: 'center' }}\r\n\t\t\t\t\t\t\tonClick={() => setCurrent(current - 2)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tclassName=\"ml-3 color-boton d-flex justify-content-center align-items-center my-5\"\r\n\t\t\t\t\t\tstyle={{ width: 200, textAlign: 'center' }}\r\n\t\t\t\t\t\tonClick={() => (pagoTarjeta ? crearPago() : crearPagoEnEfectivo())}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<AlertOutlined  style={{ fontSize: 20 }} /> Odenar ahora\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Button, Radio } from 'antd';\r\nimport { CreditCardOutlined, DollarCircleOutlined } from '@ant-design/icons';\r\n\r\nexport default function TipoPago({ prev, current, setCurrent, pagoTarjeta, setPagoTarjeta }) {\r\n\t\r\n    const elegirTipoPago = (e) => setPagoTarjeta(e.target.value);\r\n\r\n    const onNext = () => {\r\n        if(pagoTarjeta){\r\n            setCurrent(current +1);\r\n        }else{\r\n            setCurrent(current +2);\r\n        }\r\n    }\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"text-center my-5\">\r\n                <h4>Elige el tipo de pago</h4>\r\n            </div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n                <div>\r\n                    <Radio.Group onChange={elegirTipoPago} value={pagoTarjeta}>\r\n                        <Radio className=\"d-flex justify-content-center align-items-center my-4\" value={false}>\r\n                            <h5>Pago en efectivo</h5>\r\n                        </Radio>\r\n                        {/* <Radio className=\"d-flex justify-content-center align-items-center my-4\" value={true}>\r\n                            <h5>Pago con tarjeta</h5>\r\n                        </Radio> */}\r\n                    </Radio.Group>\r\n                </div>\r\n            </div>\r\n\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Button htmlType=\"submit\" onClick={prev} size=\"large\" className=\"m-1 color-boton\">\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button htmlType=\"submit\" size=\"large\" className=\"m-1 color-boton\" onClick={onNext}>\r\n\t\t\t\t\tSiguiente\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect } from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nimport { useParams } from 'react-router-dom';\r\nimport { Steps } from 'antd';\r\n\r\nimport Traer_datos from './services/traer_datos';\r\nimport Verificacion_tarjeta from './services/Verificacion_Tarjeta';\r\nimport Confirmacion_Final from './services/Confirmacion_Final';\r\nimport Spin from '../../../components/Spin';\r\n\r\nimport './confirmacion.scss';\r\nimport TipoPago from './services/tipo_pago';\r\n\r\nconst { Step } = Steps;\r\n\r\nexport default function Confirmacion_compra(props) {\r\n\tconst { history } = props;\r\n\r\n\tconst { url } = useParams();\r\n\tconst [ datosUser, setDatosUser ] = useState(null);\r\n\t/* const [ disabled, setDisabled ] = useState(true); */\r\n\tconst [ datosPedido, setPedido ] = useState([]);\r\n\tconst [ pedidoCompleto, setPedidoCompleto ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ datosActualizados, setDatosActualizados ] = useState([]);\r\n\tconst [ idPago, setIdPago ] = useState([]);\r\n\t/*     const [ disabledPrev, setDisabledPrev ] = useState(false); */\r\n\tconst [ pagoTarjeta, setPagoTarjeta ] = useState(false);\r\n\r\n\t/// Declaracion de variables para los pasos\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\t//Obtener token de localStorage\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t//Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t/* const next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t}; */\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif (token === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${url}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data.cliente);\r\n\t\t\t\tsetPedido(res.data.pedido);\r\n\t\t\t\tsetPedidoCompleto(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\tsetLoading(false);\r\n\t}\r\n\r\n\tconst steps = [\r\n\t\t{\r\n\t\t\ttitle: 'Datos de envío',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Traer_datos\r\n\t\t\t\t\t\tdatosUser={datosUser}\r\n\t\t\t\t\t\tdecoded={decoded}\r\n\t\t\t\t\t\tsetCurrent={setCurrent}\r\n\t\t\t\t\t\tcurrent={current}\r\n\t\t\t\t\t\tsetDatosActualizados={setDatosActualizados}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Tipo de pago',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<TipoPago prev={prev} current={current} setCurrent={setCurrent} pagoTarjeta={pagoTarjeta} setPagoTarjeta={setPagoTarjeta} />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Datos de compra',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Verificacion_tarjeta setIdPago={setIdPago} prev={prev} setCurrent={setCurrent} current={current} />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Comprar',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Confirmacion_Final\r\n\t\t\t\t\t\tidPago={idPago}\r\n\t\t\t\t\t\tdatosPedido={datosPedido}\r\n\t\t\t\t\t\tpedidoCompleto={pedidoCompleto}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\tdatosActualizados={datosActualizados}\r\n\t\t\t\t\t\tpagoTarjeta={pagoTarjeta}\r\n\t\t\t\t\t\tcurrent={current}\r\n\t\t\t\t\t\tsetCurrent={setCurrent}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (!token) {\r\n\t\t\t\tprops.history.push('/');\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tobtenerDatosUser();\r\n\r\n\t\t\tsetAccion(false);\r\n\t\t\t/* setDisabled(false); */\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ accion ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"\">\r\n\t\t\t<div className=\"container prinpales p-3 mt-5\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-3\">\r\n\t\t\t\t\t\t<div style={{ width: '80%' }}>\r\n\t\t\t\t\t\t\t<Steps className=\"steps-colors\"  current={current}>\r\n\t\t\t\t\t\t\t\t{steps.map((item) => <Step key={item.title} title={item.title} />)}\r\n\t\t\t\t\t\t\t</Steps>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"steps-content\">\r\n\t\t\t\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t\t\t\t{steps[current].content}\r\n\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*                     <div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n                        {current > 0 && (\r\n                            <Button style={{ margin: '0 8px' }} onClick={prev} disabled={disabledPrev}>\r\n                                Atras\r\n                            </Button>\r\n                        )}\r\n                        {current === steps.length - 1 && (\r\n                            <Button\r\n                                type=\"primary\"\r\n                                onClick={() => {\r\n                                    notification.success({\r\n                                        message: 'su producto ha sido creado!',\r\n                                        duration: 2\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        window.location.reload();\r\n                                    }, 2000);\r\n                                }}\r\n                            >\r\n                                Comprar\r\n                            </Button>\r\n                        )}\r\n                        {current < steps.length - 1 && (\r\n                            <Button type=\"primary\" onClick={next} disabled={disabled}>\r\n                                Siguiente \r\n                            </Button>\r\n                        )}\r\n                    </div> */}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport clienteAxios from '../../../config/axios';\r\nimport {notification} from 'antd'\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction Politicas() {\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [politicas, setPoliticas] = useState([]);\r\n\r\n    function peticionPoliticas(){\r\n\t\tclienteAxios.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n                setLoading(false);\r\n                // if (res.data[0].politicas !== \"\") {\r\n                setPoliticas(res.data[0]);\r\n                console.log(res.data[0]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n                if(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        peticionPoliticas();\r\n    }, []);\r\n    \r\n\r\n\r\n    return(\r\n        <Spin spinning={loading} >\r\n            <div className=\"container\" style={{background: \"white\"}}>\r\n                { politicas.politicas && politicas.politicas !== \"\" ? (\r\n                    <div id=\"privacidad\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Privacidad</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de privacidad.\r\n                        </p>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicas}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )\r\n                }\r\n                {\r\n                  politicas.politicasVentas !== \"\" && politicas.politicasVentas? (\r\n                    <div id=\"ventas\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Ventas</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de  Ventas\r\n                        </p>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicasVentas}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )  \r\n                }\r\n                {\r\n                  politicas.politicasDescuentos !== \"\" && politicas.politicasDescuentos ? (\r\n                    <div id=\"descuento\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Descuentos</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de  Descuentos\r\n                        </p>\r\n                        \r\n                        <div  style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicasDescuentos}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )  \r\n                }\r\n                {\r\n                  politicas.politicasDevolucion !== \"\" && politicas.politicasDevolucion ? (\r\n                    <div id=\"devolucion\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Devolucion</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de  Devolucion\r\n                        </p>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicasDevolucion}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )  \r\n                }\r\n                {\r\n                  politicas.politicasEnvios !== \"\" && politicas.politicasEnvios ? (\r\n                    <div id=\"envios\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Envios</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de  Envios\r\n                        </p>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicasEnvios}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )  \r\n                }\r\n                           \r\n            </div> \r\n        </Spin>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Politicas;","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport '../vistas.scss';\r\nimport { Card, Col } from 'antd';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction'\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction Scroll(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst producto = props.productos;\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos/search?nombre=${producto.nombre}&categoria=${producto.categoria}&subcategoria=${producto.subCategoria}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t}, [producto]);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<Col key={productos._id} className=\"d-inline-flex mr-2 contenedor-card-tamaño\">\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${productos._id}`)}\r\n\t\t\t\t\t\tbodyStyle={{ padding: 10, backgroundColor: '#F7F7F7' }}\r\n\t\t\t\t\t\tstyle={{ maxHeight: '100%', width: '100%', cursor: 'pointer' }}\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{ height: 220 }}>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws+productos.imagen}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"font-secun\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t<h2 className=\"font-prin precio-rebaja\">${formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"font-secun\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-peque precio-producto d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-prin precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t</Col>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<p className=\"font-prin titulos-vista-productos producto-descripcion mb-3\">Quienes vieron este producto también compraron</p>\r\n\t\t\t\t<div className=\"contenedor-scroller\">\r\n\t\t\t\t\t{render}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Scroll;\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarPedido(\r\n\tidcliente,\r\n\tproducto,\r\n\tsugerencia,\r\n\tcategoriaProducto,\r\n\tcategoriaSugerencia,\r\n\tcantidadProducto,\r\n\tcantidadSugerencia,\r\n\tmedidaProducto,\r\n\tmedidaSugerencia,\r\n\tprecioProducto,\r\n\tprecioSugerencia,\r\n\ttotal,\r\n\ttoken\r\n) {\r\n\tvar pedido = [];\r\n\tif (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Ropa') {\r\n\t\t// ambas tallas\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Calzado') {\r\n\t\t// talla producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tnumero: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Otros') {\r\n\t\t// talla producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Calzado') {\r\n\t\t// numero producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Ropa') {\r\n\t\t// numero producto y talla sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Otros') {\r\n\t\t// numero producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Otros') {\r\n\t\t// sin medida producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Ropa') {\r\n\t\t// sin medida producto y talla sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Calzado') {\r\n\t\t// sin medida producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tnumero: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso'\r\n\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tif(err.response){\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { notification, Button, Select, Card, Form, InputNumber, Modal, Alert } from 'antd';\r\nimport { IssuesCloseOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport { AgregarPedido } from './servicesSugerencia';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n// import Estados_disponibles from '../../Consulta_covertura/estados_disponibles'\r\n\r\nconst { Option } = Select;\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst Sugerencia = (props) => {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst idproducto = props.producto;\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t///PRODUCTO\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ productoPromocion, setProductoPromocion ] = useState([]);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ medida, setMedida ] = useState([]);\r\n\tconst [ cantidadFinalProducto, setCantidadFinalProducto ] = useState(1);\r\n\tconst [ disponibilidad, setDisponibilidad ] = useState('');\r\n\r\n\tconst [dataEstados, setDataEstados] = useState([]);\r\n\r\n\tconst traerDatos = async () => {\r\n\t  clienteAxios\r\n\t\t.get(`/politicasEnvio/estados/`)\r\n\t\t.then((res) => {\r\n\t\t\tres.data.map((todos)=>{\r\n\t\t\t\tsetDataEstados(todos);\r\n\t\t\t})\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t});\r\n\t};\r\n\r\n\tfunction selectTallaProducto(value) {\r\n\t\tsetMedida(value);\r\n\t}\r\n\tfunction obtenerCantidadProducto(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > producto.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinalProducto(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadMedidaProducto(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > medida[1]) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinalProducto(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\t///SUGERENCIA\r\n\tconst [ sugerencia, setSugerencia ] = useState([]);\r\n\tconst [ sugerenciaPromocion, setSugerenciaPromocion ] = useState([]);\r\n\tconst [ validateStatusSug, setValidateStatusSug ] = useState('validating');\r\n\tconst [ medidaSugerencia, setMedidaSugerencia ] = useState([]);\r\n\tconst [ cantidadFinalSugerencia, setCantidadFinalSugerencia ] = useState(1);\r\n\tconst [ disponibilidadSugerencia, setDisponibilidadSugerencia ] = useState('');\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\r\n\tfunction selectTallaSugerencia(value) {\r\n\t\tsetMedidaSugerencia(value);\r\n\t}\r\n\tfunction obtenerCantidadSugerencia(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > producto.cantidad) {\r\n\t\t\tsetValidateStatusSug('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatusSug('validating');\r\n\t\t\tsetCantidadFinalSugerencia(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadMedidaSugerencia(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > medidaSugerencia[1]) {\r\n\t\t\tsetValidateStatusSug('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatusSug('validating');\r\n\t\t\tsetCantidadFinalSugerencia(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerSugerencia();\r\n\t\ttraerDatos();\r\n\t}, []);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTotal();\r\n\t\t\tobtenerDisponibilidad();\r\n\t\t},\r\n\t\t[ obtenerSugerencia ]\r\n\t);\r\n\tfunction obtenerTotal() {\r\n\t\tif (sugerencia.length !== 0) {\r\n\t\t\tif (productoPromocion.length !== 0 && sugerenciaPromocion.length !== 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproductoPromocion.precioPromocion * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerenciaPromocion.precioPromocion * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length !== 0 && sugerenciaPromocion.length === 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproductoPromocion.precioPromocion * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerencia.precio * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length === 0 && sugerenciaPromocion.length !== 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproducto.precio * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerenciaPromocion.precioPromocion * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length === 0 && sugerenciaPromocion.length === 0) {\r\n\t\t\t\tsetTotal(producto.precio * cantidadFinalProducto + sugerencia.precio * cantidadFinalSugerencia);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction obtenerDisponibilidad() {\r\n\t\t///disponibilidad Productos\r\n\t\tif (producto && producto.activo === false) {\r\n\t\t\tsetDisponibilidad('Producto no disponible');\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\r\n\t\t//// Disponibilidad Sugerencias\r\n\t\tif (sugerencia && sugerencia.activo === false) {\r\n\t\t\tsetDisponibilidadSugerencia('Producto no disponible');\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerSugerencia() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/sugerencia/${idproducto}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data.producto);\r\n\t\t\t\tif (res.data.sugerencias) {\r\n\t\t\t\t\tres.data.sugerencias.forEach((element) => setSugerencia(element.producto));\r\n\t\t\t\t\tif (res.data.promocionProducto.length !== 0 && res.data.promocionSugerencia.length === 0) {\r\n\t\t\t\t\t\tres.data.promocionProducto.forEach((element) => setProductoPromocion(element));\r\n\t\t\t\t\t} else if (res.data.promocionSugerencia.length !== 0 && res.data.promocionProducto.length === 0) {\r\n\t\t\t\t\t\tres.data.promocionSugerencia.forEach((element) => setSugerenciaPromocion(element));\r\n\t\t\t\t\t} else if (res.data.promocionProducto.length !== 0 && res.data.promocionSugerencia.length !== 0) {\r\n\t\t\t\t\t\tres.data.promocionProducto.forEach((element) => setProductoPromocion(element));\r\n\t\t\t\t\t\tres.data.promocionSugerencia.forEach((element) => setSugerenciaPromocion(element));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function Pedido() {\r\n\t\t////AGREGAR PEDIDO\r\n\r\n\t\tlet productoPrecio;\r\n\t\tlet sugerenciaPrecio;\r\n\r\n\t\tif(productoPromocion.length !== 0){\r\n\t\t\tproductoPrecio = productoPromocion.precioPromocion;\r\n\t\t}else{\r\n\t\t\tproductoPrecio = producto.precio;\r\n\t\t}\r\n\r\n\t\tif(sugerenciaPromocion.length !== 0){\r\n\t\t\tsugerenciaPrecio = sugerenciaPromocion.precioPromocion;\r\n\t\t}else{\r\n\t\t\tsugerenciaPrecio = sugerencia.precio;\r\n\t\t}\r\n\t\t\r\n\t\tAgregarPedido(\r\n\t\t\tdecoded._id,\r\n\t\t\tproducto._id,\r\n\t\t\tsugerencia._id,\r\n\t\t\tproducto.tipoCategoria,\r\n\t\t\tsugerencia.tipoCategoria,\r\n\t\t\tcantidadFinalProducto,\r\n\t\t\tcantidadFinalSugerencia,\r\n\t\t\tmedida[0],\r\n\t\t\tmedidaSugerencia[0],\r\n\t\t\tproductoPrecio,\r\n\t\t\tsugerenciaPrecio,\r\n\t\t\ttotal,\r\n\t\t\ttoken\r\n\t\t);\r\n\t}\r\n\r\n\tfunction showConfirm() {\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem(\"vistas\", `/vista_producto/${producto._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!medida[0] || !medidaSugerencia[0]) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconfirm({\r\n\t\t\t\t\ttitle: 'Comprar los siguientes articulos:',\r\n\t\t\t\t\ticon: <IssuesCloseOutlined />,\r\n\t\t\t\t\tokText: 'Continuar con la compra',\r\n\t\t\t\t\tcontent: (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p>{producto.nombre}</p>\r\n\t\t\t\t\t\t\t<p>{sugerencia.nombre}</p>\r\n\t\t\t\t\t\t\t<p>Precio total: ${formatoMexico(total.toFixed(2))} + envio</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\tPedido();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{/* <div >\r\n\t\t\t\t{\r\n\t\t\t\t\tdataEstados.todos !== true ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Estados_disponibles />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t):(\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</div> */}\r\n\t\t\t<div className=\"row mw-100 mt-3\">\r\n\t\t\t\t{!producto || !sugerencia ? (\r\n\t\t\t\t\t<div />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t<p className=\"my-3 text-center producto-descripcion font-prin\">\r\n\t\t\t\t\t\t\t¡Llévalos juntos!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"row\" style={{ justifyContent: 'center' }}>\r\n\t\t\t\t\t\t\t<div className=\"d-lg-flex d-sm-block px-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws+producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\tproducto.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTallaProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{producto.tallas && producto.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.tallas.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : producto.numeros && producto.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.numeros.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form initialValues={{ cantidad: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{producto.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.tipoCategoria !== 'Otros' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedida.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque\">Solo hay {medida[1]} disponibles</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-descrip\">Cantidad</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medida[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadMedidaProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medida.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={<p className=\"font-peque\" >Solo hay {producto.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={producto.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${producto._id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={producto.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{productoPromocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-prin titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\" font-peque titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-descrip titulo-precio precio-rebaja mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(productoPromocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-peque titulo-porcentaje-sugerencia porcentaje-descuento d-inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproductoPromocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.precio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"disponibilidad\">{disponibilidad}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-lg-flex justify-content-center align-items-center d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"display-1 text-center mx-4\">+</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws+sugerencia.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\tsugerencia.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTallaSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerencia.tallas && sugerencia.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.tallas.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : sugerencia.numeros && sugerencia.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.numeros.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form initialValues={{ cantidad: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerencia.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatusSug}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.tipoCategoria !== 'Otros' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedidaSugerencia.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque\">Solo hay {medidaSugerencia[1]} disponibles</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-descrip\">Cantidad</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medidaSugerencia[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadMedidaSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medidaSugerencia.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={<p className=\"font-peque\">Solo hay {sugerencia.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={sugerencia.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${sugerencia._id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={sugerencia.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{productoPromocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-prin titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\" font-peque titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-descrip titulo-precio precio-rebaja mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(productoPromocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-peque titulo-porcentaje-sugerencia porcentaje-descuento d-inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproductoPromocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.precio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"disponibilidad\">{disponibilidad}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-block\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"producto-descripcion font-prin\">\r\n\t\t\t\t\t\t\t\t\t\tPrecio total: ${formatoMexico(total.toFixed(2))}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4\">\r\n\t\t\t\t\t\t\t\t\t{decoded && decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\tdescription=\"Como Administrador tienes desabilitadas las opciones de comprar, apartar y agregar al carrito\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-block m-1 color-boton color-font-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => showConfirm()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tComprar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Sugerencia);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport ReactImageMagnify from 'react-image-magnify';\r\nimport 'react-image-gallery/styles/scss/image-gallery.scss';\r\nimport 'react-image-gallery/styles/css/image-gallery.css';\r\nimport './galeria_custom.scss';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nfunction Galeria(props) {\r\n\tconst [ count, setCount ] = useState(0);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst idproducto = props.id;\r\n\tconst [ galeria, setGaleria ] = useState([]);\r\n\tconst [ imagen, setImagen ] = useState([\r\n\t\t{\r\n\t\t\toriginal: '',\r\n\t\t\tthumbnail: ''\r\n\t\t}\r\n\t]);\r\n\r\n\tconst [ imagenZoom, setImagenZoom ] = useState();\r\n\r\n\tfunction onLoad(imagen) {\r\n\t\tif(imagen.target.src){\r\n\t\t\tvar url = imagen.target.src.split('.com/');// se hace asi porque al poner la variable con la url saltaban warnings del src estaba undefind\r\n\t\t\tsetImagenZoom(url[1]);\r\n\t\t}\r\n\t}\r\n\r\n\tconst galery = {\r\n\t\tshowPlayButton: false,\r\n\t\tshowNav: false,\r\n\t\tshowFullscreenButton: false,\r\n\t\trenderItem: myRenderItem,\r\n\t\tonThumbnailClick: onLoad,\r\n\t\tdisableKeyDown: true\r\n\t};\r\n\r\n\tif (count < galeria.length) {\r\n\t\tsetCount(count + 1);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function obtenerImagen() {\r\n\t\t\t\tawait clienteAxios.get(`/productos/${idproducto}`).then((res) => {\r\n\t\t\t\t\tsetImagenZoom(res.data.imagen);\r\n\t\t\t\t\tsetImagen([\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toriginal: aws+res.data.imagen,\r\n\t\t\t\t\t\t\tthumbnail: aws+res.data.imagen\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tasync function obtenerGaleria() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.get(`/galeria/${idproducto}`)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tobtenerImagen();\r\n\t\t\tobtenerGaleria();\r\n\t\t},\r\n\t\t[ idproducto ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tgaleria.forEach((res) => {\r\n\t\t\t\treturn imagen.push({\r\n\t\t\t\t\toriginal: aws+res.url,\r\n\t\t\t\t\tthumbnail: aws+res.url\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ count, galeria, imagen ]\r\n\t);\r\n\r\n\tconst [ zoomHeight, setZoomHeight ] = useState('');\r\n\tconst [ zoomWidth, setZoomWidth ] = useState('');\r\n\tvar img = new Image();\r\n\timg.onload = function() {\r\n\tsetZoomWidth(img.naturalWidth);\r\n\tsetZoomHeight(img.naturalHeight);\r\n\t}\r\n\timg.src = aws+imagenZoom;\r\n\r\n\tconst propiedadesImageMagnify= {\r\n\t\tsmallImage: {\r\n\t\t\talt: 'imagen-producto',\r\n\t\t\tsrc: aws+imagenZoom,\r\n\t\t\tisFluidWidth: true\r\n\t\t},\r\n\t\tlargeImage: {\r\n\t\t\t// src: aws+imagenZoom,\r\n\t\t\t// width: zoomWidth*1.6,\r\n\t\t\t// height: zoomHeight*1.6\r\n\t\t},\r\n\t\tenlargedImagePortalId: 'zoom-render'\r\n\t}\r\n\r\n\tfunction myRenderItem() {\r\n\t\treturn (\r\n\t\t\t<ReactImageMagnify\r\n\t\t\t\t// imageClassName=\"image-gallery-image\"\r\n\t\t\t\t// enlargedImageContainerClassName=\"image-gallery-image-large-container\"\r\n\t\t\t\t// enlargedImageClassName=\"image-gallery-image-large\"\r\n\t\t\t\t// className=\"imagen-gallery-container\"\r\n\t\t\t\t{...propiedadesImageMagnify}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<ImageGallery items={imagen} {...galery} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Galeria;\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarCarrito(idcliente, idproducto, cantidad, talla, numero, token) {\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t`/carrito/nuevo/${idcliente}`,\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tarticulos: [\r\n\t\t\t\t\t{ idarticulo: idproducto, cantidad: cantidad, medida: [ { talla: talla, numero: numero } ] }\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\treturn notification.success({\r\n\t\t\t\tmessage: 'Se añadio un articulo a tu carrito',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tif(err.response){\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\treturn true;\r\n}\r\n\r\nexport async function AgregarApartado(idcliente, idproducto, cantidad, precio, talla, numero, tipoEntrega, token) {\r\n\tif (talla) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio,\r\n\t\t\t\t\tmedida: [ { talla: talla } ],\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: \"Pedido apartado.\",\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio,\r\n\t\t\t\t\tmedida: [ { numero: numero } ],\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla && !numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio,\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\nexport async function AgregarPedido(idcliente, idproducto, cantidad, talla, numero, precio, total, token) {\r\n\tif (!numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\ttalla: talla,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\tnumero: numero,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla && !numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { InputNumber, Button, Form, Badge, Divider, notification, Modal, Select, Alert, List, Avatar } from 'antd';\r\nimport { AlertOutlined, CoffeeOutlined, HomeOutlined, WhatsAppOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { AgregarCarrito, AgregarApartado, AgregarPedido } from './services';\r\nimport { formatoMexico, verificarDiasLaborales } from '../../../../config/reuserFunction';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\n/* import DatosCliente from './datos_cliente'; */\r\nimport clienteAxios from '../../../../config/axios';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst formItemLayout = {\r\n\tlabelCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 8 }\r\n\t},\r\n\twrapperCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 16 }\r\n\t}\r\n};\r\nconst { Option } = Select;\r\n\r\nfunction TallasCantidades(props) {\r\n\tconst { active, setActive, datosContx } = useContext(MenuContext);\r\n\tconst productos = props.producto;\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\t/* \tconst [ cantidad, setCantidad ] = useState(); */\r\n\tconst [ promocion, setPromocion ] = useState('');\r\n\tconst [ tallas, setTallas ] = useState([]);\r\n\tconst [ numeros, setNumeros ] = useState([]);\r\n\tconst [ render, setRender ] = useState([]);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ cantidadFinal, setCantidadFinal ] = useState(1);\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('REGOGIDO');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\t/* \tconst [ datosUser, setDatosUser ] = useState([]); */\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\tconst [ laboral, setLaboral ] = useState(false);\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\tvar total = 0;\r\n\tvar precio = 0;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerTienda() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((element) => setTienda(element));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\t/* async function obtenerDatosUser() {\r\n\t\tif (!decoded) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t} */\r\n\r\n\tuseEffect(() => {\r\n\t\t/* verificar dia No laboral */\r\n\t\tsetLaboral(verificarDiasLaborales(datosContx));\r\n\t}, [datosContx])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (token) {\r\n\t\t\t/* obtenerDatosUser(); */\r\n\t\t\tobtenerTienda();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (productos.promocion && productos.promocion.length) {\r\n\t\t\t\tproductos.promocion.forEach((res) => setPromocion(res.precioPromocion));\r\n\t\t\t}\r\n\t\t\tif (productos.tipoCategoria === 'Calzado') {\r\n\t\t\t\tsetCategoria('calzado');\r\n\t\t\t\tsetRender(\r\n\t\t\t\t\tproductos.numeros.map((numeros) => {\r\n\t\t\t\t\t\treturn numeros.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t<Badge key={numeros._id} count={numeros.cantidad}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"talla-vista-producto d-inline-block\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setNumeros(numeros)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tkey={numeros._id}\r\n\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\t\t\t\t//style={{ backgroundColor: '#F5F5F5', color: '#7D7D7D' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"dashed\" disabled className=\"talla-vista-producto d-inline-block\">\r\n\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else if (productos.tipoCategoria === 'Ropa') {\r\n\t\t\t\tsetCategoria('ropa');\r\n\t\t\t\tsetRender(\r\n\t\t\t\t\tproductos.tallas.map((tallas) => {\r\n\t\t\t\t\t\treturn tallas.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t<Badge key={tallas._id} count={tallas.cantidad}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"talla-vista-producto d-inline-block\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setTallas(tallas)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tkey={tallas._id}\r\n\t\t\t\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: '#F5F5F5', color: '#7D7D7D' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"dashed\" disabled className=\"talla-vista-producto d-inline-block\">\r\n\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else if (productos.tipoCategoria === 'Otros') {\r\n\t\t\t\tsetCategoria('otros');\r\n\t\t\t}\r\n\t\t\tif (productos && productos.activo === false) {\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ productos ]\r\n\t);\r\n\r\n\tfunction obtenerCantidad(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > productos.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadNumero(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > numeros.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadTalla(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > tallas.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\tconst showModal = () => {\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (categoria === 'ropa' && !tallas.talla) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else if (categoria === 'calzado' && !numeros.numero) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetVisible(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOk = () => {\r\n\t\tsetVisible(false);\r\n\t\tApartado();\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction modalMensaje() {\r\n\t\tModal.success({\r\n\t\t\ticon: '',\r\n\t\t\tclosable: true,\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<p style={{ fontSize: 18 }}>¡Tu orden a sido recibida!</p>\r\n\t\t\t\t\t{tienda.length !== 0 && tienda.telefono ? (\r\n\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t<p style={{ fontSize: 18 }}>Si tienes dudas o algún problema te puedes comunicar al</p>\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center font-weight-bold\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<WhatsAppOutlined style={{ color: '#25d366' }} />\r\n\t\t\t\t\t\t\t\t{tienda.telefono}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 color-boton\"\r\n\t\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\t\tonClick={() => (window.location.href = '/pedidos')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVer mis pedidos\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t\tokButtonProps: {className: \"color-boton\"}\r\n\t\t});\r\n\t}\r\n\r\n\tasync function Carrito() {\r\n\t\t////AGREGAR CARRITO\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (categoria === 'calzado') {\r\n\t\t\t\tif (!numeros.numero) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst talla = '';\r\n\t\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, talla, numeros.numero, token)) {\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'ropa') {\r\n\t\t\t\tif (!tallas.talla) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numero = '';\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, tallas.talla, numero, token)) {\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'otros') {\r\n\t\t\t\tconst talla = '';\r\n\t\t\t\tconst numero = '';\r\n\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, talla, numero, token)) {\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync function Apartado() {\r\n\t\tlet precio;\r\n\t\tif (productos.promocion.length !== 0) {\r\n\t\t\tprecio = productos.promocion[0].precioPromocion;\r\n\t\t} else {\r\n\t\t\tprecio = productos.precio;\r\n\t\t}\r\n\t\t////AGREGAR APARTADO\r\n\t\tsetLoading(true);\r\n\t\tif (categoria === 'calzado') {\r\n\t\t\tconst talla = '';\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, talla, numeros.numero, tipoEnvio, token);\r\n\t\t\tsetLoading(false);\r\n\t\t\tmodalMensaje();\r\n\t\t} else if (categoria === 'ropa') {\r\n\t\t\tconst numero = '';\r\n\t\t\tsetLoading(false);\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, tallas.talla, numero, tipoEnvio, token);\r\n\t\t\tmodalMensaje();\r\n\t\t} else if (categoria === 'otros') {\r\n\t\t\tconst talla = '';\r\n\t\t\tconst numero = '';\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, talla, numero, tipoEnvio, token);\r\n\t\t\tsetLoading(false);\r\n\t\t\tmodalMensaje();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function Pedido() {\r\n\t\t////AGREGAR PEDIDO\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (categoria === 'calzado') {\r\n\t\t\t\tif (!numeros.numero) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst talla = '';\r\n\t\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tAgregarPedido(\r\n\t\t\t\t\t\tdecoded._id,\r\n\t\t\t\t\t\tproductos._id,\r\n\t\t\t\t\t\tcantidadFinal,\r\n\t\t\t\t\t\ttalla,\r\n\t\t\t\t\t\tnumeros.numero,\r\n\t\t\t\t\t\tprecio,\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttoken\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'ropa') {\r\n\t\t\t\tif (!tallas.talla) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numero = '';\r\n\t\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tAgregarPedido(\r\n\t\t\t\t\t\tdecoded._id,\r\n\t\t\t\t\t\tproductos._id,\r\n\t\t\t\t\t\tcantidadFinal,\r\n\t\t\t\t\t\ttallas.talla,\r\n\t\t\t\t\t\tnumero,\r\n\t\t\t\t\t\tprecio,\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttoken\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'otros') {\r\n\t\t\t\tconst talla = '';\r\n\t\t\t\tconst numero = '';\r\n\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t}\r\n\t\t\t\tAgregarPedido(decoded._id, productos._id, cantidadFinal, talla, numero, precio, total, token);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-p-seleccion-compra\">\r\n\t\t\t\t<div className=\"contenedor-p-seleccion-compra mb-4\">\r\n\t\t\t\t\t{disabled ? (\r\n\t\t\t\t\t\t<p className=\"font-vista-prod disponibilidad-p mb-3\">\r\n\t\t\t\t\t\t\tEn este momento no hay combos disponibles\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t// <p className=\"font-vista-prod mb-3\">¡Articulos disponibles!</p>\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{categoria !== 'otros' ? <p className=\"mb-3 font-vista-prod font-weight-bold\">Tallas:</p> : <p />}\r\n\t\t\t\t\t<div>{render}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Form initialValues={{ cantidad: 1 }} {...formItemLayout}>\r\n\t\t\t\t\t{categoria !== 'otros' ? (\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\tclassName=\"font-vista-prod\"\r\n\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\tcategoria === 'ropa' && tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-vista-prod\">Solo hay {tallas.cantidad} disponibles</p>\r\n\t\t\t\t\t\t\t\t) : categoria === 'calzado' && numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-vista-prod\">Solo hay {numeros.cantidad} disponibles</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p>Elige una talla</p>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={categoria === 'ropa' ? tallas.cantidad : numeros.cantidad}\r\n\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\tonChange={categoria === 'ropa' ? obtenerCantidadTalla : obtenerCantidadNumero}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 70 }}\r\n\t\t\t\t\t\t\t\tdisabled={tallas.length !== 0 || numeros.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"font-vista-prod\"\r\n\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\thelp={<p>Solo hay {productos.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={productos.cantidad}\r\n\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\tonChange={obtenerCantidad}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form>\r\n\r\n\t\t\t\t<Divider />\r\n\t\t\t\t{decoded && decoded.rol === true ? (\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tclassName=\"font-peque\"\r\n\t\t\t\t\t\tdescription=\"Como Administrador tienes desabilitadas las opciones de comprar, apartar y agregar al carrito\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"contenedor-button-vista\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center size-button-vista color-boton font-boton-vista\"\r\n\t\t\t\t\t\t\t\t\t//type=\"primary\"\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => Pedido()}\r\n\t\t\t\t\t\t\t\t\tdisabled={disabled || laboral}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CoffeeOutlined  style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\t\tOrdenar ahora\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 d-flex justify-content-center align-items-center size-button-vista color-boton-sec font-boton-vista\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tonClick={() => showModal()}\r\n\t\t\t\t\t\t\t\tdisabled={disabled || laboral}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<HomeOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tRecoger en sucursal\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 d-flex justify-content-center align-items-center size-button-vista color-boton-sec font-boton-vista\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\tonClick={() => Carrito()}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AlertOutlined  style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tAgregar a orden\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Ordenar para retirar en restaurant\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\t/* onOk={handleOk} */\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t/* cancelText=\"Cancelar\" */\r\n\t\t\t\t/* okText=\"Apartar ahora\" */\r\n\t\t\t\tfooter={null}\r\n\t\t\t\twidth={700}\r\n\t\t\t>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<List.Item className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t\t\t<Avatar size={64} src={aws + productos.imagen} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t\t<h5 className=\"font-secun\">{productos.nombre}</h5>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"font-vista-prod\">Cantidad: {cantidadFinal}</h6>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"font-vista-prod\">Talla: {numeros.numero}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"font-vista-prod\">Talla: {tallas.talla}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t{productos.length !== 0 ? productos.promocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(productos.precio)}</h6>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tproductos.promocion.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Precio: ${formatoMexico(res.precioPromocion)}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t <div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"mr-2\">Ordenado por:</h6>\r\n\t\t\t\t\t\t\t\t<p><b>{decoded ? decoded.nombre : null}</b></p>\r\n\t\t\t\t\t\t\t </div> \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</List.Item>\r\n\t\t\t\t</List>\r\n\t\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t\t{productos.length !== 0 ? productos.promocion.length === 0 ? (\r\n\t\t\t\t\t\t<h4>Total: ${formatoMexico(cantidadFinal * productos.precio)}</h4>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tproductos.promocion.map((res) => {\r\n\t\t\t\t\t\t\treturn <h4 key={res._id}>Total: ${formatoMexico(cantidadFinal * res.precioPromocion)}</h4>;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex justify-content-end align-items-center mt-1\">\r\n\t\t\t\t\t<Button className=\"color-boton color-font-boton\" size=\"large\" style={{ width: 170 }} onClick={() => handleOk()}>\r\n\t\t\t\t\t\tOrdenar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(TallasCantidades);\r\n","import React, { useEffect, useState,  useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport './info-tienda.scss';\r\nimport Geolocalizacion from '../../../../pages/users/geolocalizacion';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\n\r\nconst InfoTienda = (props) => {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\tconst { datosContx, colores } = useContext(MenuContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerTienda();\r\n\t}, []);\r\n\r\n\tasync function obtenerTienda() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((element) => setTienda(element));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (tienda.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-info-tienda\">\r\n\t\t\t\t<p className=\"titulos-vista-productos text-center font-secun\">Encuentra nuestro restaurante</p>\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<div className=\"contenedor-imagen-info\">\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-info-tienda\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"logo-tienda\"\r\n\t\t\t\t\t\t\t\tsrc={aws+tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-info-tienda\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* <Avatar size={64} src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${tienda.imagenLogo}`} /> */}\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<p className=\"font-weight-bold font-prin\" >\r\n\t\t\t\t\t\t\t{tienda.nombre}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{tienda.length !== 0 ? (\r\n\t\t\t\t\ttienda.direccion.map((direccion) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={direccion._id} className=\"container\">\r\n\t\t\t\t\t\t\t\t<p className=\"font-descrip\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Dirección:</span> {direccion.calle_numero}, Col.{' '}\r\n\t\t\t\t\t\t\t\t\t{direccion.colonia}, {direccion.ciudad}, {direccion.cp}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"font-descrip\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Teléfono:</span> {tienda.telefono}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p />\r\n\t\t\t\t)}\r\n\t\t\t\t{datosContx.tienda?.length > 0 && datosContx.tienda[0].horario.length > 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-foot text-color\">\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Horarios de Atención:</span>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t{datosContx.tienda[0].horario.map((horario) => {\r\n\t\t\t\t\t\t\t\t\t\tif(horario.close){\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>{horario.dia}: </b> {horario.horarioInicial} -{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{horario.horarioFinal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>{horario.dia}: NO HAY SERVICIO </b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t{/* {tienda.length !== 0 ? (\r\n\t\t\t\t\ttienda.ubicacion.map((ubicacion) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={ubicacion._id}>\r\n\t\t\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\t\t\theight=\"50vh\"\r\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\t\tcenter={[ ubicacion.lat, ubicacion.lng ]}\r\n\t\t\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\t\t\tzoom={16}\r\n\t\t\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\t\t\tnombreMarcador=\"AB soluciones Empresariales\"\r\n\t\t\t\t\t\t\t\t\ttituloheader={false}\r\n\t\t\t\t\t\t\t\t\tdraggable={false}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p />\r\n\t\t\t\t)} */}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default withRouter(InfoTienda);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Divider, Row, Col, Tag, Alert, notification, Result, Button } from 'antd';\r\nimport { CreditCardOutlined } from '@ant-design/icons';\r\nimport Scroll from './subs/scroll';\r\nimport Sugerencia from './subs/sugerencia';\r\nimport Galeria from './Galeria_tienda/galeria';\r\nimport TallasCantidades from './subs/cantidades_y_tallas';\r\nimport InfoTienda from './Info_tienda/info-tienda';\r\n// import Envio_General from '../Consulta_covertura/envio_general';\r\nimport 'antd/dist/antd.css';\r\nimport './vistas.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport DOMPurify from 'dompurify';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTruck } from '@fortawesome/free-solid-svg-icons';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction VistaProductos(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ readMore, setReadMore ] = useState('read-less');\r\n\tconst producto = props.match.params.url;\r\n\tconst [ costoEnvio, setCostoEnvio ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProducto();\r\n\t\tobtenerPoliticasEnvio();\r\n\t\twindow.scrollTo(0, 0);\r\n\t}, []);\r\n\r\n\tasync function obtenerPoliticasEnvio() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCostoEnvio(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerProducto() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${producto}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (!res.data) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetProductos([]);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tres.data.promocion.forEach((res) => setPromocion(res));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst OnClickReadMore = () => {\r\n\t\tif (readMore === 'read-less') {\r\n\t\t\tsetReadMore('read-more');\r\n\t\t} else {\r\n\t\t\tsetReadMore('read-less');\r\n\t\t}\r\n\t};\r\n\r\n\tif (loading === false && productos.length === 0) {\r\n\t\treturn (\r\n\t\t\t<Result\r\n\t\t\t\tstatus=\"404\"\r\n\t\t\t\ttitle=\"404\"\r\n\t\t\t\tsubTitle=\"Lo sentimos, este producto ya no existe.\"\r\n\t\t\t\textra={<Button className=\"color-boton\" type=\"primary\" onClick={() => props.history.push('/')}>Pagina principal</Button>}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container mt-5 shadow caracteristicas \">\r\n\t\t\t\t<div className=\"row mt-5\">\r\n\t\t\t\t\t<div className=\"col-lg-8 imagen-gallery-vista zoom\">\r\n\t\t\t\t\t\t<div id=\"zoom-render\" />\r\n\t\t\t\t\t\t<div className=\"mb-5\">\r\n\t\t\t\t\t\t\t<Galeria id={producto} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"descripcion-lg\">\r\n\t\t\t\t\t\t\t<p className=\"font-secun producto-descripcion\">Descripción</p>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={readMore}\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{readMore === 'read-less' ? (\r\n\t\t\t\t\t\t\t\t<p className=\"font-vista-prod texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\tVer más...\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className=\"font-vista-prod texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\tVer menos\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t{/* ### Componenete de Sugerencia */}\r\n\t\t\t\t\t\t<div className=\"descripcion-lg\">\r\n\t\t\t\t\t\t\t<Sugerencia producto={producto} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 border-left\">\r\n\t\t\t\t\t\t<p className=\"titulo-principal font-prin\">{productos.nombre}</p>\r\n\t\t\t\t\t\t{promocion.length === 0 ? (\r\n\t\t\t\t\t\t\t<p className=\"precio-prin titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t$ {formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto font-descrip\">\r\n\t\t\t\t\t\t\t\t\t$ {formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-precio precio-rebaja d-inline mr-3 precio-prin\">\r\n\t\t\t\t\t\t\t\t\t$ {formatoMexico(promocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-porcentaje porcentaje-descuento d-inline mr-2 font-descrip\">\r\n\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promocion.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{costoEnvio ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"envio-texto font-vista-prod\">\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTruck} style={{ fontSize: 15, marginRight: 10 }} />{' '}\r\n\t\t\t\t\t\t\t\t\t<span>Costo del envío:</span> <span>${costoEnvio.costoEnvio}</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t{/* <Envio_General className=\"mt-3\" /> */}\r\n\t\t\t\t\t\t\t\t{costoEnvio.promocionEnvio ?  costoEnvio.descuento !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-3 font-vista-prod\"\r\n\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\tcostoEnvio.descuento !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>¡En compras arriba de ${costoEnvio.promocionEnvio} el envío será GRATIS!</p>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>¡En compras arriba de $${costoEnvio.promocionEnvio}, el envío será GRATIS!</p>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{productos.genero === 'Ninguno' && !productos.color && !productos.colorHex ? (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t{productos.genero === 'Ninguno' ? (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-vista-prod\" style={{ fontWeight: \"bold\", marginBottom: 10 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGénero:\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tag className=\"font-vista-prod color-tags\" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t{productos.genero}\r\n\t\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{!productos.color && !productos.colorHex ? (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-vista-prod\" style={{ marginBottom: 5 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<spam style={{fontWeight: \"bold\"}} >Color:</spam> {productos.color}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-circle ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 30, width: 30, backgroundColor: productos.colorHex }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<TallasCantidades producto={productos} /> {/* Componente tallas */}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<p className=\"font-vista-prod mb-3 formas-pago\" >\r\n\t\t\t\t\t\t\t<CreditCardOutlined style={{ fontSize: 25 }} className=\"mr-2\" />\r\n\t\t\t\t\t\t\tFormas de Pago\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"contenedor-img-tarjetas\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"tarjetas de credito\"\r\n\t\t\t\t\t\t\t\tclassName=\"img-tarjetas\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://www.paymentmedia.com/gallery/5b927b5d6fc472000px-Mastercard-logo.svg.jpg\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"tarjetas de credito\"\r\n\t\t\t\t\t\t\t\tclassName=\"img-tarjetas\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://logos-marcas.com/wp-content/uploads/2020/04/Visa-Logo.png\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<div className=\"descripcion-sm\">\r\n\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t<p className=\"font-secun text-center\">Descripcion:</p>\r\n\t\t\t\t\t\t\t<div style={{textAlign: 'justify' }} className=\"px-3\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={readMore}\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{readMore === 'read-less' ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-secun texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\t\tVer más...\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-secun texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\t\tVer menos\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<InfoTienda />\r\n\t\t\t\t\t\t{/* Componente informacion de la tienda */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"descripcion-sm\">\r\n\t\t\t\t\t\t<Sugerencia producto={producto} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* ### Componenete de productos similares */}\r\n\t\t\t\t<Row className=\"mt-5\">\r\n\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t<Scroll productos={productos} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(VistaProductos);\r\n","import React, { Fragment, useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../config/axios';\r\nimport { notification, Row, Breadcrumb, Button } from 'antd';\r\nimport Card_Producto from '../../pages/users/Productos/Cards_Normales/card_producto'\r\nimport Spin from '../Spin';\r\nimport './busqueda_categorias.scss';\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nfunction BusquedaCategorias(props) {\r\n\tconst categoria = props.match.params.categoria;\r\n\tconst subcategoria = props.match.params.subcategoria;\r\n\tconst temporada = props.match.params.temporada;\r\n\tconst genero = props.match.params.genero;\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ resultado, setResultado ] = useState([]);\r\n\tconst { reloadFilter, setReloadFilter, colores } = useContext(MenuContext);\r\n\tconst [ todosProductos, setTodosProductos ] = useState(false);\r\n\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, temporada, genero) => {\r\n\t\tlet cat = categoria;\r\n\t\tlet sub = subcategoria;\r\n\t\tlet temp = temporada;\r\n\t\tlet gen = genero;\r\n\r\n\t\tif (categoria === 'null') {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === 'null') {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === 'null' || genero === 'Todos') {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\t\tif(temporada === 'null'){\r\n\t\t\ttemp = '';\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}&temporada=${temp}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetResultado(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTodosProductos(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerTodos = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/sinPaginacion`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetResultado(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetReloadFilter(!reloadFilter);\r\n\t\tobtenerTodos();\r\n\t\tsetTodosProductos(true);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tlimpiarFiltros();\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, temporada, genero);\r\n\t\t},\r\n\t\t[ props.location ]\r\n\t);\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\ttext: {\r\n\t\t\tcolor: colores.bodyPage.text,\r\n\t\t\t\"& .bread-font\": {\r\n\t\t\t\tcolor: colores.bodyPage.text,\r\n\t\t\t},\r\n\t\t\t\"& .ant-breadcrumb-separator\": {\r\n\t\t\t\tcolor: colores.bodyPage.text,\r\n\t\t\t}\r\n\t\t},\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n\tconst result = resultado.map((productos) => <Card_Producto key={productos._id} productos={productos} />);\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t<div className={\"my-4 mx-3 \" + classes.text}>\r\n\t\t\t\t\t<h3 className={\"d-inline mr-3 font-prin \" + classes.text}>{resultado.length} resultados en el menu: </h3>\r\n\t\t\t\t\t{todosProductos ? (\r\n\t\t\t\t\t\t<h3  className={\"d-inline font-prin \" + classes.text}>Todos los productos</h3>\r\n\t\t\t\t\t): (\r\n\t\t\t\t\t\t<Breadcrumb separator=\">\" className={\"d-inline font-prin \" + classes.text}>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font\">{categoria !== 'null' ? categoria : null}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font\">{subcategoria !== 'null' ? subcategoria : null}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font\">{temporada !== 'null' ? temporada : null}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font\">{genero !== 'null' ? genero : null}</Breadcrumb.Item>\r\n\t\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button type=\"primary\" size=\"large\" className=\"mt-3 color-boton\" onClick={limpiarFiltros}>\r\n\t\t\t\t\t\t\tLimpiar filtros\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t\t{result}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Spin>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nexport default BusquedaCategorias;\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"404\"\r\n        subTitle=\"Ups, Parece que esta pagina no existe.\"\r\n        \r\n      />\r\n    )\r\n}","import React,{useState,useEffect} from 'react';\r\nimport { notification, Form, Input, Button,Alert  } from 'antd';\r\nimport {useParams} from 'react-router-dom';\r\nimport clienteAxios from '../../config/axios';\r\nimport './Recuperacion_pass.scss';\r\n\r\n\r\nconst layout = {\r\n    labelCol: { span: 6 },\r\n    wrapperCol: { span: 14 }\r\n};\r\n\r\nexport default function Recuperar_pass(props) {\r\n\r\n/*     const {location,history} = props; */\r\n    const {idRecuperacion} = useParams();\r\n\r\n    const [mostrarError, setmostrarError] = useState(\"d-none\");\r\n    const [acceso, setAcceso] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setAcceso(false);\r\n        const cambiarEstadoPass = async () => {\r\n            await clienteAxios.put(`/cliente/restablecer/pass/${idRecuperacion}`)\r\n            .then((res) => {\r\n                setAcceso(false);\r\n            })\r\n            .catch((err) => {\r\n                setAcceso(true);\r\n            })\r\n        }\r\n        cambiarEstadoPass();\r\n    }, [])\r\n\r\n    const onFinish = async (values) => {\r\n        const {password,confirmPassword} = values;\r\n        if(password !== confirmPassword){\r\n            setmostrarError(\"\");\r\n        }else{\r\n            const datos = {\r\n                password,\r\n                confirmPassword,\r\n                idRecuperacion,\r\n            }\r\n            await clienteAxios.put('/cliente/reset/pass/',datos)\r\n            .then((res) => {\r\n                const token = res.data.token;\r\n                localStorage.setItem('token', token);\r\n            })\r\n            .catch((err) => {\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: 'Hubo un error',\r\n                    duration: 2\r\n                });\r\n            })\r\n            props.history.push('/');\r\n        }\r\n    }\r\n\r\n    if(acceso){\r\n        props.history.push('/');\r\n    }\r\n    \r\n\r\n    return (\r\n        <FormResetPass onFinish={onFinish} mostrarError={mostrarError} />\r\n    )\r\n}\r\n\r\n\r\nfunction FormResetPass(props){\r\n    const { onFinish,mostrarError} = props;\r\n    return(\r\n        <div className=\"centrar-div\">\r\n            <div className=\"div-resetPass shadow col-12 col-lg-4 bg-white rounded\">\r\n                <p className=\"text-center my-4\">Recuperacion de contraseña</p>\r\n                <Form {...layout}  name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n                    <Form.Item label=\"Contraseña\" >\r\n                        <Form.Item name=\"password\" rules={[ { required: true, message: 'Rellenar los campos' } ]} noStyle >\r\n                            <Input.Password />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Confirmar contraseña\" >\r\n                        <Form.Item name=\"confirmPassword\" rules={[ { required: true, message: 'Rellenar los campos' } ]} noStyle >\r\n                            <Input.Password />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n                    <Alert\r\n                        className={`my-4 ${mostrarError}`}\r\n                        message=\"Contraseña distintas\"\r\n                        description=\"Las contraseñas son distintas, favor de poner la misma\"\r\n                        type=\"error\"\r\n                    />\r\n                    <Form.Item className=\"d-flex justify-content-center align-items-center text-center\" >\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\">\r\n                            Continuar\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","//layout\r\nimport LayoutAdmin from '../components/Layout_admin/LayoutAdmin'\r\nimport LayoutBasic from '../components/Layout/Layout'\r\n\r\n//Admin pages\r\nimport AdminHome from '../pages/admin/Principal/principal'\r\nimport RegistrarProductos from '../pages/admin/Productos/productos'\r\nimport Pedidos from '../pages/admin/Pedidos/pedidos'\r\nimport Promociones from '../pages/admin/Promociones/promociones_principal'\r\nimport SistemaApartado from '../pages/admin/Apartado/apartado'\r\nimport Inventario from '../pages/admin/Inventario/inventario'\r\nimport Sugerencias from '../pages/admin/Sugerencias/sugerencias'\r\nimport Carousel from '../pages/admin/Carousel/carousel'\r\nimport Publicidad from '../pages/admin/Publicidad/publicidad'\r\nimport BlogAdmin from '../pages/admin/Blog/blog'\r\nimport Clientes from '../pages/admin/Clientes/clientes'\r\nimport RegistroPublicidad from '../pages/admin/Publicidad/services/registro'\r\n\r\n//Users pages\r\nimport Home from '../pages/users/home'\r\nimport Entrar from '../pages/users//Inicio_sesion/entrar'\r\nimport QuienesSomos from '../pages/users/Quienes_somos/quienes_somos';\r\nimport ShoppingCart from '../pages/users/Carrito/shopping_cart'\r\nimport Productos from '../pages/users/Productos/productos'\r\nimport Blog from '../pages/users/Blogs/blog';\r\nimport PedidosUsuario from '../pages/users/Pedidos/pedidos'\r\nimport Ofertas from '../pages/users/Ofertas/ofertas'\r\nimport ResultadoBusqueda from '../pages/users/Resultado_Busqueda/resultado_busqueda'\r\nimport Perfiles from '../pages/users/Perfiles/perfiles'\r\nimport Confirmacion_compra from '../pages/users/Confirmacion_compra/confirmacion_compra'\r\n\r\n\r\n\r\nimport Politicas from '../pages/users/Politicas/politicas'\r\n//Secondary Component\r\nimport VistaProducto from '../pages/users/Vista_Producto/vista_producto'\r\nimport BusquedaCategorias from '../components/BusquedaCategorias/busqueda_categorias';\r\n\r\n//other\r\nimport Error404 from '../pages/users/error404'\r\nimport Error500 from '../pages/users/error500'\r\nimport Search404 from '../pages/users/Resultado_Busqueda/404'\r\nimport Success from '../pages/users/Success/success';\r\nimport ErrorPago from '../pages/users/Success/error';\r\n\r\nimport Recuperar_pass from '../components/Recuperar_pass/Recuperar_pass';\r\n\r\n\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/admin',\r\n\t\tcomponent: LayoutAdmin,\r\n\t\texact: false,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin',\r\n\t\t\t\tcomponent: AdminHome,\r\n\t\t\t\texact: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/productos',\r\n\t\t\t\tcomponent: RegistrarProductos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/pedidos',\r\n\t\t\t\tcomponent: Pedidos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/promociones',\r\n\t\t\t\tcomponent: Promociones,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/sistema_apartado',\r\n\t\t\t\tcomponent: SistemaApartado,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/inventario',\r\n\t\t\t\tcomponent: Inventario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/inventario/:tipoCategoria',\r\n\t\t\t\tcomponent: Inventario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/blog',\r\n\t\t\t\tcomponent: BlogAdmin,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/sugerencias',\r\n\t\t\t\tcomponent: Sugerencias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/carousel',\r\n\t\t\t\tcomponent: Carousel,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/publicidad',\r\n\t\t\t\tcomponent: Publicidad,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/clientes',\r\n\t\t\t\tcomponent: Clientes,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/banner/:accion/:idBanner',\r\n\t\t\t\tcomponent: RegistroPublicidad,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcomponent: Error404\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: '/resetPass/:idRecuperacion',\r\n\t\tcomponent: Recuperar_pass,\r\n\t\texact: false\r\n\t},\r\n\t{\r\n\t\tpath: '/',\r\n\t\tcomponent: LayoutBasic,\r\n\t\texact: false,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/',\r\n\t\t\t\tcomponent: Home,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/entrar',\r\n\t\t\t\tcomponent: Entrar,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/quienes_somos',\r\n\t\t\t\tcomponent: QuienesSomos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/shopping_cart',\r\n\t\t\t\tcomponent: ShoppingCart,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/productos',\r\n\t\t\t\tcomponent: Productos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/blog',\r\n\t\t\t\tcomponent: Blog,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/blog/:url',\r\n\t\t\t\tcomponent: Blog,\r\n\t\t\t\texact: true\r\n            },\r\n            {\r\n\t\t\t\tpath: '/pedidos',\r\n\t\t\t\tcomponent: PedidosUsuario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/ofertas',\r\n\t\t\t\tcomponent: Ofertas,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/productos',\r\n\t\t\t\tcomponent: Productos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/vista_producto/:url',\r\n\t\t\t\tcomponent: VistaProducto,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/politicas/',\r\n\t\t\t\tcomponent: Politicas,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/searching/:url',\r\n\t\t\t\tcomponent: ResultadoBusqueda,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/searching/',\r\n\t\t\t\tcomponent: Search404,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categorias/:categoria',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categorias/:categoria/:subcategoria',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:categoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:categoria/:subcategoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/filtros/:temporada/:categoria/:subcategoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/perfiles/',\r\n\t\t\t\tcomponent: Perfiles,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/confirmacion_compra/:url',\r\n\t\t\t\tcomponent: Confirmacion_compra,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/error500/',\r\n\t\t\t\tcomponent: Error500,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/success/:id',\r\n\t\t\t\tcomponent: Success,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/error/:id/:error',\r\n\t\t\t\tcomponent: ErrorPago,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcomponent: Error404\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n];\r\n\r\nexport default routes;\r\n","import React, { useCallback, useContext, useEffect } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { Layout } from 'antd';\r\nimport Navegacion from '../../components/Navegacion/Navegacion';\r\n/* import Categorias from '../Categorias/Categorias'; */\r\nimport FooterPage from '../../components/Footer/Footer';\r\nimport './layout.scss';\r\nimport { MenuContext } from '../../context/carritoContext';\r\n// import clienteAxios from '../../config/axios';\r\n// import jwt_decode from 'jwt-decode';\r\nimport ColorCustomizer from '../Colors/colores';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport MantenimientoImg from './Mantenimiento.png';\r\n\r\nexport default function LayoutBasic(props) {\r\n\tconst { routes } = props;\r\n\tconst { Content, Footer } = Layout;\r\n\tconst {colores } = useContext(MenuContext);\r\n\tconst production = false;\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.bodyPage.background\r\n\t\t},\r\n\t});\r\n\t\r\n\tconst classes = useStyles();\r\n\r\n\tif(!production){\r\n\t\treturn (\r\n\t\t\t<div style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\", height: \"100vh\", border: \"1px black solid\"}}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<img style={{width: \"700px\"}} src={MantenimientoImg} />\r\n\t\t\t\t\t<p style={{fontSize: \"40px\", textAlign: \"center\"}}>Estamos en mantenimiento</p>\r\n\t\t\t\t\t<p style={{fontSize: \"30px\", textAlign: \"center\"}}>Favor de tener paciencia.</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"body\">\r\n\t\t\t<ColorCustomizer />\r\n\t\t\t<Layout>\r\n\t\t\t\t<div className={\"cuerpo bg-layout \" + classes.background}>\r\n\t\t\t\t\t<Layout>\r\n\t\t\t\t\t\t<Navegacion />\r\n\t\t\t\t\t\t{/* <Categorias /> */}\r\n\t\t\t\t\t\t<Content style={{ height: 'auto' }} className={\"bg-layout \" + classes.background}>\r\n\t\t\t\t\t\t\t<div className=\"site-layout-content flex\">\r\n\t\t\t\t\t\t\t\t<LoadRoutes routes={routes} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer className=\"foot\" style={{ margin: 0, padding: 0 }}>\r\n\t\t\t\t\t<FooterPage style={{ margin: 0, padding: 0 }} />\r\n\t\t\t\t</Footer>\r\n\t\t\t</Layout>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction LoadRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route key={index} path={route.path} exact={route.exact} component={route.component} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React from 'react';\r\nimport Carousel from './Carusel_ofertas/carousel';\r\n/* import ConsultaProductos from './Productos/consulta_productos'; */\r\n/* import Ofertas from './Ofertas/ofertasHome';\r\nimport BannerInformativo from './Datos_tienda/banner_informativo' */\r\nimport Consulta_Banners from './BannerPromociones/consultaBanners';\r\n/* import Banner_Promocionales from './BannerPromociones/bannerPromocionales';\r\nimport Datos_tienda from './Datos_tienda/datos_tienda';\r\nimport OfertasIzquierda from './Ofertas/OfertasHome/ofertasIzquierda';\r\nimport OfertasDerecha from './Ofertas/OfertasHome/ofertasDerecha';\r\nimport OfertasCentro from './Ofertas/OfertasHome/ofertasCentro'; */\r\n\r\nimport './home.scss'\r\n\r\nexport default function Home(props) {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Carousel />\r\n\t\t\t{/* <div className=\"contenedor-home-background\">\r\n\t\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t\t<div className=\"text-center textos-home col-lg-4 col-12\">\r\n\t\t\t\t\t\t\t<h2 className=\"mb-0\">REALIZA TU PAGO EN LÍNEA</h2>\r\n\t\t\t\t\t\t\t<p>ACEPTAMOS PAGOS CON TARJETA</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-center textos-home divider-home-banner col-lg-4 col-12 \">\r\n\t\t\t\t\t\t\t<h2 className=\"mb-0\">ENVÍO GRATUITO</h2>\r\n\t\t\t\t\t\t\t<p>EN PEDIDOS MAYORES A $1500.00</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-center textos-home col-lg-4 col-12\">\r\n\t\t\t\t\t\t\t<h2 className=\"mb-0\">APARTA TU PRODUCTO FAVORITO</h2>\r\n\t\t\t\t\t\t\t<p>PUEDES APARTAR TU PEDIDO Y PASAR POR EL</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> */}\r\n\t\t\t{/* <Ofertas /> */}\r\n\t\t\t<Consulta_Banners/>\r\n\t\t\t{/* <ConsultaProductos propiedades={props} /> */}\r\n            {/* <Datos_tienda /> */}\r\n\t\t\t{/* <OfertasIzquierda /> */}\r\n\t\t\t{/* <OfertasDerecha /> */}\r\n\t\t\t{/* <OfertasCentro /> */}\r\n\t\t\t{/* <BannerInformativo /> */}\r\n\t\t\t\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport Spin from '../../../components/Spin';\r\n\r\nexport default function QuienesSomos() {\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [imagenCorp, setImagenCorp] = useState([]);\r\n\r\n    function peticionImagenCoorporativa(){\r\n        clienteAxios.get('/tienda/')\r\n            .then((res) => {\r\n                setLoading(false)\r\n                if (res.data[0].politicas !== \"\") {\r\n                    setImagenCorp(res.data[0].imagenCorp)\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                if(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n            });\r\n    }\r\n    \r\n    useEffect(() => {\r\n        peticionImagenCoorporativa();\r\n        setLoading(true)\r\n    }, [])\r\n\r\n    return (\r\n        <Spin spinning={loading}>\r\n            <div className=\"container bg-white shadow mb-5\">\r\n                <div style={{lineHeight: \"35px\",color:\"black\"}} dangerouslySetInnerHTML={{__html: imagenCorp}} className='mt-5 px-4' />\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport MostrarDatosProductos from './MostrarDatosCarrito';\r\nimport { CarritoProvider } from './context_carrito/context-carrito';\r\n\r\nexport default function ShoppingCart() {\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<div style={{ background: 'white' }} className=\"shadow\">\r\n\t\t\t\t<CarritoProvider>\r\n\t\t\t\t\t<MostrarDatosProductos />\r\n\t\t\t\t</CarritoProvider>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"Escribe el nombre del producto que deseas buscar\"\r\n      />\r\n    )\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport ActualizarUsuario from './service/ActualizarUsuario';\r\nimport Spin from '../../../components/Spin';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\n\r\nexport default function Perfiles(props) {\r\n\tconst [ datosUser, setDatosUser ] = useState(null);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst { colores } = useContext(MenuContext);\r\n\r\n\t//Obtener token de localStorage\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t//Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t//Verificar el JWT\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== false) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif (token === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tsetLoading(false);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tobtenerDatosUser();\r\n\t\t\tsetAccion(false);\r\n\t\t},\r\n\t\t[ accion ]\r\n\t);\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\ttext: {\r\n\t\t\tcolor: colores.bodyPage.text\r\n\t\t}\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container col-lg-6\">\r\n\t\t\t\t<h1 className={\"mt-5 text-center font-prin\" + classes.text} >Bienvenido a tu perfil</h1>\r\n\t\t\t\t<div className=\"mt-3 px-5 mx-auto\" style={{ background: 'white', left: '50%' }}>\r\n\t\t\t\t\t<ActualizarUsuario\r\n\t\t\t\t\t\tdatosUser={datosUser}\r\n\t\t\t\t\t\tdecoded={decoded}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tsetAccion={setAccion}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error500 () {\r\n    return (\r\n        <Result\r\n        status=\"500\"\r\n        title=\"Error del servidor\"\r\n        subTitle=\"Ups, Parece que hubo un error con el servidor.\"\r\n      />\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Result, Button, notification, Divider } from 'antd';\r\nimport { Avatar } from 'antd';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport './success.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport aws from '../../../config/aws';\r\nimport Spin from '../../../components/Spin';\r\n\r\nexport default function Success(props) {\r\n\tconst pedidoID = props.match.params.id;\r\n\tconst [ pedido, setPedido ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst obtenerPedido = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${pedidoID}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif(res.data.length === 0){\r\n\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t}\r\n\t\t\t\tsetPedido(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/');\r\n\t\t} else {\r\n\t\t\tobtenerPedido();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tif (pedido.pedido) {\r\n\t\tvar avatar_productos = pedido.pedido.map((pedido) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Avatar\r\n\t\t\t\t\tsize={75}\r\n\t\t\t\t\tkey={pedido._id}\r\n\t\t\t\t\tsrc={aws+pedido.producto.imagen}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t});\r\n\t\tvar nombre_productos = pedido.pedido.map((pedido) => {\r\n\t\t\treturn <p key={pedido._id}>{pedido.producto.nombre}</p>;\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"contenedor-bgcolor-success\">\r\n\t\t\t<div className=\"contenedor-success m-5 shadow-lg\">\r\n\t\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\tclassName=\"result-pago\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"swal2-icon swal2-success swal2-animate-success-icon\"\r\n\t\t\t\t\t\t\t\tstyle={{ display: 'flex' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"swal2-success-circular-line-left\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: 'rgb(255, 255, 255)' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-success-line-tip\" />\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-success-line-long\" />\r\n\t\t\t\t\t\t\t\t<div className=\"swal2-success-ring\" />\r\n\t\t\t\t\t\t\t\t<div className=\"swal2-success-fix\" style={{ backgroundColor: 'rgb(255, 255, 255)' }} />\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"swal2-success-circular-line-right\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: 'rgb(255, 255, 255)' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle=\"Pago realizado exitosamente\"\r\n\t\t\t\t\t\tsubTitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tEl ID del pedido es <strong> {pedido._id}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<Divider>Detalles del pedido</Divider>\r\n\t\t\t\t\t\t\t\t<div className=\"m-2\">{avatar_productos}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t\t\t<h6>Productos:</h6>\r\n\t\t\t\t\t\t\t\t\t<div>{nombre_productos}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t<h5>Total del pedido:</h5>\r\n\t\t\t\t\t\t\t\t\t<h4>${formatoMexico(pedido.total)}</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\textra={[\r\n\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" className=\"mb-3 color-boton\">\r\n\t\t\t\t\t\t\t\t\tIr a Pagina principal\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Result, Button } from 'antd';\r\nimport './success.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function ErrorPago(props) {\r\n\tconst pedidoID = props.match.params.id;\r\n\tconst error = props.match.params.error;\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/');\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"contenedor-bgcolor-error\">\r\n\t\t\t<div className=\"contenedor-error m-5 shadow-lg\">\r\n\t\t\t\t<Result\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t<div className=\"swal2-icon swal2-error swal2-animate-error-icon\" style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t\t<span className=\"swal2-x-mark\">\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-x-mark-line-left\" />\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-x-mark-line-right\" />\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttitle=\"Tu pago no ha sido aprovado\"\r\n\t\t\t\t\tsubTitle={error}\r\n\t\t\t\t\textra={[\r\n\t\t\t\t\t\t<Link key=\"principal\" to=\"/\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" className=\"color-boton\">\r\n\t\t\t\t\t\t\t\tIr a pagina principal\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n{/* <Link key=\"reintentar\" to={`/confirmacion_compra/${pedidoID}`}>\r\n\t<Button type=\"primary\" ghost className=\"mb-3 color-boton-sec\">\r\n\t\tReintentar\r\n\t</Button>\r\n</Link>; */}\r\n","import React, {useCallback, useContext, useEffect, useState}  from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'antd/dist/antd.css';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport routes from './config/routes';\r\nimport { Helmet } from 'react-helmet';\r\n\r\n\r\nimport { MenuContext } from './context/carritoContext';\r\nimport clienteAxios from './config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport './scss/styleKryspi.scss';\r\n\r\nexport default function App() {\r\n\r\n\tconst { setDatosContx, setLoading, active, setColores } = useContext(MenuContext);\r\n\tconst [nombreTienda, setNombreTienda] = useState('');\r\n\tvar decoded = { _id: '' };\r\n\tconst token = localStorage.getItem('token');\r\n\tif (token !== null) decoded = Jwt(token);\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tconst obtenerInformacionTienda = useCallback(\r\n\t\tasync () => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(`/home/${decoded._id ? decoded._id : null}`, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst datos = res.data;\r\n\t\t\t\t\tsetDatosContx(datos);\r\n\t\t\t\t\t// console.log(datos.tienda[0]);\r\n\t\t\t\t\tif(datos.tienda.length > 0){\r\n\t\t\t\t\t\tsetNombreTienda(datos.tienda[0].nombre ? datos.tienda[0].nombre : 'Sin nombre');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (datos.tienda.length > 0 && datos.tienda[0].colorPage) {\r\n\t\t\t\t\t\tconst colores = datos.tienda[0].colorPage;\r\n\t\t\t\t\t\tsetColores({\r\n\t\t\t\t\t\t\tnavPrimary: {\r\n\t\t\t\t\t\t\t\ttext: colores.navPrimary.text,\r\n\t\t\t\t\t\t\t\tbackground: colores.navPrimary.background,\r\n\t\t\t\t\t\t\t\thoverText: colores.navPrimary.hoverText,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tnavSecondary: {\r\n\t\t\t\t\t\t\t\ttext: colores.navSecondary.text,\r\n\t\t\t\t\t\t\t\tbackground: colores.navSecondary.background,\r\n\t\t\t\t\t\t\t\thoverText: colores.navSecondary.hoverText,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tbodyPage: {\r\n\t\t\t\t\t\t\t\ttext: colores.bodyPage.text,\r\n\t\t\t\t\t\t\t\tbackground: colores.bodyPage.background,\r\n\t\t\t\t\t\t\t\thoverText: colores.bodyPage.hoverText,\r\n\t\t\t\t\t\t\t\tcard: {\r\n\t\t\t\t\t\t\t\t\ttext: colores.bodyPage.card.text,\r\n\t\t\t\t\t\t\t\t\tbackground: colores.bodyPage.card.background,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfooter: {\r\n\t\t\t\t\t\t\t\ttext: colores.footer.text,\r\n\t\t\t\t\t\t\t\tbackground: colores.footer.background\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t[ decoded._id, token, setDatosContx, setLoading ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerInformacionTienda();\r\n\t\t},\r\n\t\t[ obtenerInformacionTienda, active ]\r\n\t);\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<meta charSet=\"utf-8\" />\r\n\t\t\t\t<title>{nombreTienda}</title>\r\n\t\t\t</Helmet>\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Switch>{routes.map((route, index) => <RoutesWithSubRoutes key={index} {...route} />)}</Switch>\r\n\t\t\t\t</Router>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction RoutesWithSubRoutes(route) {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\tpath={route.path}\r\n\t\t\texact={route.exact}\r\n\t\t\trender={(props) => <route.component routes={route.routes} {...props} />}\r\n\t\t/>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css'\r\nimport App from './App';\r\nimport { MenuProvider } from './context/carritoContext';\r\n\r\nReactDOM.render(\r\n  <MenuProvider>\r\n    <App />\r\n  </MenuProvider>,\r\n  document.getElementById('root')\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/especial2.c53fde15.png\";","module.exports = __webpack_public_path__ + \"static/media/especial3.9fee3add.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo3.64c04b06.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo1.e4c091d3.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo5.dfa26b4b.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo6.5b57f8ec.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo2.39e535fe.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo4.815bd584.png\";","module.exports = __webpack_public_path__ + \"static/media/especial1.5c60fb7f.png\";","module.exports = __webpack_public_path__ + \"static/media/Mantenimiento.9219476e.png\";","module.exports = __webpack_public_path__ + \"static/media/visa.d2eb00b7.png\";","module.exports = __webpack_public_path__ + \"static/media/mastercard.ae0915fe.png\";","module.exports = __webpack_public_path__ + \"static/media/chip-tarjeta.6611645b.png\";"],"sourceRoot":""}